{
  "code": "import ADManager, { TaT } from \"../../TJ/Admanager\";\r\nimport { Admin, DataAdmin, Tools } from \"./Lwg\";\r\nimport { _GameAni } from \"./_GameAni\";\r\nimport { _GameData } from \"./_GameData\";\r\nimport { _GameEffects2D } from \"./_GameEffects2D\";\r\nimport { _PersonalInfo } from \"./_PersonalInfo\";\r\nexport var _Ranking;\r\n(function (_Ranking) {\r\n    class RankingItem extends DataAdmin._Item {\r\n        get $rankNum() {\r\n            return this.$data ? this.$data['rankNum'] : null;\r\n        }\r\n        ;\r\n        get $fansNum() {\r\n            return this.$data ? this.$data['fansNum'] : null;\r\n        }\r\n        ;\r\n        $render() {\r\n            if (this.$data[_GameData._Ranking._ins()._property.$classify] === _GameData._Ranking._ins()._classify.self) {\r\n                this._ImgChild('Board').skin = `Game/UI/Ranking/x_di.png`;\r\n                this._LableChild('Name').text = _PersonalInfo._name.value;\r\n            }\r\n            else {\r\n                this._ImgChild('Board').skin = `Game/UI/Ranking/w_di.png`;\r\n                this._LableChild('Name').text = this.$data[_GameData._Ranking._ins()._property.$name];\r\n            }\r\n            this._LableChild('RankNum').text = String(this.$rankNum);\r\n            this._LableChild('FansNum').text = String(this.$fansNum);\r\n            const IconPic = this._LableChild('Icon').getChildAt(0);\r\n            IconPic.skin = this.$data[_GameData._Ranking._ins()._otherPro.iconSkin];\r\n        }\r\n    }\r\n    _Ranking.RankingItem = RankingItem;\r\n    class Ranking extends Admin._SceneBase {\r\n        lwgOnAwake() {\r\n            ADManager.TAPoint(TaT.PageShow, 'rankpage');\r\n            _GameData._Ranking._ins()._List = this._ListVar('List');\r\n            if (_GameData._Ranking._ins()._whereFrom === 'Tweeting') {\r\n                _GameData._Ranking._ins()._addProValueForAll(_GameData._Ranking._ins()._otherPro.fansNum, () => {\r\n                    return Tools._Number.randomOneInt(100, 150);\r\n                });\r\n            }\r\n            this._evNotify(_GameData._Start.event.updateRanking);\r\n            _GameData._Ranking._ins()._listRenderScript = RankingItem;\r\n        }\r\n        lwgOpenAni() {\r\n            if (_GameData._Ranking._ins()._whereFrom === 'Tweeting') {\r\n                _GameAni._dialogOpenPopup(this._ImgVar('Content'), this._ImgVar('Background'));\r\n            }\r\n            else {\r\n                _GameAni._dialogOpenFadeOut(this._ImgVar('Content'), this._ImgVar('Background'));\r\n            }\r\n            return 200;\r\n        }\r\n        lwgOpenAniAfter() {\r\n            if (_GameData._Ranking._ins()._whereFrom === 'Tweeting') {\r\n                _GameEffects2D._fireworksCelebrate(() => {\r\n                    !_GameData._Guide._complete && this._openScene('Guide', false, false, () => {\r\n                        this.BtnCloseClick();\r\n                        const gP = this._ImgVar('Content').localToGlobal(new Laya.Point(this._ImgVar('BtnClose').x, this._ImgVar('BtnClose').y));\r\n                        this._evNotify(_GameData._Guide.event.RankingCloseBtn, [gP.x, gP.y]);\r\n                    }, this._Owner.zOrder + 1);\r\n                });\r\n                _GameData._Ranking._ins()._whereFrom = 'Start';\r\n            }\r\n        }\r\n        lwgOnStart() {\r\n            if (_GameData._Ranking._ins()._getProperty(_GameData._Ranking._ins()._pitchName, _GameData._Ranking._ins()._otherPro.rankNum) === 1) {\r\n                _GameData._Ranking._ins()._List.scrollTo(0);\r\n            }\r\n            else {\r\n                if (_GameData._Ranking._ins()._whereFrom === 'Tweeting') {\r\n                    _GameData._Ranking._ins()._listScrollToLast();\r\n                    _GameData._Ranking._ins()._listTweenToPitchChoose(-1, 1500);\r\n                }\r\n                else {\r\n                    _GameData._Ranking._ins()._listScrollToLast();\r\n                    _GameData._Ranking._ins()._listTweenToPitchChoose(-1, 600);\r\n                }\r\n            }\r\n        }\r\n        BtnCloseClick() {\r\n            this._btnUp(this._ImgVar('BtnClose'), () => {\r\n                this._closeScene();\r\n                if (!_GameData._Guide._complete) {\r\n                    this._evNotify(_GameData._Guide.event.closeGuide);\r\n                    this._evNotify(_GameData._Start.event.BtnPersonalInfo);\r\n                }\r\n            });\r\n        }\r\n        lwgButton() {\r\n            if (!_GameData._Guide._complete)\r\n                return;\r\n            this.BtnCloseClick();\r\n        }\r\n        lwgCloseAni() {\r\n            return _GameAni._dialogCloseFadeOut(this._ImgVar('Content'), this._ImgVar('Background'), () => {\r\n                _GameData._Guide._complete && !_GameData._CheckIn._ins()._todayCheckIn && this._openScene('CheckIn', false);\r\n            });\r\n        }\r\n        lwgOnDisable() {\r\n            ADManager.TAPoint(TaT.PageLeave, 'rankpage');\r\n        }\r\n    }\r\n    _Ranking.Ranking = Ranking;\r\n})(_Ranking || (_Ranking = {}));\r\nexport default _Ranking.Ranking;\r\n",
  "references": [
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/TJ/Admanager.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/Lwg.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/_GameAni.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/_GameData.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/_GameEffects2D.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/_Guide.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/_PersonalInfo.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/_Res.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/_Start.ts"
  ]
}
