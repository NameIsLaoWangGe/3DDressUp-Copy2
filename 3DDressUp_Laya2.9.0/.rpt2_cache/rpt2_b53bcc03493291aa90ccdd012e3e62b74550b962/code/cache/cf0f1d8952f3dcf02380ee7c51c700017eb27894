{
  "code": "import ADManager, { TaT } from \"../../TJ/Admanager\";\r\nimport { Admin, Animation2D, TimerAdmin, Tools, Effects3D, } from \"./Lwg\";\r\nimport { _3D } from \"./_3D\";\r\nimport { _GameEffects } from \"./_GameEffects\";\r\nimport { _GameEvent } from \"./_GameEvent\";\r\nimport { _Guide } from \"./_Guide\";\r\nimport { _MakeTailor } from \"./_MakeTailor\";\r\nimport { _Ranking } from \"./_Ranking\";\r\nimport { _RankingData } from \"./_RankingData\";\r\nimport { _TweetingData } from \"./_TweetingData\";\r\nexport var _Start;\r\n(function (_Start) {\r\n    function _init() {\r\n    }\r\n    _Start._init = _init;\r\n    class Start extends Admin._SceneBase {\r\n        lwgOnAwake() {\r\n            let dis = 1.2;\r\n            const interval = 6;\r\n            const _position = [0, -0.05, 0.8];\r\n            const _size = [[0.06, 0.06, 0], [0.06, 0.06, 0]];\r\n            const _parent = new Laya.Sprite3D;\r\n            let _angelspeed = 9.5;\r\n            const _scene3d = _3D._Scene._ins()._Owner;\r\n            _scene3d.addChild(_parent);\r\n            TimerAdmin._frameNumLoop(interval, 1, this, () => {\r\n                for (let index = 0; index < 2; index++) {\r\n                    let angelspeed = index === 1 ? _angelspeed : -_angelspeed;\r\n                    const caller = Effects3D._Particle._spiral(_parent, _position, _size, null, null, null, [dis, dis], [0.025, 0.025], [angelspeed, angelspeed]);\r\n                    caller.frame.func = () => {\r\n                        Effects3D._Particle._fade(_parent, [caller.box.transform.position.x, caller.box.transform.position.y, caller.box.transform.position.z], null, 10, 0.03, 0.03);\r\n                    };\r\n                }\r\n            });\r\n            TimerAdmin._frameNumLoop(2, 10, this, () => {\r\n                for (let index = 0; index < 3; index++) {\r\n                    Effects3D._Particle._starsShine(_3D._Scene._ins()._Owner, [0, 0.5, 0.8], [[0, 0, 0], [0.4, 0.6, 0.4]]);\r\n                }\r\n            });\r\n            ADManager.TAPoint(TaT.PageShow, 'mainpage');\r\n            ADManager.TAPoint(TaT.BtnShow, 'symaker');\r\n            ADManager.TAPoint(TaT.BtnShow, 'lyqmaker');\r\n            ADManager.TAPoint(TaT.BtnShow, 'xzmaker');\r\n            ADManager.TAPoint(TaT.BtnShow, 'change');\r\n            Tools._Node.childrenVisible2D(this._ImgVar('BtnParent'), false);\r\n            _3D._Scene._ins().openStartAni(() => {\r\n                this._ImgVar('BtnTop').pos(_3D._Scene._ins().btnTopPos.x, _3D._Scene._ins().btnTopPos.y);\r\n                this._ImgVar('BtnDress').pos(_3D._Scene._ins().btnDressPos.x, _3D._Scene._ins().btnDressPos.y);\r\n                this._ImgVar('BtnBottoms').pos(_3D._Scene._ins().btnBottomsPos.x, _3D._Scene._ins().btnBottomsPos.y);\r\n                this._ImgVar('BtnDressingRoom').pos(_3D._Scene._ins().btnDressingRoomPos.x, _3D._Scene._ins().btnDressingRoomPos.y);\r\n                for (let index = 0; index < this._ImgVar('BtnParent').numChildren; index++) {\r\n                    const element = this._ImgVar('BtnParent').getChildAt(index);\r\n                    element.visible = false;\r\n                }\r\n            });\r\n        }\r\n        lwgOpenAniAfter() {\r\n            for (let index = 0; index < this._ImgVar('BtnParent').numChildren; index++) {\r\n                const element = this._ImgVar('BtnParent').getChildAt(index);\r\n                element.visible = true;\r\n                const delay = 200 * index;\r\n                Animation2D.bombs_Appear(element, 0, 1, 1.2, 0, 200, () => {\r\n                    if (index === this._ImgVar('BtnParent').numChildren - 1) {\r\n                        TimerAdmin._once(500, this, () => {\r\n                            if (_Start._whereFrom == 'MakePattern') {\r\n                                this._evNotify(_GameEvent.Start.photo);\r\n                                _Start._whereFrom = null;\r\n                            }\r\n                            else {\r\n                                !_Guide._complete.value && this._openScene('Guide', false, false, () => {\r\n                                    this.BtnDressClick();\r\n                                    this._evNotify(_GameEvent.Guide.StartBtnDress, [this._ImgVar('BtnDress').x, this._ImgVar('BtnDress').y]);\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                }, delay);\r\n                _GameEffects._circleExplode(this._Owner, new Laya.Point(element.x, element.y), delay);\r\n            }\r\n        }\r\n        lwgOnStart() {\r\n            this._evNotify(_GameEvent.Start.updateRanking);\r\n        }\r\n        lwgEvent() {\r\n            this._evReg(_GameEvent.Guide.StartOtherBtnClick, () => {\r\n                this.lwgButton();\r\n            });\r\n            this._evReg(_GameEvent.Start.updateRanking, () => {\r\n                let obj = _RankingData._ins()._getPitchObj();\r\n                this._LabelVar('RankNum').text = `${obj[_RankingData._ins()._otherPro.rankNum]}/50`;\r\n            });\r\n            this._evReg(_GameEvent.Start.photo, () => {\r\n                const sp = _3D._Scene._ins().cameraToSprite(this._Owner);\r\n                TimerAdmin._frameOnce(10, this, () => {\r\n                    _TweetingData._ins()._photo.take(this._Owner, 2);\r\n                    sp.destroy();\r\n                    TimerAdmin._frameOnce(10, this, () => {\r\n                        this._openScene('Tweeting_Main', false);\r\n                    });\r\n                });\r\n            });\r\n        }\r\n        BtnDressClick() {\r\n            const Clothes = _MakeTailor._DIYClothes._ins();\r\n            this._btnUp(this._ImgVar('BtnDress'), () => {\r\n                let time = 0;\r\n                this._evNotify(_GameEvent.Guide.closeGuide);\r\n                if (_Guide._complete.value) {\r\n                    time = 300;\r\n                }\r\n                TimerAdmin._once(time, this, () => {\r\n                    _3D._Scene._ins().cameraToSprite(this._Owner);\r\n                    Clothes._pitchClassify = Clothes._classify.Dress;\r\n                    this._openScene('MakeTailor', true, true);\r\n                });\r\n                ADManager.TAPoint(TaT.BtnClick, 'lyqmaker');\r\n            });\r\n        }\r\n        lwgButton() {\r\n            if (!_Guide._complete.value)\r\n                return;\r\n            this.BtnDressClick();\r\n            const Clothes = _MakeTailor._DIYClothes._ins();\r\n            this._btnUp(this._ImgVar('BtnTop'), () => {\r\n                _3D._Scene._ins().cameraToSprite(this._Owner);\r\n                Clothes._pitchClassify = Clothes._classify.Top;\r\n                this._openScene('MakeTailor', true, true);\r\n                ADManager.TAPoint(TaT.BtnClick, 'symaker');\r\n            });\r\n            this._btnUp(this._ImgVar('BtnBottoms'), () => {\r\n                _3D._Scene._ins().cameraToSprite(this._Owner);\r\n                Clothes._pitchClassify = Clothes._classify.Bottoms;\r\n                this._openScene('MakeTailor', true, true);\r\n                ADManager.TAPoint(TaT.BtnClick, 'xzmaker');\r\n            });\r\n            this._btnUp(this._ImgVar('BtnPersonalInfo'), () => {\r\n                this._openScene('PersonalInfo', false);\r\n            });\r\n            this._btnUp(this._ImgVar('BtnRanking'), () => {\r\n                _Ranking._whereFrom = 'Start';\r\n                this._openScene('Ranking', false);\r\n            });\r\n            this._btnUp(this._ImgVar('BtnDressingRoom'), () => {\r\n                ADManager.TAPoint(TaT.BtnClick, 'change');\r\n                _3D._Scene._ins().cameraToSprite(this._Owner);\r\n                this._openScene('DressingRoom', true, true);\r\n            });\r\n        }\r\n        lwgOnDisable() {\r\n            ADManager.TAPoint(TaT.PageLeave, 'mainpage');\r\n        }\r\n    }\r\n    _Start.Start = Start;\r\n})(_Start || (_Start = {}));\r\nexport default _Start.Start;\r\n",
  "references": [
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/TJ/Admanager.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/Lwg.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/LwgOPPO.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_3D.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_Game.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_GameEffects.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_GameEvent.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_Guide.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_MakeTailor.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_Ranking.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_RankingData.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_Tweeting.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_TweetingData.ts"
  ]
}
