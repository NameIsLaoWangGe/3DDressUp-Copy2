{
  "code": "import { Admin, Animation2D, DateAdmin, TimerAdmin, Tools } from \"../Lwg/Lwg\";\r\nimport { _GameAni } from \"./_GameAni\";\r\nimport { _PersonalInfo, _Ranking, _Tweeting } from \"./_GameData\";\r\nexport default class Tweeting_Dynamic extends Admin._SceneBase {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.baseTime = 150;\r\n        this.baseDelay = 200;\r\n    }\r\n    lwgOpenAni() {\r\n        this._ImgVar('Photo').texture = _Tweeting._photo.arr[_Tweeting._photoIndex];\r\n        _GameAni._dialogOpenFadeOut(this._ImgVar('Content'), null, () => {\r\n            Animation2D.scale(this._ImgVar('Head'), 0, 0, 1, 1, this.baseTime * 2, this.baseDelay * 1.5, () => {\r\n                this._closeScene('Tweeting_Main');\r\n                this.bodyTextAppear(() => {\r\n                    Animation2D.scale(this._ImgVar('Middle'), 0, 0, 1, 1, this.baseTime * 2, this.baseDelay * 1.5, () => {\r\n                        Animation2D.scale(this._ImgVar('Bottom'), 0, 0, 1, 1, this.baseTime * 2, this.baseDelay * 1.5, () => {\r\n                            this.replyAppear();\r\n                        });\r\n                    });\r\n                });\r\n            });\r\n        });\r\n        return this.baseTime * 2 + this.baseDelay;\r\n    }\r\n    bodyTextAppear(func) {\r\n        const Body = this._ImgVar('Head').getChildByName('Body');\r\n        _GameAni._charactersEffect(Body, _Tweeting._mainBody.present, () => {\r\n            func();\r\n        });\r\n    }\r\n    ;\r\n    replyAppear() {\r\n        const twoReply = _Tweeting._reply.getTow();\r\n        const time = 500;\r\n        Animation2D.move(this._ImgVar('Reply1'), this._ImgVar('Reply1').x, this._ImgVar('Reply1').y - 500, time, () => {\r\n            _GameAni._charactersEffect(this._LabelVar('Reply1Body'), twoReply[0], () => {\r\n                const LikeNum1 = this._ImgVar('Reply1').getChildByName('Like').getChildByName('Num');\r\n                const time1 = 80;\r\n                const unit1 = Math.round(Tools._Number.randomOneBySection(200, 5000, true) / time);\r\n                let textNum1 = 0;\r\n                TimerAdmin._frameNumLoop(1, time1, this, () => {\r\n                    textNum1 += unit1;\r\n                    LikeNum1.text = textNum1.toString();\r\n                });\r\n                Animation2D.move(this._LabelVar('Reply2'), this._LabelVar('Reply2').x, this._LabelVar('Reply2').y - 500, time1, () => {\r\n                    _GameAni._charactersEffect(this._LabelVar('Reply2Body'), twoReply[1], () => {\r\n                        const LikeNum2 = this._LabelVar('Reply2').getChildByName('Like').getChildByName('Num');\r\n                        const unit2 = Math.round(Tools._Number.randomOneBySection(200, 5000, true) / time1);\r\n                        let textNum1 = 0;\r\n                        TimerAdmin._frameNumLoop(1, time1, this, () => {\r\n                            textNum1 += unit2;\r\n                            LikeNum2.text = textNum1.toString();\r\n                        }, () => {\r\n                            TimerAdmin._frameOnce(60, this, () => {\r\n                                this._openScene('Tweeting_GetFans', false);\r\n                            });\r\n                        });\r\n                    });\r\n                });\r\n            });\r\n        });\r\n    }\r\n    ;\r\n    lwgOnAwake() {\r\n        this._ImgVar('Head').width = this._Owner.width - 160;\r\n        const Icon = this._ImgVar('Head').getChildByName('HeadIcon').getChildAt(0);\r\n        Icon.skin = `Game/UI/Ranking/IconSkin/Ava.png`;\r\n        this._LabelVar('Brief').text = _Tweeting._brief.getOne()[0].toString();\r\n        this._LabelVar('PlayerName').text = _PersonalInfo._name;\r\n        const left = 120;\r\n        this._ImgVar('Middle').width = this._Owner.width - 160;\r\n        this._ImgVar('Collect').x = (this._ImgVar('Middle').width - left * 2) * 0 / 4 + left;\r\n        _Tweeting._forwardedNum += 50;\r\n        this._ImgVar('Forwarded').getChildAt(0).text = _Tweeting._forwardedNum.toString();\r\n        this._ImgVar('Forwarded').x = (this._ImgVar('Middle').width - left * 2) * 1 / 4 + left;\r\n        _Tweeting._commentNum += 50;\r\n        this._ImgVar('Comment').getChildAt(0).text = _Tweeting._commentNum.toString();\r\n        this._ImgVar('Comment').x = (this._ImgVar('Middle').width - left * 2) * 2 / 4 + left;\r\n        _Tweeting._likeNum += 100;\r\n        this._ImgVar('Like').getChildAt(0).text = _Tweeting._likeNum.toString();\r\n        this._ImgVar('Like').x = (this._ImgVar('Middle').width - left * 2) * 3 / 4 + left;\r\n        this._ImgVar('Bottom').width = this._Owner.width - 160;\r\n        const iconArr = Tools._Number.randomCountBySection(1, 20, 2);\r\n        const twoObj = _Ranking._Data._randomCountObj(2);\r\n        for (let index = 0; index < 2; index++) {\r\n            const Reply = this._ImgVar(`Reply${index + 1}`);\r\n            const Icon1 = Reply.getChildByName('HeadIcon').getChildAt(0);\r\n            Icon1.skin = `Game/UI/Tweeting/Head/${iconArr[index]}.jpg`;\r\n            Reply.y += 500;\r\n            const Body = this._LabelVar(`Reply${index + 1}Body`);\r\n            const Time = Reply.getChildByName('Time');\r\n            if (index == 0) {\r\n                Body.text = `${twoObj[0]['name']}: `;\r\n                Time.text = `${DateAdmin._date.month}月${DateAdmin._date.date}日    ${DateAdmin._date.hours}:${DateAdmin._date.minutes - 1 > 0 ? 0 : DateAdmin._date.minutes - 1}`;\r\n            }\r\n            else {\r\n                Time.text = `${DateAdmin._date.month}月${DateAdmin._date.date}日    ${DateAdmin._date.hours}:${DateAdmin._date.minutes}`;\r\n                Body.text = `${twoObj[1]['name']}: `;\r\n            }\r\n        }\r\n        this._ImgVar('Head').scale(0, 0);\r\n        this._ImgVar('Middle').scale(0, 0);\r\n        this._ImgVar('Bottom').scale(0, 0);\r\n    }\r\n    lwgButton() {\r\n        this._btnUp(this._ImgVar('Content'), () => {\r\n            console.log('防止穿透！');\r\n        }, 'null');\r\n    }\r\n    lwgCloseAni() {\r\n        return _GameAni._dialogCloseFadeOut(this._ImgVar('Content'));\r\n    }\r\n    lwgOnDisable() {\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/Lwg.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Game/_GameAni.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Game/_GameData.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Game/_GameEffects2D.ts"
  ]
}
