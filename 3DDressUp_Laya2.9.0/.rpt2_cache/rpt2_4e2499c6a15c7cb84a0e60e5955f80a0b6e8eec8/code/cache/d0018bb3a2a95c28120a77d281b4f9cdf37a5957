{
  "code": "import ADManager, { TaT } from \"../../TJ/Admanager\";\r\nimport { LwgScene, LwgAni2D, LwgAudio, LwgClick, LwgData, LwgDialogue, LwgEff2D, LwgEvent, LwgTimer, LwgTools } from \"../Lwg/Lwg\";\r\nimport { _DIYClothes, _Guide, _MakeTailor, _Tweeting } from \"./_GameData\";\r\nimport { _GameEffects2D } from \"./_GameEffects2D\";\r\nimport { _Res } from \"./_Res\";\r\nimport { _UI } from \"./_UI\";\r\nexport class _TaskClothes extends LwgData._Table {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.moveTime = 600;\r\n    }\r\n    static _ins() {\r\n        if (!this.ins) {\r\n            this.ins = new _TaskClothes('DIY_Task');\r\n        }\r\n        return this.ins;\r\n    }\r\n    again(Scene) {\r\n        const clothesArr = _DIYClothes._ins().getClothesArr();\r\n        const name = _DIYClothes._ins()._pitchName ? _DIYClothes._ins()._pitchName : clothesArr[0]['name'];\r\n        for (let index = 0; index < clothesArr.length; index++) {\r\n            const element = clothesArr[index];\r\n            if (element.name === name) {\r\n                this.LastClothes = element;\r\n                clothesArr[index] = this.Clothes = _DIYClothes._ins().createClothes(name, Scene);\r\n                this.LineParent = this.Clothes.getChildAt(0).getChildByName('LineParent');\r\n                this.setData();\r\n            }\r\n        }\r\n        this.clothesMove();\r\n        LwgAni2D.move_rotate(this.LastClothes, 45, new Laya.Point(Laya.stage.width * 1.5, Laya.stage.height * 1.5), this.moveTime, 0, () => {\r\n            this.LastClothes.removeSelf();\r\n        });\r\n    }\r\n    clothesMove() {\r\n        const time = 700;\r\n        this.Clothes.pos(0, -Laya.stage.height * 1.5);\r\n        this.Clothes.rotation = 45;\r\n        LwgAni2D.move_rotate(this.Clothes, 0, new Laya.Point(Laya.stage.width / 2, Laya.stage.height / 2), time);\r\n    }\r\n    changeClothes(Scene) {\r\n        const clothesArr = _DIYClothes._ins().getClothesArr();\r\n        const name = _DIYClothes._ins()._pitchName ? _DIYClothes._ins()._pitchName : clothesArr[0]['name'];\r\n        const lastName = _DIYClothes._ins()._lastPitchName;\r\n        for (let index = 0; index < clothesArr.length; index++) {\r\n            const element = clothesArr[index];\r\n            if (element.name == name) {\r\n                element.removeSelf();\r\n                this.Clothes = clothesArr[index] = _DIYClothes._ins().createClothes(name, Scene);\r\n                this.LineParent = this.Clothes.getChildAt(0).getChildByName('LineParent');\r\n                this.setData();\r\n            }\r\n            else if (element.name == lastName) {\r\n                this.LastClothes = element;\r\n            }\r\n            else {\r\n                element.removeSelf();\r\n            }\r\n        }\r\n        this.clothesMove();\r\n        this.LastClothes && LwgAni2D.move_rotate(this.LastClothes, -45, new Laya.Point(Laya.stage.width * 1.5, -Laya.stage.height * 1.5), this.moveTime, 0, () => {\r\n            this.LastClothes.removeSelf();\r\n        });\r\n    }\r\n    setData() {\r\n        this._arr = [];\r\n        for (let index = 0; index < this.LineParent.numChildren; index++) {\r\n            const Line = this.LineParent.getChildAt(index);\r\n            if (Line.numChildren > 0) {\r\n                let data = {};\r\n                data['Line'] = Line;\r\n                data[this._property.$name] = Line.name;\r\n                data[this._property.$conditionNum] = Line.numChildren;\r\n                data[this._property.$degreeNum] = 0;\r\n                this._arr.push(data);\r\n            }\r\n        }\r\n    }\r\n}\r\nclass _Scissor extends LwgScene._ObjectBase {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.Ani = {\r\n            vanishP: new Laya.Point(Laya.stage.width + 500, 0),\r\n            shearSpeed: 3,\r\n            range: 40,\r\n            dir: 'up',\r\n            dirType: {\r\n                up: 'up',\r\n                down: 'down',\r\n            },\r\n            paly: () => {\r\n                LwgTimer._clearAll([this.Ani]);\r\n                LwgAni2D._clearAll([this.Ani]);\r\n                LwgTimer._frameLoop(1, this.Ani, () => {\r\n                    if (this._SceneImg('S2').rotation > this.Ani.range) {\r\n                        this.Ani.dir = 'up';\r\n                    }\r\n                    else if (this._SceneImg('S2').rotation <= 0) {\r\n                        this.Ani.dir = 'down';\r\n                    }\r\n                    if (this.Ani.dir == 'up') {\r\n                        this._SceneImg('S1').rotation += this.Ani.shearSpeed * 4;\r\n                        this._SceneImg('S2').rotation -= this.Ani.shearSpeed * 4;\r\n                    }\r\n                    else if (this.Ani.dir == 'down') {\r\n                        this._SceneImg('S1').rotation -= this.Ani.shearSpeed;\r\n                        this._SceneImg('S2').rotation += this.Ani.shearSpeed;\r\n                    }\r\n                });\r\n            },\r\n            stop: () => {\r\n                LwgTimer._frameOnce(30, this.Ani, () => {\r\n                    let time = 100;\r\n                    LwgTimer._clearAll([this.Ani]);\r\n                    LwgAni2D._clearAll([this.Ani]);\r\n                    LwgAni2D.rotate(this._SceneImg('S1'), -this.Ani.range / 3, time);\r\n                    LwgAni2D.rotate(this._SceneImg('S2'), this.Ani.range / 3, time);\r\n                });\r\n            },\r\n            event: () => {\r\n                this._evReg(_MakeTailor._event.scissorAppear, () => {\r\n                    let time = 800;\r\n                    LwgAni2D.move_rotate(this._Owner, this._fRotation + 360, this._fPoint, time, 0, () => {\r\n                        this._Owner.rotation = this._fRotation;\r\n                        this.Move.switch = true;\r\n                        if (!_Guide._complete)\r\n                            this._evNotify(_Guide.event.MakeTailorStartTailor, [this._Owner]);\r\n                    });\r\n                });\r\n                this._evReg(_MakeTailor._event.scissorPlay, () => {\r\n                    this.Ani.paly();\r\n                });\r\n                this._evReg(_MakeTailor._event.scissorStop, () => {\r\n                    this.Ani.stop();\r\n                });\r\n                this._evReg(_MakeTailor._event.scissorRemove, (func) => {\r\n                    this.Move.switch = false;\r\n                    let disX = 1500;\r\n                    let disY = -600;\r\n                    let time = 600;\r\n                    let delay = 100;\r\n                    LwgAni2D.move_rotate(this._Owner, this._Owner.rotation + 360, new Laya.Point(Laya.stage.width / 2, Laya.stage.height / 2), time / 2, delay, () => {\r\n                        this._Owner.rotation = 0;\r\n                        LwgAni2D.move_rotate(this._Owner, -30, new Laya.Point(this._Owner.x - disX / 6, this._Owner.y - disY / 5), time / 2, delay * 1.5, () => {\r\n                            LwgAni2D.move_rotate(this._Owner, LwgTools._Number.randomOneHalf() == 0 ? 720 : -720, new Laya.Point(this._Owner.x + disX, this._Owner.y + disY), time, delay, () => {\r\n                                func && func();\r\n                                this._Owner.rotation = 0;\r\n                                this._Owner.pos(this.Ani.vanishP.x, this.Ani.vanishP.y);\r\n                            });\r\n                        });\r\n                    });\r\n                });\r\n                this._evReg(_MakeTailor._event.scissorAgain, () => {\r\n                    LwgAni2D.move_rotate(this._Owner, this._fRotation, this._fPoint, 600, 100, () => {\r\n                        _TaskClothes._ins().again(this._Scene);\r\n                    });\r\n                });\r\n                this._evReg(_MakeTailor._event.scissorRotation, (rotate) => {\r\n                    LwgTimer._clearAll([this._Owner]);\r\n                    const time = 10;\r\n                    let angle;\r\n                    if (Math.abs(rotate - this._Owner.rotation) < 180) {\r\n                        angle = rotate - this._Owner.rotation;\r\n                    }\r\n                    else {\r\n                        angle = -(360 - (rotate - this._Owner.rotation));\r\n                    }\r\n                    let unit = angle / time;\r\n                    LwgTimer._frameNumLoop(1, time, this._Owner, () => {\r\n                        this._Owner.rotation += unit;\r\n                    });\r\n                });\r\n            },\r\n            effcts: () => {\r\n                const num = LwgTools._Number.randomOneInt(3, 6);\r\n                const color1 = _DIYClothes._ins().getColor()[0];\r\n                const color2 = _DIYClothes._ins().getColor()[1];\r\n                for (let index = 0; index < num; index++) {\r\n                    LwgEff2D._Particle._spray(this._Scene, this._point, [10, 30], null, [0, 360], [LwgEff2D._SkinUrl.三角形1], [color1, color2], [20, 90], null, null, [1, 3], [0.1, 0.2], this._Owner.zOrder - 1);\r\n                }\r\n            }\r\n        };\r\n        this.Move = {\r\n            switch: false,\r\n            touchP: null,\r\n            diffP: null,\r\n        };\r\n    }\r\n    lwgOnAwake() {\r\n        this._Owner.pos(this.Ani.vanishP.x, this.Ani.vanishP.y);\r\n    }\r\n    lwgEvent() {\r\n        this.Ani.event();\r\n    }\r\n    lwgButton() {\r\n        this._btnFour(Laya.stage, (e) => {\r\n            if (this.Move.switch) {\r\n                this._evNotify(_MakeTailor._event.scissorPlay);\r\n                this.Move.touchP = new Laya.Point(e.stageX, e.stageY);\r\n                if (!_Guide._complete)\r\n                    this._evNotify(_Guide.event.MakeTailorCloseTailor, [this._Owner]);\r\n            }\r\n        }, (e) => {\r\n            if (this.Move.touchP && this.Move.switch) {\r\n                this.Move.diffP = new Laya.Point(e.stageX - this.Move.touchP.x, e.stageY - this.Move.touchP.y);\r\n                this._Owner.x += this.Move.diffP.x;\r\n                this._Owner.y += this.Move.diffP.y;\r\n                LwgTools._Node.tieByStage(this._Owner);\r\n                this.Move.touchP = new Laya.Point(e.stageX, e.stageY);\r\n                this._evNotify(_MakeTailor._event.scissorPlay);\r\n            }\r\n        }, () => {\r\n            this._evNotify(_MakeTailor._event.scissorStop);\r\n            this.Move.touchP = null;\r\n            if (!_Guide._complete) {\r\n                this._evNotify(_Guide.event.MakeTailorOpenTailor, [this._Owner]);\r\n            }\r\n        });\r\n    }\r\n    onTriggerEnter(other, _Owner) {\r\n        if (!other['cut'] && this.Move.switch) {\r\n            other['cut'] = true;\r\n            this._evNotify(_MakeTailor._event.scissorPlay);\r\n            this._evNotify(_MakeTailor._event.scissorStop);\r\n            LwgEvent._notify(_MakeTailor._event.scissorTrigger, [other.owner]);\r\n            this.Ani.effcts();\r\n            ADManager.VibrateShort();\r\n        }\r\n    }\r\n}\r\nclass _Item extends LwgData._Item {\r\n    $awake() { }\r\n    ;\r\n    $button() {\r\n        this._btnUp(this._Owner, () => {\r\n            if (!_Guide._complete && this.$name !== 'diy_dress_002_final')\r\n                return;\r\n            if (this.$name === 'ads') {\r\n                return;\r\n            }\r\n            if (this.$complete) {\r\n                if (this.$name !== _DIYClothes._ins()._pitchName) {\r\n                    _DIYClothes._ins()._setPitch(this.$name);\r\n                    this._evNotify(_MakeTailor._event.changeClothes);\r\n                }\r\n            }\r\n            else {\r\n                switch (this.$unlockWay) {\r\n                    case this.$unlockWayType.$check:\r\n                        LwgDialogue.createHint_Middle('请前往签到页面获取');\r\n                        break;\r\n                    case this.$unlockWayType.$customs:\r\n                        LwgDialogue.createHint_Middle(`制作${this.$conditionNum}件才能衣服获取哦！`);\r\n                        break;\r\n                    case this.$unlockWayType.$ads:\r\n                        ADManager.ShowReward(() => {\r\n                            if (_DIYClothes._ins()._checkCondition(this.$name)) {\r\n                                LwgDialogue.createHint_Middle('恭喜获得一件新服装！');\r\n                                _DIYClothes._ins()._setPitch(this.$name);\r\n                                this._evNotify(_MakeTailor._event.changeClothes);\r\n                            }\r\n                        });\r\n                        break;\r\n                    case this.$unlockWayType.$free:\r\n                        LwgDialogue.createHint_Middle(`免费获得`);\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n            if (!_Guide._complete && this.$name == 'diy_dress_002_final') {\r\n                _Guide.MmakeTailorBtnComSwicth = true;\r\n                this._evNotify(_Guide.event.MakeTailorBtnCom);\r\n            }\r\n            ;\r\n        });\r\n    }\r\n    $render() {\r\n        this._LableChild('UnlockWayNum').visible = false;\r\n        if (this.$name == 'ads') {\r\n            if (!this._BoxChild('NativeRoot')) {\r\n                LwgTools._Node.createPrefab(_Res._list.prefab2D.NativeRoot.prefab, this._Owner);\r\n            }\r\n            this._ImgChild('Mask').visible = this._LableChild('UnlockWay').visible = this._ImgChild('AdsSign').visible = this._ImgChild('Icon').visible = this._ImgChild('Board').visible = false;\r\n        }\r\n        else {\r\n            if (!this.$complete) {\r\n                if (this.$unlockWay === _DIYClothes._ins()._unlockWay.$ads) {\r\n                    this._ImgChild('AdsSign').visible = true;\r\n                    this._LableChild('UnlockWay').visible = false;\r\n                    this._ImgChild('Mask').visible = false;\r\n                }\r\n                else {\r\n                    this._ImgChild('AdsSign').visible = false;\r\n                    this._LableChild('UnlockWay').visible = true;\r\n                    switch (this.$unlockWay) {\r\n                        case _DIYClothes._ins()._unlockWay.$check:\r\n                            this._LableChild('UnlockWay').text = '签到';\r\n                            this._LableChild('UnlockWay').fontSize = 30;\r\n                            this._LableChild('UnlockWayNum').visible = false;\r\n                            break;\r\n                        case _DIYClothes._ins()._unlockWay.$customs:\r\n                            this._LableChild('UnlockWay').text = `制作衣服`;\r\n                            this._LableChild('UnlockWay').fontSize = 25;\r\n                            this._LableChild('UnlockWayNum').visible = true;\r\n                            this._LableChild('UnlockWayNum').text = `(${_Tweeting._completeNum} /${this.$conditionNum})`;\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                }\r\n                this._ImgChild('Mask').visible = true;\r\n            }\r\n            else {\r\n                this._ImgChild('Mask').visible = this._ImgChild('AdsSign').visible = this._LableChild('UnlockWay').visible = false;\r\n            }\r\n            this._ImgChild('Icon').gray = !this.$complete;\r\n            if (this._BoxChild('NativeRoot'))\r\n                this._BoxChild('NativeRoot').destroy();\r\n            this._ImgChild('Icon').visible = this._ImgChild('Board').visible = true;\r\n            this._ImgChild('Icon').skin = _DIYClothes._ins().getDIYCutIcon(this.$name);\r\n            this._ImgChild('Board').skin = `Lwg/UI/ui_orthogon_green.png`;\r\n            if (this.$pitch) {\r\n                this._ImgChild('Board').skin = `Game/UI/Common/xuanzhong.png`;\r\n            }\r\n            else {\r\n                this._ImgChild('Board').skin = null;\r\n            }\r\n        }\r\n    }\r\n}\r\nexport default class MakeTailor extends LwgScene._SceneBase {\r\n    lwgOnAwake() {\r\n        ADManager.TAPoint(TaT.PageShow, 'jiancaipage');\r\n        this._ImgVar('BG1').skin = `https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Bg/MakeTailorBG1.png`;\r\n        this._ImgVar('BG2').skin = `https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Bg/MakeTailorBG2.png`;\r\n        this._ImgVar('Scissor').addComponent(_Scissor);\r\n        _DIYClothes._ins()._listRenderScript = _Item;\r\n        _DIYClothes._ins()._List = this._ListVar('List');\r\n        const arr = _DIYClothes._ins()._getArrByPitchClassify();\r\n        _DIYClothes._ins()._listArray = arr;\r\n        _DIYClothes._ins()._setPitch(arr[0][_DIYClothes._ins()._property.$name]);\r\n        if (!_Guide._complete)\r\n            _DIYClothes._ins()._List.scrollBar.touchScrollEnable = false;\r\n    }\r\n    lwgOnStart() {\r\n        this.UI = new _UI(this._Owner);\r\n        LwgTimer._frameOnce(40, this, () => {\r\n            this.UI.operationAppear(() => {\r\n                this.UI.btnAgainVinish(null, 200);\r\n                this.UI.btnCompleteAppear(null, 400);\r\n            });\r\n            this.UI.btnBackAppear(() => {\r\n                !_Guide._complete && this._openScene('Guide', false, false, () => {\r\n                    _Guide.MmakeTailorPulldownSwicth = true;\r\n                    this._evNotify(_Guide.event.MakeTailorPulldown);\r\n                });\r\n            });\r\n        });\r\n        this.UI.BtnRollback.visible = false;\r\n        LwgTimer._frameOnce(20, this, () => {\r\n            _TaskClothes._ins().changeClothes(this._Owner);\r\n        });\r\n    }\r\n    lwgButton() {\r\n        this.UI.btnCompleteClick = () => {\r\n            if (!_Guide._complete) {\r\n                if (!_Guide.MmakeTailorBtnComSwicth) {\r\n                    return;\r\n                }\r\n            }\r\n            this.UI.operationVinish(() => {\r\n                this.UI.btnAgainAppear();\r\n            }, 200);\r\n            LwgTimer._frameOnce(30, this, () => {\r\n                this._evNotify(_MakeTailor._event.scissorAppear);\r\n            });\r\n        };\r\n        if (!_Guide._complete) {\r\n            this._btnFour(_DIYClothes._ins()._List, () => {\r\n                if (_Guide.MmakeTailorPulldownSwicth) {\r\n                    if (!this['Pulldown']) {\r\n                        this['Pulldown'] = 1;\r\n                    }\r\n                }\r\n            }, () => {\r\n                if (this['Pulldown'])\r\n                    this['Pulldown']++;\r\n            }, () => {\r\n                if (_Guide.MmakeTailorPulldownSwicth && this['Pulldown'] && this['Pulldown'] > 2) {\r\n                    _DIYClothes._ins()._List.tweenTo(4, 200, Laya.Handler.create(this, () => {\r\n                        _Guide.MmakeTailorPulldownSwicth = false;\r\n                        this._evNotify(_Guide.event.MakeTailorChangeCloth);\r\n                    }));\r\n                }\r\n                this['Pulldown'] = 1;\r\n            }, null);\r\n            return;\r\n        }\r\n        this.UI.btnAgainClick = () => {\r\n            this._evNotify(_MakeTailor._event.scissorRemove, [() => {\r\n                    _TaskClothes._ins().again(this._Owner);\r\n                }]);\r\n            LwgClick._switch = false;\r\n            LwgTimer._frameOnce(60, this, () => {\r\n                this.UI.operationAppear(() => {\r\n                    this.UI.btnAgainVinish(null, 200);\r\n                    this.UI.btnCompleteAppear();\r\n                });\r\n                LwgClick._switch = true;\r\n            });\r\n        };\r\n    }\r\n    lwgEvent() {\r\n        this._evReg(_MakeTailor._event.changeClothes, () => {\r\n            _TaskClothes._ins().changeClothes(this._Owner);\r\n        });\r\n        this._evReg(_MakeTailor._event.scissorTrigger, (Dotted) => {\r\n            const Parent = Dotted.parent;\r\n            const value = _TaskClothes._ins()._checkCondition(Parent.name);\r\n            Dotted.visible = false;\r\n            let Eraser = Parent.getChildByName('Eraser');\r\n            if (!Eraser) {\r\n                Eraser = new Laya.Sprite;\r\n                Parent.addChild(Eraser);\r\n            }\r\n            if (Eraser.blendMode !== \"destination-out\")\r\n                Eraser.blendMode = \"destination-out\";\r\n            if (Parent.cacheAs !== \"bitmap\")\r\n                Parent.cacheAs = \"bitmap\";\r\n            Eraser.graphics.drawCircle(Dotted.x, Dotted.y, 15, '#000000');\r\n            if (value) {\r\n                if (!_Guide._complete)\r\n                    this._evNotify(_Guide.event.MakeTailorNewTailor, [Parent.name]);\r\n                for (let index = 0; index < _TaskClothes._ins().Clothes.getChildAt(0).numChildren; index++) {\r\n                    const element = _TaskClothes._ins().Clothes.getChildAt(0).getChildAt(index);\r\n                    if (element.name.substr(5, 2) == Dotted.parent.name.substr(4, 2)) {\r\n                        let time = 1500;\r\n                        let disX = LwgTools._Number.randomOneInt(1000) + 1000;\r\n                        let disY = LwgTools._Number.randomOneInt(1000) + 1000;\r\n                        switch (element.name.substr(8)) {\r\n                            case 'U':\r\n                                disX = 0;\r\n                                disY = -disY;\r\n                                break;\r\n                            case 'LU':\r\n                                disX = -disX;\r\n                                disY = -disY;\r\n                                break;\r\n                            case 'L':\r\n                                disX = -disX;\r\n                                disY = 0;\r\n                                break;\r\n                            case 'R':\r\n                                disX = disX;\r\n                                disY = 0;\r\n                                break;\r\n                            case 'RU':\r\n                                disY = -disY;\r\n                                break;\r\n                            case 'D':\r\n                                disX = 0;\r\n                                break;\r\n                            case 'RD':\r\n                                break;\r\n                            case 'LD':\r\n                                disX = -disX;\r\n                                break;\r\n                            default:\r\n                                break;\r\n                        }\r\n                        LwgAni2D.move_rotate(element, 0, new Laya.Point(element.x + disX / 30, element.y + disY / 30), time / 6, 0, () => {\r\n                            let rotate1 = LwgTools._Number.randomOneBySection(180);\r\n                            let rotate2 = LwgTools._Number.randomOneBySection(-180);\r\n                            LwgAni2D.move_rotate(element, LwgTools._Number.randomOneHalf() == 0 ? rotate1 : rotate2, new Laya.Point(element.x + disX, element.y + disY), time, 0, () => {\r\n                                LwgAni2D.fadeOut(element, 1, 0, 200);\r\n                            });\r\n                        });\r\n                    }\r\n                }\r\n                if (_TaskClothes._ins()._checkAllCompelet()) {\r\n                    LwgTools._Node.removeAllChildren(_TaskClothes._ins().LineParent);\r\n                    this._evNotify(_MakeTailor._event.scissorRemove);\r\n                    LwgTimer._frameOnce(80, this, () => {\r\n                        this._evNotify(_MakeTailor._event.completeEffcet);\r\n                    });\r\n                    LwgTimer._frameOnce(280, this, () => {\r\n                        _Tweeting._photo.take(this._Owner, 0);\r\n                        this._openScene('MakePattern', true, true);\r\n                    });\r\n                }\r\n            }\r\n            const gPos = Dotted.parent.localToGlobal(new Laya.Point(Dotted.x, Dotted.y));\r\n            if (Dotted.name == 'A') {\r\n                if (this._ImgVar('Scissor').x <= gPos.x) {\r\n                    this._evNotify(_MakeTailor._event.scissorRotation, [Dotted.rotation]);\r\n                }\r\n                else {\r\n                    this._evNotify(_MakeTailor._event.scissorRotation, [180 + Dotted.rotation]);\r\n                }\r\n            }\r\n            else {\r\n                if (this._ImgVar('Scissor').y >= gPos.y) {\r\n                    this._evNotify(_MakeTailor._event.scissorRotation, [Dotted.rotation]);\r\n                }\r\n                else {\r\n                    this._evNotify(_MakeTailor._event.scissorRotation, [180 + Dotted.rotation]);\r\n                }\r\n            }\r\n        });\r\n        this._evReg(_MakeTailor._event.completeEffcet, () => {\r\n            this.UI.btnBackVinish();\r\n            this.UI.btnAgainVinish();\r\n            LwgAudio._playVictorySound(null, null, null, 0.5);\r\n            const index = LwgTools._Array.randomGetOne([0, 1, 2]);\r\n            switch (index) {\r\n                case 0:\r\n                    this.heartShapedPathEffcet();\r\n                    break;\r\n                case 1:\r\n                    _GameEffects2D._completeCross();\r\n                    break;\r\n                case 2:\r\n                    _GameEffects2D._completeSidelingCross();\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n    lwgOnDisable() {\r\n        ADManager.TAPoint(TaT.PageLeave, 'jiancaipage');\r\n    }\r\n    heartShapedPathEffcet() {\r\n        this._AniVar('complete').play(0, false);\r\n        let _caller = {};\r\n        LwgTimer._frameLoop(1, _caller, () => {\r\n            let gP = this._ImgVar('EFlower').parent.localToGlobal(new Laya.Point(this._ImgVar('EFlower').x, this._ImgVar('EFlower').y));\r\n            LwgEff2D._Particle._fallingVertical(this._Owner, new Laya.Point(gP.x, gP.y - 40), [0, 0], null, null, [0, 360], [LwgEff2D._SkinUrl.花2], [[255, 222, 0, 1], [255, 222, 0, 1]], null, [100, 200], [0.8, 1.5], [0.05, 0.1]);\r\n            LwgEff2D._Particle._fallingVertical(this._Owner, new Laya.Point(gP.x, gP.y), [0, 0], null, null, [0, 360], [LwgEff2D._SkinUrl.花2], [[255, 222, 0, 1], [255, 24, 0, 1]], null, [100, 200], [0.8, 1.5], [0.05, 0.1]);\r\n        });\r\n        this._AniVar('complete').on(Laya.Event.COMPLETE, this, () => {\r\n            LwgTimer._clearAll([_caller]);\r\n        });\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/TJ/Admanager.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/Lwg.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Game/_GameData.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Game/_GameEffects2D.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Game/_Res.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Game/_UI.ts"
  ]
}
