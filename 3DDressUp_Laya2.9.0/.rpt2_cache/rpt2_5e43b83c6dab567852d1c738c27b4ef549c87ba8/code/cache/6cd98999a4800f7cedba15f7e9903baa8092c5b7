{
  "code": "import ADManager, { TaT } from \"../../TJ/Admanager\";\r\nimport { Admin, Animation2D, TimerAdmin, Tools } from \"../Lwg/Lwg\";\r\nimport { _GameAni } from \"./_GameAni\";\r\nimport { _GameData } from \"./_GameData\";\r\nimport { _PersonalInfo } from \"../Lwg/_PersonalInfo\";\r\nexport var _Tweeting_Main;\r\n(function (_Tweeting_Main) {\r\n    class Tweeting_Main extends Admin._SceneBase {\r\n        lwgOnAwake() {\r\n            ADManager.TAPoint(TaT.PageShow, 'weibopage');\r\n            ADManager.TAPoint(TaT.BtnShow, 'photo_choose');\r\n            this._LabelVar('BodyText').text = _GameData._Tweeting._mainBody.getOne();\r\n            this._LabelVar('PlayerName').text = _PersonalInfo._name.value;\r\n            this._ImgVar('IconPic').skin = `Game/UI/Ranking/IconSkin/Ava.png`;\r\n            _GameData._Tweeting._attentionNum += Tools._Number.randomOneInt(50, 100);\r\n            this._LabelVar('AttentionNum').text = _GameData._Tweeting._attentionNum.toString();\r\n            this._LabelVar('FansNum').text = _GameData._Ranking._ins()._getPitchProperty(_GameData._Ranking._ins()._otherPro.fansNum);\r\n            _GameData._Tweeting._completeNum++;\r\n            _GameData._DIYClothes._ins()._checkConditionUnlockWay(_GameData._DIYClothes._ins()._unlockWay.customs, 1);\r\n            this._LabelVar('CompleteNum').text = _GameData._Tweeting._completeNum.toString();\r\n            const heatArr = Tools._Number.randomCountBySection(20, 50, 3);\r\n            heatArr.sort();\r\n            const briefArr = _GameData._Tweeting._brief.getThree();\r\n            const iconArr = Tools._Number.randomCountBySection(1, 20, 3);\r\n            for (let index = 0; index < 3; index++) {\r\n                const Rank = this._ImgVar('Hot').getChildByName(`Rank${index + 1}`);\r\n                const Name = Rank.getChildByName('Name');\r\n                const Tag = Rank.getChildByName('Tag');\r\n                const Brief = Rank.getChildByName('Brief');\r\n                const Heat = Rank.getChildByName('Heat');\r\n                const Icon = Rank.getChildByName('HeadIcon').getChildByName('Icon');\r\n                const data = _GameData._Ranking._ins()._arr[index];\r\n                Name.text = data[_GameData._Ranking._ins()._property.$name];\r\n                Tag.skin = `Game/UI/Tweeting/Main/${index + 1}.png`;\r\n                Brief.text = briefArr[index];\r\n                Heat.text = `本周热度 ${heatArr[index]}万`;\r\n                Icon.skin = `Game/UI/Tweeting/Head/${iconArr[index]}.jpg`;\r\n            }\r\n            for (let index = 0; index < 3; index++) {\r\n                const element = this._ImgVar('BtnChoosePhotos').getChildByName(`Photo${index + 1}`).getChildAt(0);\r\n                if (_GameData._Tweeting._photo.arr[index]) {\r\n                    element.texture = _GameData._Tweeting._photo.arr[index];\r\n                }\r\n            }\r\n            for (let index = 0; index < this._ImgVar('Content').numChildren; index++) {\r\n                const element = this._ImgVar('Content').getChildAt(index);\r\n                element.scale(0, 0);\r\n            }\r\n        }\r\n        lwgAdaptive() {\r\n            this._ImgVar('Head').pos(this._Owner.width - (this._ImgVar('Head').width + 57), this._ImgVar('Head').y);\r\n            this._ImgVar('Hot').pos(this._Owner.width - (this._ImgVar('Hot').width + 41), this._ImgVar('Hot').y);\r\n            this._ImgVar('BtnChoosePhotos').size(this._Owner.width - this._ImgVar('BtnChoosePhotos').x - (this._Owner.width - this._ImgVar('Hot').x) - 30, this._ImgVar('BtnChoosePhotos').height);\r\n            this._ImgVar('PhotoAds').x = this._ImgVar('BtnChoosePhotos').width / 2 - 130 * 2 - 30;\r\n            this._ImgVar('Photo1').x = this._ImgVar('BtnChoosePhotos').width / 2 - 130 - 10;\r\n            this._ImgVar('Photo2').x = this._ImgVar('BtnChoosePhotos').width / 2 + 10;\r\n            this._ImgVar('Photo3').x = this._ImgVar('BtnChoosePhotos').width / 2 + 130 + 30;\r\n            this._ImgVar('Body').size(this._Owner.width - this._ImgVar('BtnChoosePhotos').x - (this._Owner.width - this._ImgVar('Hot').x) - 50, this._ImgVar('Body').height);\r\n            this._ImgVar('BtnChoosePhotos').scale(0, 0);\r\n            this._ImgVar('BtnSet').size(0, 0);\r\n            this._ImgVar('Top').size(this._Owner.width - 100, this._ImgVar('Top').height);\r\n        }\r\n        lwgOpenAni() {\r\n            const baseTime = 150;\r\n            const baseDelay = 200;\r\n            _GameAni._dialogOpenFadeOut(this._ImgVar('Content'), this._ImgVar('Background'), () => {\r\n                Animation2D.scale(this._ImgVar('Top'), 0, 0, 1, 1, baseTime * 1.5, baseDelay * 1);\r\n                Animation2D.scale(this._ImgVar('BtnSet'), 0, 0, 1, 1, baseTime * 1.5, baseDelay * 2);\r\n                Animation2D.scale(this._ImgVar('Body'), 0, 0, 1, 1, baseTime * 1.5, baseDelay * 3);\r\n                Animation2D.scale(this._ImgVar('Head'), 0, 0, 1, 1, baseTime * 1.5, baseDelay * 4);\r\n                Animation2D.scale(this._ImgVar('Hot'), 0, 0, 1, 1, baseTime * 1.5, baseDelay * 5);\r\n                Tools._Node.changePivot(this._ImgVar('BtnChoosePhotos'), this._ImgVar('BtnChoosePhotos').width / 2, this._ImgVar('BtnChoosePhotos').height / 2);\r\n                Animation2D.bombs_Appear(this._ImgVar('BtnChoosePhotos'), 0, 1, 1.08, 0, baseTime * 2, () => {\r\n                    TimerAdmin._once(300, this, () => {\r\n                        this.BtnChoosePhotosClick();\r\n                        !_GameData._Guide._complete && this._openScene('Guide', false, false, () => {\r\n                            this._evNotify(_GameData._Guide.event.TweetingBtnChoosePhoto, [this._ImgVar('BtnChoosePhotos')._lwg.gPoint.x, this._ImgVar('BtnChoosePhotos')._lwg.gPoint.y, this._ImgVar('Photo2')._lwg.gPoint.x + 65, this._ImgVar('Photo2')._lwg.gPoint.y + 65]);\r\n                        });\r\n                    });\r\n                    _GameAni._fadeHint(this._ImgVar('BtnChoosePhotos').getChildByName('HintPic'));\r\n                }, baseDelay * 7);\r\n            });\r\n            return baseDelay * 7 + baseTime * 1.5;\r\n        }\r\n        BtnChoosePhotosClick() {\r\n            this._btnUp(this._ImgVar('BtnChoosePhotos'), () => {\r\n                ADManager.TAPoint(TaT.BtnClick, 'photo_choose');\r\n                this._openScene('Tweeting_ChoosePhotos', false);\r\n            }, 'null');\r\n        }\r\n        lwgButton() {\r\n        }\r\n        lwgCloseAni() {\r\n            return 100;\r\n        }\r\n        lwgOnDisable() {\r\n            ADManager.TAPoint(TaT.PageLeave, 'weibopage');\r\n        }\r\n    }\r\n    _Tweeting_Main.Tweeting_Main = Tweeting_Main;\r\n})(_Tweeting_Main || (_Tweeting_Main = {}));\r\n",
  "references": [
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/TJ/Admanager.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/Lwg.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Game/_GameAni.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Game/_GameData.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/_GameEffects2D.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/_Guide.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/_MakePattern.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/_PersonalInfo.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/_Ranking.ts"
  ]
}
