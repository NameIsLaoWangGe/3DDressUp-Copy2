{
  "code": "import ADManager, { TaT } from \"../../TJ/Admanager\";\r\nimport { Admin, Animation2D, DateAdmin, StorageAdmin, TimerAdmin, Tools } from \"./Lwg\";\r\nimport { _GameAni } from \"./_GameAni\";\r\nimport { _PersonalInfo } from \"./_PersonalInfo\";\r\nimport { _RankingData } from \"./_RankingData\";\r\nimport { _TweetingData } from \"./_TweetingData\";\r\nexport var _Tweeting_Dynamic;\r\n(function (_Tweeting_Dynamic) {\r\n    _Tweeting_Dynamic._photo = {\r\n        arr: [],\r\n        take: (Scene, index) => {\r\n            _Tweeting_Dynamic._photo.arr[index] && _Tweeting_Dynamic._photo.arr[index].destroy();\r\n            _Tweeting_Dynamic._photo.arr[index] = Scene.drawToTexture(Laya.stage.width, Laya.stage.height, 0, 0);\r\n        },\r\n        clear: () => {\r\n            for (let index = 0; index < _Tweeting_Dynamic._photo.arr.length; index++) {\r\n                const element = _Tweeting_Dynamic._photo.arr[index];\r\n                element && element.destroy();\r\n            }\r\n            _Tweeting_Dynamic._photo.arr = [];\r\n            Laya.Resource.destroyUnusedResources();\r\n        }\r\n    };\r\n    _Tweeting_Dynamic._attention = {\r\n        get value() {\r\n            return StorageAdmin._num('_MakePattern/attention', null, 180).value;\r\n        },\r\n        set value(val) {\r\n            StorageAdmin._num('_MakePattern/attention').value = val;\r\n        }\r\n    };\r\n    _Tweeting_Dynamic._completeNum = {\r\n        get value() {\r\n            return StorageAdmin._num('_MakePattern/completeNum').value;\r\n        },\r\n        set value(val) {\r\n            StorageAdmin._num('_MakePattern/completeNum').value = val;\r\n        }\r\n    };\r\n    _Tweeting_Dynamic._forwarded = {\r\n        get num() {\r\n            return StorageAdmin._num('Tweeting/forwarded', null, Tools._Number.randomOneBySection(75, 125, true)).value;\r\n        },\r\n        set num(val) {\r\n            StorageAdmin._num('Tweeting/forwarded').value = val;\r\n        }\r\n    };\r\n    _Tweeting_Dynamic._comment = {\r\n        get num() {\r\n            return StorageAdmin._num('Tweeting/Comment', null, Tools._Number.randomOneBySection(100, 150, true)).value;\r\n        },\r\n        set num(val) {\r\n            StorageAdmin._num('Tweeting/Comment').value = val;\r\n        }\r\n    };\r\n    _Tweeting_Dynamic._like = {\r\n        get num() {\r\n            return StorageAdmin._num('Tweeting/like', null, Tools._Number.randomOneBySection(200, 250, true)).value;\r\n        },\r\n        set num(val) {\r\n            StorageAdmin._num('Tweeting/like').value = val;\r\n        }\r\n    };\r\n    _Tweeting_Dynamic._brief = {\r\n        getThree: () => {\r\n            return Tools._Array.randomGetOut(_Tweeting_Dynamic._brief.all, 3);\r\n        },\r\n        getOne: () => {\r\n            return Tools._Array.randomGetOut(_Tweeting_Dynamic._brief.all);\r\n        },\r\n        all: [\r\n            '世界很烦，但我要很可爱',\r\n            '生活就是见招拆招',\r\n            '忠于自己，热爱生活',\r\n            '我很有个性，但我不想签名',\r\n            'T^T\t',\r\n            '你最怕什么',\r\n            '宁缺毋滥',\r\n            '围脖红人',\r\n            '剪裁大师',\r\n            '剪裁王',\r\n        ]\r\n    };\r\n    _Tweeting_Dynamic._mainBody = {\r\n        getOne: () => {\r\n            return Tools._Array.randomGetOne(_Tweeting_Dynamic._mainBody.all);\r\n        },\r\n        all: [\r\n            '不管几岁，反正少女心万岁≧▽≦',\r\n            '此处可爱贩卖机  24小时正常营业\t',\r\n            '欢迎光临我的手工小店，我会制作更多大家喜欢的衣服哦',\r\n            '现在一定有个很可爱的人，在看我的这句话',\r\n            '辛辛苦苦做了好久，结果很满意，好喜欢哦',\r\n            '大家觉得我这套衣服怎么样',\r\n            '闲来无事，做了一套衣服，感觉还不错',\r\n            '我觉得吧，这次发挥的一般，下次会更好，敬请期待',\r\n            '浮游于这个世界所产生的热能 也比不过喜欢你的热忱\t',\r\n            '时间会把对你最好的人留在最后，毕竟喜欢是一阵风，而爱是细水长流',\r\n            '人生难免遇上些许不如意，翻过这一页就会发现生活处处有美好',\r\n            '也许，只有制作衣服的时候，才会让自己的心静下来',\r\n            '讲道理，我觉得我的手艺还不错，我是不是可以考虑开一家店了？',\r\n            '技术还不太行，需要多多磨炼，再努力做几件衣服吧~',\r\n            '今天心情好，早早地起来做衣服了，我是可爱的小裁缝~啦啦啦~',\r\n            '给妈妈做了件衣服，妈妈说好喜欢~',\r\n            '还有什么可以比做自己喜欢的事更加让人开心的呢~',\r\n            '一些些自己的小设计，就可以让一件衣服焕发生机',\r\n            '也许只是一瞬间的灵感，我将会付之于行动来实现它',\r\n            '对于剪裁和搭配的热情，我不会输给任何人的~',\r\n            '加油，我会成为最好的设计师的，我会爆火！~',\r\n            '坚持不懈，认真对待自己的，努力成为最好的设计师！~',\r\n            '感谢大家的支持，我会努力的',\r\n        ]\r\n    };\r\n    _Tweeting_Dynamic._reply = {\r\n        getTow: () => {\r\n            return Tools._Array.randomGetOut(_Tweeting_Dynamic._reply.all, 2);\r\n        },\r\n        all: [\r\n            '加油，坚持，我看好你哦',\r\n            '好好看，我也想要',\r\n            '那么请问在哪里可以买到呢',\r\n            '有一说一，真的还可以',\r\n            '感觉，你做的越来越好了',\r\n            '我也想和你一样拥有如此灵巧的双手',\r\n            '真的好看，加油',\r\n            '我的天，这也太美了吧',\r\n            'OMG，买他买他！~',\r\n            '沙发~~',\r\n            '点赞这条回复，你会好运连连',\r\n            '求翻牌，你这也太美了吧',\r\n            '太适合仙女了吧',\r\n            '我也想学学，能教教我吗',\r\n            '感觉你能火，坚持，加油',\r\n            '感觉没有什么可以难倒你',\r\n            '我想和你一样心灵手巧',\r\n            '我的天，这是真的太好看了',\r\n            ' U1S1，是真漂亮~',\r\n            '我觉得你还可以更优秀~',\r\n            '不是我杠精，你这个真的，真可以，没的杠',\r\n            '好看是真好看，难也是真的难',\r\n            '感觉我学不会，咋办，好美',\r\n            '仙女穿起来也太好看了吧',\r\n            '花痴脸~这也太美了',\r\n            '坚持，我看好你哦，感觉你能火',\r\n            '天哪，这也太美了吧',\r\n        ]\r\n    };\r\n    class Tweeting_Dynamic extends Admin._SceneBase {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.baseTime = 150;\r\n            this.baseDelay = 200;\r\n            this.Dynamic = {\r\n                init: () => {\r\n                    this._ImgVar('Head').width = this._Owner.width - 160;\r\n                    const Icon = this._ImgVar('Head').getChildByName('HeadIcon').getChildAt(0);\r\n                    Icon.skin = `Game/UI/Ranking/IconSkin/Ava.png`;\r\n                    this._LabelVar('Brief').text = _Tweeting_Dynamic._brief.getOne()[0].toString();\r\n                    this._LabelVar('PlayerName').text = _PersonalInfo._name.value;\r\n                    const left = 120;\r\n                    this._ImgVar('Middle').width = this._Owner.width - 160;\r\n                    this._ImgVar('Collect').x = (this._ImgVar('Middle').width - left * 2) * 0 / 4 + left;\r\n                    _Tweeting_Dynamic._forwarded.num += 50;\r\n                    this._ImgVar('Forwarded').getChildAt(0).text = _Tweeting_Dynamic._forwarded.num.toString();\r\n                    this._ImgVar('Forwarded').x = (this._ImgVar('Middle').width - left * 2) * 1 / 4 + left;\r\n                    _Tweeting_Dynamic._comment.num += 50;\r\n                    this._ImgVar('Comment').getChildAt(0).text = _Tweeting_Dynamic._comment.num.toString();\r\n                    this._ImgVar('Comment').x = (this._ImgVar('Middle').width - left * 2) * 2 / 4 + left;\r\n                    _Tweeting_Dynamic._like.num += 100;\r\n                    this._ImgVar('Like').getChildAt(0).text = _Tweeting_Dynamic._like.num.toString();\r\n                    this._ImgVar('Like').x = (this._ImgVar('Middle').width - left * 2) * 3 / 4 + left;\r\n                    this._ImgVar('Bottom').width = this._Owner.width - 160;\r\n                    const iconArr = Tools._Number.randomCountBySection(1, 20, 2);\r\n                    const twoObj = _RankingData._ins()._randomCountObj(2);\r\n                    for (let index = 0; index < 2; index++) {\r\n                        const Reply = this._ImgVar(`Reply${index + 1}`);\r\n                        const Icon1 = Reply.getChildByName('HeadIcon').getChildAt(0);\r\n                        Icon1.skin = `Game/UI/Tweeting/Head/${iconArr[index]}.jpg`;\r\n                        Reply.y += 500;\r\n                        const Body = Reply.getChildByName('Body');\r\n                        const Time = Reply.getChildByName('Time');\r\n                        if (index == 0) {\r\n                            Body.text = `${twoObj[0]['name']}: `;\r\n                            Time.text = `${DateAdmin._date.month}月${DateAdmin._date.date}日    ${DateAdmin._date.hours}:${DateAdmin._date.minutes - 1 > 0 ? 0 : DateAdmin._date.minutes - 1}`;\r\n                        }\r\n                        else {\r\n                            Time.text = `${DateAdmin._date.month}月${DateAdmin._date.date}日    ${DateAdmin._date.hours}:${DateAdmin._date.minutes}`;\r\n                            Body.text = `${twoObj[1]['name']}: `;\r\n                        }\r\n                    }\r\n                    this._ImgVar('Head').scale(0, 0);\r\n                    this._ImgVar('Middle').scale(0, 0);\r\n                    this._ImgVar('Bottom').scale(0, 0);\r\n                },\r\n                open: () => {\r\n                    this.Dynamic.init();\r\n                    this._ImgVar('Photo').texture = _Tweeting_Dynamic._photo.arr[_TweetingData._ins()._photoIndex];\r\n                    _GameAni._dialogOpenFadeOut(this._ImgVar('Content'), null, () => {\r\n                        Animation2D.scale(this._ImgVar('Head'), 0, 0, 1, 1, this.baseTime * 2, this.baseDelay * 1.5, () => {\r\n                            this.Dynamic.bodyTextAppear(() => {\r\n                                Animation2D.scale(this._ImgVar('Middle'), 0, 0, 1, 1, this.baseTime * 2, this.baseDelay * 1.5, () => {\r\n                                    Animation2D.scale(this._ImgVar('Bottom'), 0, 0, 1, 1, this.baseTime * 2, this.baseDelay * 1.5, () => {\r\n                                        this.Dynamic.replyAppear();\r\n                                    });\r\n                                });\r\n                            });\r\n                        });\r\n                    });\r\n                },\r\n                bodyTextAppear: (func) => {\r\n                    const Body = this._ImgVar('Head').getChildByName('Body');\r\n                    _GameAni._charactersEffect(Body, _TweetingData._ins()._mainBody.present, () => {\r\n                        func();\r\n                    });\r\n                },\r\n                replyAppear: () => {\r\n                    const twoReply = _Tweeting_Dynamic._reply.getTow();\r\n                    const time = 500;\r\n                    Animation2D.move(this._ImgVar('Reply1'), this._ImgVar('Reply1').x, this._ImgVar('Reply1').y - 500, time, () => {\r\n                        _GameAni._charactersEffect(this._LabelVar('Reply1Body'), twoReply[0], () => {\r\n                            const LikeNum1 = this._ImgVar('Reply1').getChildByName('Like').getChildByName('Num');\r\n                            const time1 = 80;\r\n                            const unit1 = Math.round(Tools._Number.randomOneBySection(200, 5000, true) / time);\r\n                            let textNum1 = 0;\r\n                            TimerAdmin._frameNumLoop(1, time1, this, () => {\r\n                                textNum1 += unit1;\r\n                                LikeNum1.text = textNum1.toString();\r\n                            });\r\n                            Animation2D.move(this._LabelVar('Reply2Body'), this._LabelVar('Reply2Body').x, this._LabelVar('Reply2Body').y - 500, time1, () => {\r\n                                _GameAni._charactersEffect(this._LabelVar('Reply2Body'), twoReply[1], () => {\r\n                                    const LikeNum2 = this._LabelVar('Reply2Body').getChildByName('Like').getChildByName('Num');\r\n                                    const unit2 = Math.round(Tools._Number.randomOneBySection(200, 5000, true) / time1);\r\n                                    let textNum1 = 0;\r\n                                    TimerAdmin._frameNumLoop(1, time1, this, () => {\r\n                                        textNum1 += unit2;\r\n                                        LikeNum2.text = textNum1.toString();\r\n                                    }, () => {\r\n                                        TimerAdmin._frameOnce(60, this, () => {\r\n                                        });\r\n                                    });\r\n                                });\r\n                            });\r\n                        });\r\n                    });\r\n                },\r\n                close: () => {\r\n                    _GameAni._dialogCloseFadeOut(this._ImgVar('Content'), null, () => {\r\n                    });\r\n                },\r\n            };\r\n        }\r\n        lwgOnAwake() {\r\n            ADManager.TAPoint(TaT.PageShow, 'weibopage');\r\n        }\r\n        lwgCloseAni() {\r\n            return 100;\r\n        }\r\n        lwgOnDisable() {\r\n            ADManager.TAPoint(TaT.PageLeave, 'weibopage');\r\n        }\r\n    }\r\n    _Tweeting_Dynamic.Tweeting_Dynamic = Tweeting_Dynamic;\r\n})(_Tweeting_Dynamic || (_Tweeting_Dynamic = {}));\r\n",
  "references": [
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/TJ/Admanager.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/Lwg.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_GameAni.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_GameEffects.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_GameEvent.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_Guide.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_HotListItem.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_MakePattern.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_PersonalInfo.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_Ranking.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_RankingData.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_TweetingData.ts"
  ]
}
