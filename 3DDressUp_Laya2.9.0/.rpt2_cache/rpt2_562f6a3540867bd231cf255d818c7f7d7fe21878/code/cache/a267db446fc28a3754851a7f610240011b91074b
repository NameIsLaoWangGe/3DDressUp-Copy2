{
  "code": "import ADManager, { TaT } from \"../../TJ/Admanager\";\r\nimport { Admin, Animation2D, StorageAdmin, TimerAdmin, Tools } from \"./Lwg\";\r\nimport { _GameAni } from \"./_GameAni\";\r\nimport { _GameEvent } from \"./_GameEvent\";\r\nimport { _Guide } from \"./_Guide\";\r\nimport { _PersonalInfo } from \"./_PersonalInfo\";\r\nimport { _RankingData } from \"./_RankingData\";\r\nexport var _Tweeting_Main;\r\n(function (_Tweeting_Main) {\r\n    _Tweeting_Main._photo = {\r\n        arr: [],\r\n        take: (Scene, index) => {\r\n            _Tweeting_Main._photo.arr[index] && _Tweeting_Main._photo.arr[index].destroy();\r\n            _Tweeting_Main._photo.arr[index] = Scene.drawToTexture(Laya.stage.width, Laya.stage.height, 0, 0);\r\n        },\r\n        clear: () => {\r\n            for (let index = 0; index < _Tweeting_Main._photo.arr.length; index++) {\r\n                const element = _Tweeting_Main._photo.arr[index];\r\n                element && element.destroy();\r\n            }\r\n            _Tweeting_Main._photo.arr = [];\r\n            Laya.Resource.destroyUnusedResources();\r\n        }\r\n    };\r\n    _Tweeting_Main._attention = {\r\n        get value() {\r\n            return StorageAdmin._num('_MakePattern/attention', null, 180).value;\r\n        },\r\n        set value(val) {\r\n            StorageAdmin._num('_MakePattern/attention').value = val;\r\n        }\r\n    };\r\n    _Tweeting_Main._completeNum = {\r\n        get value() {\r\n            return StorageAdmin._num('_MakePattern/completeNum').value;\r\n        },\r\n        set value(val) {\r\n            StorageAdmin._num('_MakePattern/completeNum').value = val;\r\n        }\r\n    };\r\n    _Tweeting_Main._brief = {\r\n        getThree: () => {\r\n            return Tools._Array.randomGetOut(_Tweeting_Main._brief.all, 3);\r\n        },\r\n        getOne: () => {\r\n            return Tools._Array.randomGetOut(_Tweeting_Main._brief.all);\r\n        },\r\n        all: [\r\n            '世界很烦，但我要很可爱',\r\n            '生活就是见招拆招',\r\n            '忠于自己，热爱生活',\r\n            '我很有个性，但我不想签名',\r\n            'T^T\t',\r\n            '你最怕什么',\r\n            '宁缺毋滥',\r\n            '围脖红人',\r\n            '剪裁大师',\r\n            '剪裁王',\r\n        ]\r\n    };\r\n    _Tweeting_Main._mainBody = {\r\n        getOne: () => {\r\n            return Tools._Array.randomGetOne(_Tweeting_Main._mainBody.all);\r\n        },\r\n        all: [\r\n            '不管几岁，反正少女心万岁≧▽≦',\r\n            '此处可爱贩卖机  24小时正常营业\t',\r\n            '欢迎光临我的手工小店，我会制作更多大家喜欢的衣服哦',\r\n            '现在一定有个很可爱的人，在看我的这句话',\r\n            '辛辛苦苦做了好久，结果很满意，好喜欢哦',\r\n            '大家觉得我这套衣服怎么样',\r\n            '闲来无事，做了一套衣服，感觉还不错',\r\n            '我觉得吧，这次发挥的一般，下次会更好，敬请期待',\r\n            '浮游于这个世界所产生的热能 也比不过喜欢你的热忱\t',\r\n            '时间会把对你最好的人留在最后，毕竟喜欢是一阵风，而爱是细水长流',\r\n            '人生难免遇上些许不如意，翻过这一页就会发现生活处处有美好',\r\n            '也许，只有制作衣服的时候，才会让自己的心静下来',\r\n            '讲道理，我觉得我的手艺还不错，我是不是可以考虑开一家店了？',\r\n            '技术还不太行，需要多多磨炼，再努力做几件衣服吧~',\r\n            '今天心情好，早早地起来做衣服了，我是可爱的小裁缝~啦啦啦~',\r\n            '给妈妈做了件衣服，妈妈说好喜欢~',\r\n            '还有什么可以比做自己喜欢的事更加让人开心的呢~',\r\n            '一些些自己的小设计，就可以让一件衣服焕发生机',\r\n            '也许只是一瞬间的灵感，我将会付之于行动来实现它',\r\n            '对于剪裁和搭配的热情，我不会输给任何人的~',\r\n            '加油，我会成为最好的设计师的，我会爆火！~',\r\n            '坚持不懈，认真对待自己的，努力成为最好的设计师！~',\r\n            '感谢大家的支持，我会努力的',\r\n        ]\r\n    };\r\n    class Tweeting_Main extends Admin._SceneBase {\r\n        lwgOnAwake() {\r\n            ADManager.TAPoint(TaT.PageShow, 'weibopage');\r\n            ADManager.TAPoint(TaT.BtnShow, 'photo_choose');\r\n            this._LabelVar('BodyText').text = _Tweeting_Main._mainBody.getOne();\r\n            this._LabelVar('PlayerName').text = _PersonalInfo._name.value;\r\n            this._ImgVar('IconPic').skin = `Game/UI/Ranking/IconSkin/Ava.png`;\r\n            _Tweeting_Main._attention.value += Tools._Number.randomOneInt(50, 100);\r\n            this._LabelVar('AttentionNum').text = _Tweeting_Main._attention.value.toString();\r\n            this._LabelVar('FansNum').text = _RankingData._ins()._getPitchProperty(_RankingData._ins()._otherPro.fansNum);\r\n            _Tweeting_Main._completeNum.value++;\r\n            this._LabelVar('CompleteNum').text = _Tweeting_Main._completeNum.value.toString();\r\n            const heatArr = Tools._Number.randomCountBySection(20, 50, 3);\r\n            heatArr.sort();\r\n            const briefArr = _Tweeting_Main._brief.getThree();\r\n            const iconArr = Tools._Number.randomCountBySection(1, 20, 3);\r\n            for (let index = 0; index < 3; index++) {\r\n                const Rank = this._ImgVar('Hot').getChildByName(`Rank${index + 1}`);\r\n                const Name = Rank.getChildByName('Name');\r\n                const Tag = Rank.getChildByName('Tag');\r\n                const Brief = Rank.getChildByName('Brief');\r\n                const Heat = Rank.getChildByName('Heat');\r\n                const Icon = Rank.getChildByName('HeadIcon').getChildByName('Icon');\r\n                const data = _RankingData._ins()._arr[index];\r\n                Name.text = data[_RankingData._ins()._property.name];\r\n                Tag.skin = `Game/UI/Tweeting/Main/${index + 1}.png`;\r\n                Brief.text = briefArr[index];\r\n                Heat.text = `本周热度 ${heatArr[index]}万`;\r\n                Icon.skin = `Game/UI/Tweeting/Head/${iconArr[index]}.jpg`;\r\n            }\r\n            for (let index = 0; index < 3; index++) {\r\n                const element = this._ImgVar('BtnChoosePhotos').getChildByName(`Photo${index + 1}`).getChildAt(0);\r\n                if (_Tweeting_Main._photo.arr[index]) {\r\n                    element.texture = _Tweeting_Main._photo.arr[index];\r\n                }\r\n            }\r\n        }\r\n        lwgAdaptive() {\r\n            this._ImgVar('Head').pos(this._Owner.width - (this._ImgVar('Head').width + 57), this._ImgVar('Head').y);\r\n            this._ImgVar('Head').scale(0, 0);\r\n            this._ImgVar('Hot').pos(this._Owner.width - (this._ImgVar('Hot').width + 41), this._ImgVar('Hot').y);\r\n            this._ImgVar('Hot').scale(0, 0);\r\n            this._ImgVar('BtnChoosePhotos').size(this._Owner.width - this._ImgVar('BtnChoosePhotos').x - (this._Owner.width - this._ImgVar('Hot').x) - 30, this._ImgVar('BtnChoosePhotos').height);\r\n            this._ImgVar('BtnChoosePhotos').scale(0, 0);\r\n            this._ImgVar('PhotoAds').x = this._ImgVar('BtnChoosePhotos').width / 2 - 130 * 2 - 30;\r\n            this._ImgVar('Photo1').x = this._ImgVar('BtnChoosePhotos').width / 2 - 130 - 10;\r\n            this._ImgVar('Photo2').x = this._ImgVar('BtnChoosePhotos').width / 2 + 10;\r\n            this._ImgVar('Photo3').x = this._ImgVar('BtnChoosePhotos').width / 2 + 130 + 30;\r\n            this._ImgVar('Body').size(this._Owner.width - this._ImgVar('BtnChoosePhotos').x - (this._Owner.width - this._ImgVar('Hot').x) - 50, this._ImgVar('Body').height);\r\n            this._ImgVar('Body').scale(0, 0);\r\n            this._ImgVar('BtnSet').size(0, 0);\r\n            this._ImgVar('Top').size(this._Owner.width - 100, this._ImgVar('Top').height);\r\n            this._ImgVar('Top').scale(0, 0);\r\n        }\r\n        lwgOpenAni() {\r\n            const baseTime = 150;\r\n            const baseDelay = 200;\r\n            _GameAni._dialogOpenFadeOut(this._ImgVar('Content'), null, () => {\r\n                Animation2D.scale(this._ImgVar('Top'), 0, 0, 1, 1, baseTime * 1.5, baseDelay * 1);\r\n                Animation2D.scale(this._ImgVar('BtnSet'), 0, 0, 1, 1, baseTime * 1.5, baseDelay * 2);\r\n                Animation2D.scale(this._ImgVar('Body'), 0, 0, 1, 1, baseTime * 1.5, baseDelay * 3);\r\n                Animation2D.scale(this._ImgVar('Head'), 0, 0, 1, 1, baseTime * 1.5, baseDelay * 4);\r\n                Animation2D.scale(this._ImgVar('Hot'), 0, 0, 1, 1, baseTime * 1.5, baseDelay * 5);\r\n                Tools._Node.changePivot(this._ImgVar('BtnChoosePhotos'), this._ImgVar('BtnChoosePhotos').width / 2, this._ImgVar('BtnChoosePhotos').height / 2);\r\n                Animation2D.bombs_Appear(this._ImgVar('BtnChoosePhotos'), 0, 1, 1.08, 0, baseTime * 2, () => {\r\n                    TimerAdmin._once(300, this, () => {\r\n                        !_Guide._complete.value && this._openScene('Guide', false, false, () => {\r\n                            const Photo2GP = this._ImgVar('BtnChoosePhotos').localToGlobal(new Laya.Point(this._ImgVar('Photo2').x + 65, this._ImgVar('Photo2').y + 65));\r\n                            const btnCP = this._ImgVar('Content').localToGlobal(new Laya.Point(this._ImgVar('BtnChoosePhotos').x, this._ImgVar('BtnChoosePhotos').y));\r\n                            this._evNotify(_GameEvent.Guide.TweetingBtnChoosePhoto, [btnCP.x, btnCP.y, Photo2GP.x, Photo2GP.y]);\r\n                        });\r\n                    });\r\n                    _GameAni._fadeHint(this._ImgVar('BtnChoosePhotos').getChildByName('HintPic'));\r\n                }, baseDelay * 7);\r\n            });\r\n            return baseDelay * 7 + baseTime * 1.5;\r\n        }\r\n        lwgButton() {\r\n            this._btnUp(this._ImgVar('BtnChoosePhotos'), () => {\r\n                ADManager.TAPoint(TaT.BtnClick, 'photo_choose');\r\n                this._openScene('Tweeting_ChoosePhotos', false);\r\n            }, 'null');\r\n        }\r\n        lwgCloseAni() {\r\n            return 100;\r\n        }\r\n        lwgOnDisable() {\r\n            ADManager.TAPoint(TaT.PageLeave, 'weibopage');\r\n        }\r\n    }\r\n    _Tweeting_Main.Tweeting_Main = Tweeting_Main;\r\n})(_Tweeting_Main || (_Tweeting_Main = {}));\r\n",
  "references": [
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/TJ/Admanager.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/Lwg.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_GameAni.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_GameEffects.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_GameEvent.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_Guide.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_HotListItem.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_MakePattern.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_PersonalInfo.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_Ranking.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_RankingData.ts"
  ]
}
