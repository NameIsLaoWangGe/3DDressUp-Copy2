{
  "code": "import { Admin } from \"./Lwg\";\r\nexport default class SubPkg {\r\n    constructor() {\r\n        this.pkgInfo = [\r\n            { name: \"Game\", root: \"Game/\" },\r\n            { name: \"res\", root: \"res/\" },\r\n        ];\r\n    }\r\n    init() {\r\n        console.log(`SubPkg  init`);\r\n        this.pkgFlag = 0;\r\n        console.log(`SubPkg  oppoGame`);\r\n        this.loadPkg_OPPO();\r\n    }\r\n    loadPkg_wx() {\r\n        if (this.pkgFlag == this.pkgInfo.length) {\r\n            console.log(\"showLoading\");\r\n        }\r\n        else {\r\n            let info = this.pkgInfo[this.pkgFlag];\r\n            let name = info.name;\r\n            let root = info.root;\r\n            Laya.Browser.window.wx.loadSubpackage({\r\n                name: name,\r\n                success: (res) => {\r\n                    Laya.MiniAdpter.subNativeFiles[name] = root;\r\n                    Laya.MiniAdpter.nativefiles.push(root);\r\n                    this.pkgFlag++;\r\n                    this.loadPkg_wx();\r\n                },\r\n                fail: (res) => {\r\n                    console.error(`load ${name} err: `, res);\r\n                },\r\n            });\r\n        }\r\n    }\r\n    loadPkg_sq() {\r\n        if (this.pkgFlag == this.pkgInfo.length) {\r\n            console.log(\"GameInit\");\r\n        }\r\n        else {\r\n            let info = this.pkgInfo[this.pkgFlag];\r\n            let name = info.name;\r\n            let root = info.root;\r\n            Laya.Browser.window.qq.loadSubpackage({\r\n                name: name,\r\n                success: (res) => {\r\n                    this.pkgFlag++;\r\n                    this.loadPkg_sq();\r\n                },\r\n                fail: (res) => {\r\n                    console.error(`load ${name} err: `, res);\r\n                },\r\n            });\r\n        }\r\n    }\r\n    loadPkg_VIVO() {\r\n        if (this.pkgFlag == this.pkgInfo.length) {\r\n            console.log(\"GameInit\");\r\n        }\r\n        else {\r\n            let info = this.pkgInfo[this.pkgFlag];\r\n            let name = info.name;\r\n            let root = info.root;\r\n            Laya.Browser.window.qg.loadSubpackage({\r\n                name: name,\r\n                success: (res) => {\r\n                    this.pkgFlag++;\r\n                    this.loadPkg_VIVO();\r\n                },\r\n                fail: (res) => {\r\n                    console.error(`load ${name} err: `, res);\r\n                },\r\n            });\r\n        }\r\n    }\r\n    loadPkg_OPPO() {\r\n        console.log(\"loadPkg_OPPOsssssssss\");\r\n        if (this.pkgFlag == this.pkgInfo.length) {\r\n            Admin._openScene('PreLoad');\r\n            console.log(\"GameInit\");\r\n        }\r\n        else {\r\n            let info = this.pkgInfo[this.pkgFlag];\r\n            let name = info.name;\r\n            let root = info.root;\r\n            let subTask = Laya.Browser.window.qg.loadSubpackage({\r\n                name: name,\r\n                success: (res) => {\r\n                    this.pkgFlag++;\r\n                    this.loadPkg_OPPO();\r\n                },\r\n                fail: (res) => {\r\n                    console.log(\"123123  \" + JSON.stringify(res));\r\n                    console.log(`load ${name} err: ` + JSON.stringify(res));\r\n                },\r\n            });\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/Lwg.ts"
  ]
}
