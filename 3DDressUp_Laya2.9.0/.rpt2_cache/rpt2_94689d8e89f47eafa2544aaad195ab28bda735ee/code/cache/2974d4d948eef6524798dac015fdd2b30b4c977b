{
  "code": "import ADManager, { TaT } from \"../../TJ/Admanager\";\r\nimport { LwgScene, LwgAni2D, LwgTimer, LwgTools, LwgClick } from \"../Lwg/Lwg\";\r\nimport { _3DScene } from \"./_3D\";\r\nimport { _CheckIn, _DIYClothes, _Guide, _Ranking, _Start, _Tweeting } from \"./_GameData\";\r\nimport { _GameEffects2D } from \"./_GameEffects2D\";\r\nimport { _SceneName } from \"./_SceneName\";\r\nexport default class Start extends LwgScene._SceneBase {\r\n    lwgOnAwake() {\r\n        ADManager.TAPoint(TaT.PageShow, 'mainpage');\r\n        ADManager.TAPoint(TaT.BtnShow, 'symaker');\r\n        ADManager.TAPoint(TaT.BtnShow, 'lyqmaker');\r\n        ADManager.TAPoint(TaT.BtnShow, 'xzmaker');\r\n        ADManager.TAPoint(TaT.BtnShow, 'change');\r\n        LwgTools._Node.childrenVisible2D(this._ImgVar('BtnParent'), false);\r\n        _3DScene._ins().openStartAni(() => {\r\n            this._ImgVar('BtnTop').pos(_3DScene._ins().btnTopPos.x, _3DScene._ins().btnTopPos.y);\r\n            this._ImgVar('BtnDress').pos(_3DScene._ins().btnDressPos.x, _3DScene._ins().btnDressPos.y);\r\n            this._ImgVar('BtnBottoms').pos(_3DScene._ins().btnBottomsPos.x, _3DScene._ins().btnBottomsPos.y);\r\n            this._ImgVar('BtnDressingRoom').pos(_3DScene._ins().btnDressingRoomPos.x, _3DScene._ins().btnDressingRoomPos.y);\r\n            for (let index = 0; index < this._ImgVar('BtnParent').numChildren; index++) {\r\n                const element = this._ImgVar('BtnParent').getChildAt(index);\r\n                element.visible = false;\r\n            }\r\n        });\r\n    }\r\n    lwgOpenAniAfter() {\r\n        LwgClick._filter.value = LwgClick._filterType.none;\r\n        for (let index = 0; index < this._ImgVar('BtnParent').numChildren; index++) {\r\n            const element = this._ImgVar('BtnParent').getChildAt(index);\r\n            element.visible = true;\r\n            const delay = 200 * index;\r\n            LwgAni2D.bombs_Appear(element, 0, 1, 1.2, 0, 200, () => {\r\n                if (index === this._ImgVar('BtnParent').numChildren - 1) {\r\n                    LwgTimer._once(500, this, () => {\r\n                        LwgClick._filter.value = LwgClick._filterType.all;\r\n                        if (_Start._whereFrom === _SceneName.MakePattern) {\r\n                            this._evNotify(_Start.Event.photo);\r\n                            _Start._whereFrom = null;\r\n                        }\r\n                        else {\r\n                            if (!_Guide._complete.value) {\r\n                                this._openScene('Guide', false, false, () => {\r\n                                    this.BtnDressClick();\r\n                                    this._evNotify(_Guide.Event.StartBtnDress, [this._ImgVar('BtnDress').x, this._ImgVar('BtnDress').y]);\r\n                                });\r\n                            }\r\n                            else {\r\n                                !_CheckIn._todayCheckIn.value && this._openScene(_SceneName.CheckIn, false);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            }, delay);\r\n            _GameEffects2D._circleExplode(this._Owner, new Laya.Point(element.x, element.y), delay);\r\n        }\r\n    }\r\n    lwgOnStart() {\r\n        this._evNotify(_Start.Event.updateRanking);\r\n    }\r\n    lwgEvent() {\r\n        this._evReg(_Guide.Event.DelayBtnCheckIn, () => {\r\n            this.BtnCheckIn();\r\n            this._evNotify(_Guide.Event.BtnCheckIn, [this._ImgVar('BtnCheckIn').x, this._ImgVar('BtnCheckIn').y]);\r\n        });\r\n        this._evReg(_Guide.Event.StartOtherBtnClick, () => {\r\n            this.lwgButton();\r\n        });\r\n        this._evReg(_Start.Event.updateRanking, () => {\r\n            let obj = _Ranking._Data._ins()._getPitchObj();\r\n            this._LabelVar('RankNum').text = `${obj[_Ranking._Data._ins()._mergePro.rankNum]}/50`;\r\n        });\r\n        this._evReg(_Start.Event.photo, () => {\r\n            LwgClick._filter.value = LwgClick._filterType.none;\r\n            const sp = _3DScene._ins().cameraToSprite(this._Owner);\r\n            LwgTimer._frameOnce(10, this, () => {\r\n                _Tweeting._photo.take(this._Owner, 2);\r\n                sp.destroy();\r\n                LwgTimer._frameOnce(10, this, () => {\r\n                    this._openScene(_SceneName.Tweeting_Main, false);\r\n                });\r\n            });\r\n        });\r\n        this._evReg(_Start.Event.BtnPersonalInfo, () => {\r\n            LwgTimer._once(1000, this, () => {\r\n                this._openScene(_SceneName.Guide, false, false, () => {\r\n                    this.BtnPersonalInfoClick();\r\n                    this._evNotify(_Guide.Event.PersonalInfoBtn, [this._ImgVar('BtnPersonalInfo').x, this._ImgVar('BtnPersonalInfo').y]);\r\n                });\r\n            });\r\n        });\r\n    }\r\n    BtnDressClick() {\r\n        this._btnUp(this._ImgVar('BtnDress'), () => {\r\n            this._evNotify(_Guide.Event.closeGuide);\r\n            let time = 0;\r\n            if (_Guide._complete.value) {\r\n                time = 300;\r\n            }\r\n            LwgTimer._once(time, this, () => {\r\n                this.openMakeTailor('Dress');\r\n            });\r\n            ADManager.TAPoint(TaT.BtnClick, 'lyqmaker');\r\n        });\r\n    }\r\n    BtnPersonalInfoClick() {\r\n        this._btnUp(this._ImgVar('BtnPersonalInfo'), () => {\r\n            !_Guide._complete.value && this._evNotify(_Guide.Event.vanishGuide);\r\n            this._openScene(_SceneName.PersonalInfo, false);\r\n        });\r\n    }\r\n    BtnCheckIn() {\r\n        this._btnUp(this._ImgVar('BtnCheckIn'), () => {\r\n            !_Guide._complete.value && this._evNotify(_Guide.Event.vanishGuide);\r\n            this._openScene(_SceneName.CheckIn, false);\r\n        });\r\n    }\r\n    openMakeTailor(_classify) {\r\n        _DIYClothes._ins()._pitchClassify = _classify;\r\n        _3DScene._ins().cameraToSprite(this._Owner);\r\n        this._openScene(_SceneName.MakeTailor, true, true);\r\n    }\r\n    lwgButton() {\r\n        if (!_Guide._complete.value)\r\n            return;\r\n        this.BtnDressClick();\r\n        const Clothes = _DIYClothes._ins();\r\n        this._btnUp(this._ImgVar('BtnTop'), () => {\r\n            Clothes._pitchClassify = Clothes._classify.Top;\r\n            this.openMakeTailor('Top');\r\n            ADManager.TAPoint(TaT.BtnClick, 'symaker');\r\n        });\r\n        this._btnUp(this._ImgVar('BtnBottoms'), () => {\r\n            Clothes._pitchClassify = Clothes._classify.Bottoms;\r\n            this.openMakeTailor('Bottoms');\r\n            ADManager.TAPoint(TaT.BtnClick, 'xzmaker');\r\n        });\r\n        this.BtnPersonalInfoClick();\r\n        this._btnUp(this._ImgVar('BtnRanking'), () => {\r\n            _Ranking._whereFrom = _SceneName.Start;\r\n            this._openScene(_SceneName.Ranking, false);\r\n        });\r\n        this._btnUp(this._ImgVar('BtnDressingRoom'), () => {\r\n            ADManager.TAPoint(TaT.BtnClick, 'change');\r\n            _3DScene._ins().cameraToSprite(this._Owner);\r\n            this._openScene(_SceneName.DressingRoom, true, true);\r\n        });\r\n        this.BtnCheckIn();\r\n    }\r\n    lwgOnDisable() {\r\n        ADManager.TAPoint(TaT.PageLeave, 'mainpage');\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/TJ/Admanager.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/Lwg.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Game/_3D.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Game/_GameData.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Game/_GameEffects2D.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Game/_SceneName.ts"
  ]
}
