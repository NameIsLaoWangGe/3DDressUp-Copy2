{
  "code": "import ADManager, { TaT } from \"../../TJ/Admanager\";\r\nimport { LwgScene, LwgData, LwgTools } from \"../Lwg/Lwg\";\r\nimport { _GameAni } from \"./_GameAni\";\r\nimport { _CheckIn, _Guide, _PersonalInfo, _Ranking, _Start } from \"./_GameData\";\r\nimport { _GameEffects2D } from \"./_GameEffects2D\";\r\nimport { _SceneName } from \"./_SceneName\";\r\nexport class RankingItem extends LwgData._Item {\r\n    $render() {\r\n        if (this.$data.classify === _Ranking._Data._ins()._classify.self) {\r\n            this._ImgChild('Board').skin = `Game/UI/Ranking/x_di.png`;\r\n            this._LableChild('Name').text = _PersonalInfo._name.value;\r\n        }\r\n        else {\r\n            this._ImgChild('Board').skin = `Game/UI/Ranking/w_di.png`;\r\n            this._LableChild('Name').text = this.$data[_Ranking._Data._ins()._property.name];\r\n        }\r\n        this._LableChild('RankNum').text = String(this.$data.rankNum);\r\n        this._LableChild('FansNum').text = String(this.$data.fansNum);\r\n        const IconPic = this._LableChild('Icon').getChildAt(0);\r\n        IconPic.skin = this.$data.iconSkin;\r\n    }\r\n}\r\nexport default class Ranking extends LwgScene._SceneBase {\r\n    lwgOnAwake() {\r\n        ADManager.TAPoint(TaT.PageShow, 'rankpage');\r\n        _Ranking._Data._ins()._List = this._ListVar('List');\r\n        if (_Ranking._whereFrom === _SceneName.Tweeting_GetFans) {\r\n            _Ranking._Data._ins()._addProValueForAll(_Ranking._Data._ins()._mergePro.fansNum, () => {\r\n                return LwgTools._Number.randomOneInt(100, 150);\r\n            });\r\n        }\r\n        this._evNotify(_Start.Event.updateRanking);\r\n        _Ranking._Data._ins()._listRenderScript = RankingItem;\r\n    }\r\n    lwgOpenAni() {\r\n        if (_Ranking._whereFrom === _SceneName.Tweeting_GetFans) {\r\n            _GameAni._dialogOpenPopup(this._ImgVar('Content'), this._ImgVar('Background'));\r\n        }\r\n        else {\r\n            _GameAni._dialogOpenFadeOut(this._ImgVar('Content'), this._ImgVar('Background'));\r\n        }\r\n        return 200;\r\n    }\r\n    lwgOpenAniAfter() {\r\n        if (_Ranking._whereFrom === _SceneName.Tweeting_GetFans) {\r\n            _GameEffects2D._fireworksCelebrate(() => {\r\n                !_Guide._complete.value && this._openScene(_SceneName.Guide, false, false, () => {\r\n                    this.BtnCloseClick();\r\n                    const gP = this._ImgVar('Content').localToGlobal(new Laya.Point(this._ImgVar('BtnClose').x, this._ImgVar('BtnClose').y));\r\n                    this._evNotify(_Guide.Event.RankingCloseBtn, [gP.x, gP.y]);\r\n                }, this._Owner.zOrder + 1);\r\n            });\r\n            _Ranking._whereFrom = _SceneName.Start;\r\n        }\r\n    }\r\n    lwgOnStart() {\r\n        if (_Ranking._Data._ins()._getProperty(_Ranking._Data._ins()._pitchName, _Ranking._Data._ins()._mergePro.rankNum) === 1) {\r\n            _Ranking._Data._ins()._List.scrollTo(0);\r\n        }\r\n        else {\r\n            if (_Ranking._whereFrom === _SceneName.Tweeting_GetFans) {\r\n                _Ranking._Data._ins()._listScrollToFirstByLast();\r\n                _Ranking._Data._ins()._listTweenToDiffIndexByPitch(-1, 1500);\r\n            }\r\n            else {\r\n                _Ranking._Data._ins()._listScrollToFirstByLast();\r\n                _Ranking._Data._ins()._listTweenToDiffIndexByPitch(-1, 600);\r\n            }\r\n        }\r\n    }\r\n    BtnCloseClick() {\r\n        this._btnUp(this._ImgVar('BtnClose'), () => {\r\n            this._closeScene();\r\n            if (!_Guide._complete.value) {\r\n                this._evNotify(_Guide.Event.closeGuide);\r\n                this._evNotify(_Start.Event.BtnPersonalInfo);\r\n            }\r\n        });\r\n    }\r\n    lwgButton() {\r\n        if (!_Guide._complete.value)\r\n            return;\r\n        this.BtnCloseClick();\r\n    }\r\n    lwgCloseAni() {\r\n        return _GameAni._dialogCloseFadeOut(this._ImgVar('Content'), this._ImgVar('Background'), () => {\r\n            _Guide._complete.value && !_CheckIn._todayCheckIn && this._openScene('CheckIn', false);\r\n        });\r\n    }\r\n    lwgOnDisable() {\r\n        ADManager.TAPoint(TaT.PageLeave, 'rankpage');\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/TJ/Admanager.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Lwg/Lwg.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Game/_GameAni.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Game/_GameData.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Game/_GameEffects2D.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Game/_Res.ts",
    "D:/Game/project/3DDressUp/Copy2/3DDressUp_Laya2.9.0/src/script/Game/_SceneName.ts"
  ]
}
