!function(){"use strict";class e extends Laya.Script{constructor(){super(...arguments),this.defaultNode=null,this.nativetNode=null,this.icon=null,this.title=null,this.desc=null,this.contant=null,this.close=null,this.WatchAD1=null,this.WatchAD2=null}onAwake(){this.defaultNode=this.owner.getChildByName("defaultNode"),this.nativetNode=this.owner.getChildByName("nativeNode"),this.icon=this.nativetNode.getChildByName("Icon"),this.title=this.nativetNode.getChildByName("Title"),this.desc=this.nativetNode.getChildByName("Des"),this.contant=this.nativetNode.getChildByName("Contant"),this.WatchAD2=this.owner.getChildByName("WatchAD2"),this.close=this.owner.getChildByName("Close"),this.WatchAD2?this.WatchAD2.on(Laya.Event.CLICK,this,this.Click):(this.WatchAD2=this.nativetNode.getChildByName("WatchAD2"),this.WatchAD2&&this.WatchAD2.on(Laya.Event.CLICK,this,this.Click)),this.WatchAD1=this.owner.getChildByName("WatchAD1"),this.WatchAD1?this.WatchAD1.on(Laya.Event.CLICK,this,this.Click):(this.WatchAD1=this.nativetNode.getChildByName("WatchAD1"),this.WatchAD1&&this.WatchAD1.on(Laya.Event.CLICK,this,this.Click)),this.nativetNode.on(Laya.Event.CLICK,this,this.Click),this.owner.visible=!1,this.close.on(Laya.Event.CLICK,this,()=>{this.owner.removeSelf()}),Laya.timer.once(100,this,()=>{this.Show()})}Show(){let e=new TJ.API.AdService.Param;this.nativeAd=TJ.API.AdService.LoadNative(e),console.log("展示原生广告 =》",this.nativeAd),null!=this.nativeAd&&(console.log("展示原生广告 =》",this.nativeAd.iconUrl),console.log("展示原生广告 =》",this.nativeAd.title)),null!=this.nativeAd?(this.owner.visible=!0,this.nativeAd&&(console.log("this.nativeAd = ",this.nativeAd),this.nativeAd.OnShow(),this.icon.skin=this.nativeAd.iconUrl,this.title.text=this.nativeAd.title,this.desc.text=this.nativeAd.desc,this.contant.skin=this.nativeAd.imgUrl)):this.owner.visible=!1}Click(){null!=this.nativeAd&&this.nativeAd.OnClick()}}class t extends Laya.Script{constructor(){super(...arguments),this.time=.1,this.ratio=1.04,this.startScaleX=1,this.startScaleY=1,this.scaled=!1}onAwake(){this.owner.on(Laya.Event.MOUSE_DOWN,null,()=>{this.ScaleBig()}),this.owner.on(Laya.Event.MOUSE_UP,null,()=>{this.ScaleSmall()}),this.owner.on(Laya.Event.MOUSE_OUT,null,()=>{this.ScaleSmall()})}ScaleBig(){this.scaled||(this.scaled=!0,Laya.Tween.to(this.owner,{scaleX:this.startScaleX*this.ratio,scaleY:this.startScaleY*this.ratio},1e3*this.time))}ScaleSmall(){this.scaled&&(this.scaled=!1,Laya.Tween.to(this.owner,{scaleX:this.startScaleX,scaleY:this.startScaleY},1e3*this.time))}}class a extends Laya.Script{constructor(){super(...arguments),this.isAwake=!1,this.isStart=!1,this.isEnable=!1,this.isDestroy=!1}OnAwake(){}OnStart(){}OnUpdate(){}OnEnable(){}OnDisable(){}OnDestroy(){}DoAwake(){this.active&&(this.isAwake||(this.isAwake=!0,this.OnAwake()))}DoStart(){this.active&&(this.isStart||(this.isStart=!0,this.OnStart()))}DoUpdate(){this.active&&this.isStart&&this.OnUpdate()}DoEnable(){this.active&&(this.isEnable||(this.isEnable=!0,this.OnEnable()))}DoDisable(){this.isEnable&&(this.isEnable=!1,this.OnDisable())}DoDestroy(){this.isDestroy||(this.isDestroy=!0,this.OnDestroy())}onAwake(){this.DoAwake()}onStart(){this.DoAwake(),this.DoStart()}onUpdate(){this.DoAwake(),this.DoEnable(),this.DoStart(),this.DoUpdate()}onEnable(){this.DoAwake(),this.DoEnable(),this.DoStart()}onDisable(){this.DoDisable()}onDestroy(){this.DoDestroy()}static SetActive(e,t){null!=e&&(e.active=t,e instanceof Laya.Box&&(e.visible=t))}static GetActive(e){return null!=e&&(!!e.active&&!(e instanceof Laya.Box&&!e.visible))}get active(){return a.GetActive(this.owner)}set active(e){a.SetActive(this.owner,e),e?this.DoEnable():this.DoDisable()}}class i extends a{constructor(){super(...arguments),this.bgImage=null,this.iconImage=null,this.nameText=null,this.infoText=null,this.flag1=null,this.flag2=null,this.flag3=null,this.nbg=null}OnAwake(){this.bgImage=this.owner.getChildByName("bg"),this.iconImage=this.owner.getChildByName("icon"),null!=this.iconImage&&(this.flag1=this.iconImage.getChildByName("flag1"),this.flag2=this.iconImage.getChildByName("flag2"),this.flag3=this.iconImage.getChildByName("flag3")),this.nameText=this.owner.getChildByName("name"),this.infoText=this.owner.getChildByName("info"),this.nbg=this.owner.getChildByName("nbg")}DoLoad(){null!=this.data&&(null!=this.iconImage&&(this.iconImage.skin=this.data.icon),null!=this.nameText&&(this.nameText.text=this.data.title),null!=this.nbg&&(this.nbg.skin="TJ/Promo/image/互推icon底色/"+this.data.titleBG+".png"),this.SetFlag())}SetFlag(){switch(null!=this.flag1&&(this.flag1.active=this.flag1.visible=!1),null!=this.flag2&&(this.flag2.active=this.flag2.visible=!1),null!=this.flag3&&(this.flag3.active=this.flag3.visible=!1),this.data.tag){case 1:null!=this.flag1&&(this.flag1.active=this.flag1.visible=!0);break;case 2:null!=this.flag2&&(this.flag2.active=this.flag2.visible=!0);break;case 3:null!=this.flag3&&(this.flag3.active=this.flag3.visible=!0)}}OnShow(){this.data.ReportShow()}OnClick(){this.data.Click(),null!=this.onClick_&&this.onClick_(this)}onClick(){this.OnClick()}}var n,s;!function(e){function Node2Comp(e){let t={};if(t.type=e.constructor.name,t.props={},null!=e.name&&(t.props.name=e.name),e instanceof Laya.Sprite&&function(e,t){isNaN(e.x)||(t.x=e.x);isNaN(e.y)||(t.y=e.y);isNaN(e.width)||(t.width=e.width);isNaN(e.height)||(t.height=e.height);null!=e.visible&&(t.visible=e.visible);null!=e.texture&&(t.texture=e.texture.url);null!=e.renderType&&(t.renderType=e.renderType)}(e,t.props),e instanceof Laya.Scene&&function(e,t){null!=e.autoDestroyAtClosed&&(t.autoDestroyAtClosed=e.autoDestroyAtClosed)}(e,t.props),e instanceof Laya.UIComponent&&function(e,t){isNaN(e.anchorX)||(t.anchorX=e.anchorX);isNaN(e.anchorY)||(t.anchorY=e.anchorY);isNaN(e.centerX)||(t.centerX=e.centerX);isNaN(e.centerY)||(t.centerY=e.centerY);isNaN(e.top)||(t.top=e.top);isNaN(e.bottom)||(t.bottom=e.bottom);isNaN(e.left)||(t.left=e.left);isNaN(e.right)||(t.right=e.right)}(e,t.props),e instanceof Laya.Text){if(e.parent instanceof Laya.Label&&e.parent.textField==e)return null;!function(e,t){null!=e.text&&(t.text=e.text);null!=e.runtime&&(t.runtime=e.runtime)}(e,t.props)}e instanceof Laya.Dialog&&function(e,t){null!=e.group&&(t.group=e.group);null!=e.dragArea&&(t.dragArea=e.dragArea);null!=e.isShowEffect&&(t.isShowEffect=e.isShowEffect);null!=e.isPopupCenter&&(t.isPopupCenter=e.isPopupCenter);null!=e.isModal&&(t.isModal=e.isModal)}(e,t.props),e instanceof Laya.Clip&&function(e,t){null!=e.skin&&(t.skin=e.skin);null!=e.group&&(t.group=e.group);null!=e.sizeGrid&&(t.sizeGrid=e.sizeGrid);null!=e.autoPlay&&(t.autoPlay=e.autoPlay);isNaN(e.index)||(t.index=e.index);isNaN(e.clipX)||(t.clipX=e.clipX);isNaN(e.clipY)||(t.clipY=e.clipY);isNaN(e.clipWidth)||(t.clipWidth=e.clipWidth);isNaN(e.clipHeight)||(t.clipHeight=e.clipHeight)}(e,t.props),e instanceof Laya.FontClip&&function(e,t){null!=e.value&&(t.value=e.value);null!=e.sheet&&(t.sheet=e.sheet);null!=e.align&&(t.align=e.align);null!=e.direction&&(t.direction=e.direction);isNaN(e.spaceX)||(t.spaceX=e.spaceX);isNaN(e.spaceY)||(t.spaceY=e.spaceY)}(e,t.props),e instanceof Laya.Image&&function(e,t){null!=e.skin&&(t.skin=e.skin);null!=e.group&&(t.group=e.group);null!=e.sizeGrid&&(t.sizeGrid=e.sizeGrid)}(e,t.props),e instanceof Laya.Button&&function(e,t){null!=e.skin&&(t.skin=e.skin);null!=e.label&&(t.label=e.label);null!=e.toggle&&(t.toggle=e.toggle);null!=e.sizeGrid&&(t.sizeGrid=e.sizeGrid);null!=e.selected&&(t.selected=e.selected);null!=e.strokeColors&&(t.strokeColors=e.strokeColors);null!=e.labelStrokeColor&&(t.labelStrokeColor=e.labelStrokeColor);null!=e.labelPadding&&(t.labelPadding=e.labelPadding);null!=e.labelFont&&(t.labelFont=e.labelFont);null!=e.labelColors&&(t.labelColors=e.labelColors);null!=e.labelBold&&(t.labelBold=e.labelBold);null!=e.labelAlign&&(t.labelAlign=e.labelAlign);isNaN(e.stateNum)||(t.stateNum=e.stateNum);isNaN(e.labelSize)||(t.labelSize=e.labelSize);isNaN(e.labelStroke)||(t.labelStroke=e.labelStroke)}(e,t.props),e instanceof Laya.ComboBox&&function(e,t){null!=e.skin&&(t.skin=e.skin);null!=e.sizeGrid&&(t.sizeGrid=e.sizeGrid);null!=e.selectedLabel&&(t.selectedLabel=e.selectedLabel);null!=e.scrollBarSkin&&(t.scrollBarSkin=e.scrollBarSkin);null!=e.labels&&(t.labels=e.labels);null!=e.labelFont&&(t.labelFont=e.labelFont);null!=e.labelBold&&(t.labelBold=e.labelBold);null!=e.labelColors&&(t.labelColors=e.labelColors);null!=e.labelPadding&&(t.labelPadding=e.labelPadding);null!=e.itemColors&&(t.itemColors=e.itemColors);isNaN(e.itemSize)||(t.itemSize=e.itemSize);isNaN(e.labelSize)||(t.labelSize=e.labelSize);isNaN(e.stateNum)||(t.stateNum=e.stateNum);isNaN(e.visibleNum)||(t.visibleNum=e.visibleNum);isNaN(e.selectedIndex)||(t.selectedIndex=e.selectedIndex)}(e,t.props),e instanceof Laya.Slider&&function(e,t){null!=e.skin&&(t.skin=e.skin);null!=e.sizeGrid&&(t.sizeGrid=e.sizeGrid);null!=e.showLabel&&(t.showLabel=e.showLabel);null!=e.allowClickBack&&(t.allowClickBack=e.allowClickBack);isNaN(e.value)||(t.value=e.value);isNaN(e.tick)||(t.tick=e.tick);isNaN(e.min)||(t.min=e.min);isNaN(e.max)||(t.max=e.max)}(e,t.props),e instanceof Laya.ScrollBar&&function(e,t){null!=e.skin&&(t.skin=e.skin);null!=e.hide&&(t.hide=e.hide);null!=e.autoHide&&(t.autoHide=e.autoHide);null!=e.sizeGrid&&(t.sizeGrid=e.sizeGrid);null!=e.showButtons&&(t.showButtons=e.showButtons);null!=e.mouseWheelEnable&&(t.mouseWheelEnable=e.mouseWheelEnable);null!=e.touchScrollEnable&&(t.touchScrollEnable=e.touchScrollEnable);isNaN(e.value)||(t.value=e.value);isNaN(e.min)||(t.min=e.min);isNaN(e.max)||(t.max=e.max);isNaN(e.rollRatio)||(t.rollRatio=e.rollRatio);isNaN(e.scrollSize)||(t.scrollSize=e.scrollSize);isNaN(e.elasticDistance)||(t.elasticDistance=e.elasticDistance);isNaN(e.elasticBackTime)||(t.elasticBackTime=e.elasticBackTime)}(e,t.props),e instanceof Laya.ProgressBar&&function(e,t){null!=e.skin&&(t.skin=e.skin);null!=e.sizeGrid&&(t.sizeGrid=e.sizeGrid);isNaN(e.value)||(t.value=e.value)}(e,t.props),e instanceof Laya.Label&&function(e,t){null!=e.text&&(t.text=e.text);null!=e.font&&(t.font=e.font);null!=e.color&&(t.color=e.color);null!=e.align&&(t.align=e.align);null!=e.valign&&(t.valign=e.valign);null!=e.wordWrap&&(t.wordWrap=e.wordWrap);null!=e.underline&&(t.underline=e.underline);null!=e.underlineColor&&(t.underlineColor=e.underlineColor);null!=e.padding&&(t.padding=e.padding);null!=e.overflow&&(t.overflow=e.overflow);null!=e.italic&&(t.italic=e.italic);null!=e.strokeColor&&(t.strokeColor=e.strokeColor);null!=e.borderColor&&(t.borderColor=e.borderColor);null!=e.bold&&(t.bold=e.bold);null!=e.bgColor&&(t.bgColor=e.bgColor);isNaN(e.leading)||(t.leading=e.leading);isNaN(e.fontSize)||(t.fontSize=e.fontSize);isNaN(e.stroke)||(t.stroke=e.stroke)}(e,t.props),e instanceof Laya.TextInput&&function(e,t){null!=e.text&&(t.text=e.text);null!=e.skin&&(t.skin=e.skin);null!=e.type&&(t.type=e.type);null!=e.sizeGrid&&(t.sizeGrid=e.sizeGrid);null!=e.restrict&&(t.restrict=e.restrict);null!=e.prompt&&(t.prompt=e.prompt);null!=e.promptColor&&(t.promptColor=e.promptColor);null!=e.multiline&&(t.multiline=e.multiline);null!=e.editable&&(t.editable=e.editable);isNaN(e.maxChars)||(t.maxChars=e.maxChars)}(e,t.props),e instanceof Laya.TextArea&&function(e,t){null!=e.vScrollBarSkin&&(t.vScrollBarSkin=e.vScrollBarSkin);null!=e.hScrollBarSkin&&(t.hScrollBarSkin=e.hScrollBarSkin)}(e,t.props),e instanceof Laya.ColorPicker&&function(e,t){null!=e.selectedColor&&(t.selectedColor=e.selectedColor);null!=e.inputColor&&(t.inputColor=e.inputColor);null!=e.inputBgColor&&(t.inputBgColor=e.inputBgColor);null!=e.borderColor&&(t.borderColor=e.borderColor);null!=e.bgColor&&(t.bgColor=e.bgColor)}(e,t.props),e instanceof Laya.Box&&function(e,t){null!=e.bgColor&&(t.bgColor=e.bgColor)}(e,t.props),e instanceof Laya.LayoutBox&&function(e,t){null!=e.align&&(t.align=e.align);isNaN(e.space)||(t.space=e.space)}(e,t.props),e instanceof Laya.Panel&&function(e,t){null!=e.elasticEnabled&&(t.elasticEnabled=e.elasticEnabled);null!=e.hScrollBarSkin&&(t.hScrollBarSkin=e.hScrollBarSkin);null!=e.vScrollBarSkin&&(t.vScrollBarSkin=e.vScrollBarSkin)}(e,t.props),e instanceof Laya.List&&function(e,t){isNaN(e.width)||(t.width=e.width);isNaN(e.height)||(t.height=e.height);isNaN(e.spaceX)||(t.spaceX=e.spaceX);isNaN(e.spaceY)||(t.spaceY=e.spaceY);isNaN(e.repeatX)||(t.repeatX=e.repeatX);isNaN(e.repeatY)||(t.repeatY=e.repeatY);isNaN(e.selectedIndex)||(t.selectedIndex=e.selectedIndex);null!=e.selectEnable&&(t.selectEnable=e.selectEnable);null!=e.elasticEnabled&&(t.elasticEnabled=e.elasticEnabled);null!=e.hScrollBarSkin&&(t.hScrollBarSkin=e.hScrollBarSkin);null!=e.vScrollBarSkin&&(t.vScrollBarSkin=e.vScrollBarSkin)}(e,t.props),e instanceof Laya.Tree&&function(e,t){isNaN(e.width)||(t.width=e.width);isNaN(e.height)||(t.height=e.height);isNaN(e.spaceLeft)||(t.spaceLeft=e.spaceLeft);isNaN(e.spaceBottom)||(t.spaceBottom=e.spaceBottom);isNaN(e.selectedIndex)||(t.selectedIndex=e.selectedIndex);null!=e.scrollBarSkin&&(t.scrollBarSkin=e.scrollBarSkin);null!=e.keepStatus&&(t.keepStatus=e.keepStatus)}(e,t.props),e instanceof Laya.ViewStack&&function(e,t){isNaN(e.selectedIndex)||(t.selectedIndex=e.selectedIndex)}(e,t.props),e instanceof Laya.UIGroup&&function(e,t){null!=e.skin&&(t.skin=e.skin);null!=e.labels&&(t.labels=e.labels);null!=e.labelStrokeColor&&(t.labelStrokeColor=e.labelStrokeColor);null!=e.labelPadding&&(t.labelPadding=e.labelPadding);null!=e.labelFont&&(t.labelFont=e.labelFont);null!=e.labelColors&&(t.labelColors=e.labelColors);null!=e.labelBold&&(t.labelBold=e.labelBold);null!=e.strokeColors&&(t.strokeColors=e.strokeColors);null!=e.direction&&(t.direction=e.direction);isNaN(e.space)||(t.space=e.space);isNaN(e.stateNum)||(t.stateNum=e.stateNum);isNaN(e.selectedIndex)||(t.selectedIndex=e.selectedIndex);isNaN(e.labelStroke)||(t.labelStroke=e.labelStroke);isNaN(e.labelSize)||(t.labelSize=e.labelSize)}(e,t.props),e instanceof Laya.Tab&&function(e,t){null!=e.labelAlign&&(t.labelAlign=e.labelAlign)}(e,t.props),t.child=[];for(let a=0;a<e.numChildren;a++){let i=Node2Comp(e.getChildAt(a));null!=i&&t.child.push(i)}return e instanceof Laya.Sprite&&function(e,t){null!=e.mask&&t.push(Node2Comp(e.mask))}(e,t.child),function(e,t){let a=e.getComponents(Laya.Script);if(null!=a)for(let e of a)t.push({type:"Script",props:{runtime:e.runtime}})}(e,t.child),t}e.Instantiate=function(e){let t=Node2Comp(e);return Laya.SceneUtils.createComp(t)}}(n||(n={}));class o extends a{constructor(){super(...arguments),this.scroll=null,this.layout=null,this.paddingTop=10,this.paddingBottom=10,this.move=null,this.show=null,this.hide=null,this.maxX=560,this.mouseDown=!1,this.lastStageX=0,this.lastStageY=0,this.targetX=0,this.showing=[]}async OnAwake(){this.shield=TJ.Develop.Yun.Location.shield,this.move=this.owner.getChildByName("move");let e=this.move.getChildByName("button");this.show=e.getChildByName("show"),this.hide=e.getChildByName("hide");let t=this.move.getChildByName("board");if(this.scroll=t.getChildByName("scroll"),this.layout=this.scroll.getChildByName("layout"),TJ.Develop.Yun.Promo.Data.ReportAwake(o.style),this.show.clickHandler=new Laya.Handler(null,()=>{this.Show()}),this.hide.clickHandler=new Laya.Handler(null,()=>{this.Hide()}),this.layoutS=this.layout.addComponent(r),this.show.parent.scaleX<0&&(this.maxX=-this.maxX),TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.ZJTD_AppRt)return;this.active=!1;let a=await TJ.Develop.Yun.Promo.List.Get();if(a.count>0&&null!=this.layoutS){if(this.shield)for(let e=0;e<Math.min(a.count,5);e++)this.layoutS.datas.push(a.Load());else for(let e=0;e<a.count;e++)this.layoutS.datas.push(a.Load());this.layoutS.Init(this.scroll.width,this.scroll.height,this.shield),this.active=!0,TJ.Develop.Yun.Promo.Data.ReportStart(o.style)}}OnStart(){this.shield||(this.scroll.on(Laya.Event.MOUSE_DOWN,null,e=>{this.mouseDown=!0,this.lastStageX=e.stageX,this.lastStageY=e.stageY}),this.scroll.on(Laya.Event.MOUSE_OUT,null,e=>{this.mouseDown=!1}),this.scroll.on(Laya.Event.MOUSE_UP,null,e=>{this.mouseDown=!1}),this.scroll.on(Laya.Event.MOUSE_MOVE,null,e=>{if(this.mouseDown){e.stageX,this.lastStageX;let t=e.stageY-this.lastStageY;this.lastStageX=e.stageX,this.lastStageY=e.stageY;let a=this.layoutS.node.y+t;this.layoutS.node.y=a}}))}Show(){if(TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.ZJTD_AppRt){let e=new TJ.API.Promo.Param;return e.extraData={TJ_App:TJ.API.AppInfo.AppGuid()},void TJ.API.Promo.Pop(e)}this.targetX=this.maxX,this.show.active=this.show.visible=!1,this.hide.active=this.hide.visible=!0,this.layout.y=0}Hide(){this.targetX=0,this.showing=[]}OnUpdate(){let e=Laya.timer.delta/1e3;if(this.move.centerX!=this.targetX){let t=this.targetX-this.move.centerX,a=3e3*e;t=t>0?Math.min(this.move.centerX+a,this.targetX):Math.max(this.move.centerX-a,this.targetX),this.move.centerX=t,0==this.move.centerX&&(this.show.active=this.show.visible=!0,this.hide.active=this.hide.visible=!1,this.shield&&window.setTimeout(async()=>{let e=await TJ.Develop.Yun.Promo.List.Get();if(null!=e&&e.count>0){this.layoutS.datas=[];for(let t=0;t<Math.min(e.count,5);t++)this.layoutS.datas.push(e.Load());this.layoutS.Redata()}},0))}else{if(this.shield)return;this.move.centerX==this.maxX&&(this.layout.y-=.8)}this.shield||this.layoutS.Repos(this.layout.y)}}o.style="P405";class r extends a{constructor(){super(...arguments),this.datas=[],this.items=[],this.prefab=null,this.line=0,this.column=0,this.spacingX=12,this.spacingY=12}get node(){return this.owner}OnAwake(){this.prefab=this.node.getChildAt(0),this.prefab.active=this.prefab.visible=!1}Init(e,t,a){for(;e>=this.prefab.width;)e=e-this.prefab.width-this.spacingX,this.column++;for(;t>=this.prefab.height;)t=t-this.prefab.height-this.spacingY,this.line++;if(a){let e=this.prefab.width,t=this.prefab.height,a=e+this.spacingX,s=t+this.spacingY;for(let o=0;o<this.line;o++)for(let r=0;r<this.column;r++)if(this.items.length<this.datas.length){let l=n.Instantiate(this.prefab).getComponent(i);this.node.addChild(l.owner),l.owner.active=l.owner.visible=!0,this.items.push(l),l.owner.x=r*a+e/2,l.owner.y=s*o+t/2,l.onAwake()}this.Redata()}else{this.line+=2;for(let e=0;e<this.line;e++)for(let e=0;e<this.column;e++){let e=n.Instantiate(this.prefab).getComponent(i);this.node.addChild(e.owner),e.owner.active=e.owner.visible=!0,this.items.push(e),e.onAwake()}}}Redata(){for(let e=0;e<this.items.length;e++){let t=this.items[e];t.data=this.datas[e],t.data.Load(),t.DoLoad()}}Repos(e){let t=this.items.length,a=this.datas.length;if(t<1)return;if(a<1)return;let i=this.prefab.width,n=this.prefab.height,s=i+this.spacingX,o=n+this.spacingY,r=-e/o;r=Math.floor(r);let l=Math.floor(r/this.line)*this.line,h=r<0?(this.line+r%this.line)%this.line:r%this.line,c=(e,t,r,l)=>{let h=t+r*this.column+l;if(e.posId!=h){e.posId=h,e.owner.x=s*l+i/2,e.owner.y=(t+r)*o+n/2;let c=h<0?(a+h%a)%a:h%a;e.dataId!=c&&(e.dataId=c,e.data=this.datas[c],e.data.Load(),e.DoLoad())}};for(let e=0;e<h;e++)for(let t=0;t<this.column;t++)c(this.items[e*this.column+t],l+this.line,e,t);for(let e=h;e<this.line;e++)for(let t=0;t<this.column;t++)c(this.items[e*this.column+t],l,e,t)}}class l extends a{constructor(){super(...arguments),this.promoItem=null,this.shake=!1,this.animTime=0,this.refrTime=0}async OnAwake(){if(this.promoItem=this.owner.getComponent(i),TJ.Develop.Yun.Promo.Data.ReportAwake(l.style),this.promoItem.style=l.style,this.active=!1,null==l.promoList){let e=await TJ.Develop.Yun.Promo.List.Get(l.style);null==l.promoList&&(l.promoList=e)}l.promoList.count>0&&(TJ.Develop.Yun.Promo.Data.ReportStart(l.style),this.active=!0)}OnEnable(){this.LoadAndShowIcon()}OnDisable(){null!=l.promoList&&l.promoList.Unload(this.promoItem.data)}OnUpdate(){let e=Laya.timer.delta/1e3;this.refrTime+=e,this.refrTime>5&&(this.refrTime-=5,this.LoadAndShowIcon()),this.shake&&(this.animTime+=e,this.animTime%=2.5,this.animTime<=.75?this.promoItem.owner.rotation=25*Math.sin(6*this.animTime*Math.PI)*(1-this.animTime/.75):this.promoItem.owner.rotation=0)}LoadIcon(){let e=l.promoList.Load();return null!=e&&(l.promoList.Unload(this.promoItem.data),this.promoItem.data=e,this.promoItem.onClick_=(()=>{this.LoadAndShowIcon()}),this.promoItem.DoLoad()),e}LoadAndShowIcon(){null!=this.LoadIcon()?this.promoItem.OnShow():null==this.promoItem.data&&this.owner.destroy()}}l.style="P201",l.promoList=null,function(e){let t,a,i,n,s,o,r,l,h,_,d,u,m,g,p,y,f,w,C,S,L,b,v;!function(e){let t,a,i,n;function getDialogContent_Random(e){let t=[],a=getUseWhere(e),i=Math.floor(Math.random()*a.length);for(const e in a[i])if(a[i].hasOwnProperty(e)){const n=a[i][e];"content"==e.substring(0,7)&&"-1"!==n&&t.push(n)}return t}function getUseWhere(t){let a=[];for(let i=0;i<e._dialogContent.Array.length;i++){const n=e._dialogContent.Array[i];n.useWhere==t&&a.push(n)}return a}!function(e){e.blackBord="Lwg/UI/ui_orthogon_black_0.7.png"}(t||(t={})),e.createHint_Middle=function(e){let a=Laya.Pool.getItemByClass("Hint_M",Laya.Sprite);a.name="Hint_M",Laya.stage.addChild(a),a.width=Laya.stage.width,a.height=100,a.pivotY=a.height/2,a.pivotX=Laya.stage.width/2,a.x=Laya.stage.width/2,a.y=Laya.stage.height/2,a.zOrder=100;let i=new Laya.Image;a.addChild(i),i.skin=t.blackBord,i.width=Laya.stage.width,i.pivotX=Laya.stage.width/2,i.height=100,i.pivotY=i.height/2,i.y=a.height/2,i.x=Laya.stage.width/2,i.alpha=.6;let n=new Laya.Label;a.addChild(n),n.width=Laya.stage.width,n.text=e,n.pivotX=Laya.stage.width/2,n.x=Laya.stage.width/2,n.height=100,n.pivotY=50,n.y=a.height/2,n.bold=!0,n.fontSize=35,n.color="#ffffff",n.align="center",n.valign="middle",n.alpha=0,f.scale_Alpha(a,0,1,0,1,1,1,200,0,e=>{f.fadeOut(n,0,1,150,0,e=>{f.fadeOut(n,1,0,200,800,e=>{f.scale_Alpha(a,1,1,1,1,0,0,200,0,e=>{a.removeSelf()})})})})},e._dialogContent={get Array(){return null!==Laya.loader.getRes("GameData/Dialogue/Dialogue.json").RECORDS?Laya.loader.getRes("GameData/Dialogue/Dialogue.json").RECORDS:[]}},e.getDialogContent=function(t,a){let i;for(let n=0;n<e._dialogContent.Array.length;n++){const s=e._dialogContent.Array[n];if(s.useWhere==t&&s.name==a){i=s;break}}let n=[];for(const e in i)if(i.hasOwnProperty(e)){const t=i[e];"content"!=e.substring(0,7)&&-1===t||n.push(t)}return n},e.getDialogContent_Random=getDialogContent_Random,e.getUseWhere=getUseWhere,function(e){e.scene1="scene1",e.scene2="scene2",e.scene3="scene3"}(a=e.UseWhere||(e.UseWhere={})),function(e){e.name="name",e.useWhere="useWhere",e.content="content",e.max="max"}(i=e.DialogProperty||(e.DialogProperty={})),function(e){e.voluntarily="voluntarily",e.manual="manual",e.clickContent="clickContent"}(n=e.PlayMode||(e.PlayMode={})),e.createVoluntarilyDialogue=function(t,a,i,n,s,o,r){null==n&&(n=0),Laya.timer.once(n,this,()=>{let n;Laya.loader.load("Prefab/Dialogue_Common.json",Laya.Handler.create(this,function(l){let h=new Laya.Prefab;h.json=l,n=Laya.Pool.getItemByCreateFun("Pre_Dialogue",h.create,h),o?o.addChild(n):Laya.stage.addChild(n),n.x=t,n.y=a;let c,_=n.getChildByName("Content");void 0!==r?_.text=r[0]:(c=getDialogContent_Random(i),_.text=c[0]),n.zOrder=100,null==s&&(s=1e3),f.scale_Alpha(n,0,0,0,1,1,1,150,1e3,()=>{for(let e=0;e<c.length;e++)Laya.timer.once(e*s,this,()=>{_.text=c[e],e==c.length-1&&Laya.timer.once(s,this,()=>{f.scale_Alpha(n,1,1,1,0,0,0,150,1e3,()=>{n.removeSelf()})})})}),e.DialogueNode=n}))})},e.createCommonDialog=function(e,t,a,i){let n;Laya.loader.load("Prefab/Dialogue_Common.json",Laya.Handler.create(this,function(s){let o=new Laya.Prefab;o.json=s,n=Laya.Pool.getItemByCreateFun("Dialogue_Common",o.create,o),e.addChild(n),n.pos(t,a),n.getChildByName("Dialogue_Common").text=i}))}}(t=e.Dialogue||(e.Dialogue={})),function(e){let t;function _createOne(a,i,n){let s=Laya.Pool.getItemByClass("addGold",Laya.Image);s.name="addGold";Math.floor(12*Math.random());return s.alpha=1,s.zOrder=60,s.width=a,s.height=i,s.pivotX=a/2,s.pivotY=i/2,s.skin=n||t[0],e.GoldNode&&(s.zOrder=e.GoldNode.zOrder+10),s}e._num={get value(){return Laya.LocalStorage.getItem("GoldNum")?Number(Laya.LocalStorage.getItem("GoldNum")):0},set value(e){Laya.LocalStorage.setItem("GoldNum",e.toString())}},e._createGoldNode=function(t,a,i){let n;i||(i=Laya.stage),e.GoldNode&&e.GoldNode.removeSelf(),Laya.loader.load("Prefab/LwgGold.json",Laya.Handler.create(this,function(s){let o=new Laya.Prefab;o.json=s,(n=Laya.Pool.getItemByCreateFun("gold",o.create,o)).getChildByName("Num").text=S._Format.formatNumber(e._num.value),i.addChild(n),n.pos(t,a),n.zOrder=100,e.GoldNode=n}))},e._add=function(t){e._num.value+=Number(t),e.GoldNode.getChildByName("Num").text=S._Format.formatNumber(e._num.value)},e._addDisPlay=function(t){let a=e.GoldNode.getChildByName("Num");a.value=(Number(a.value)+Number(t)).toString()},e._addNoDisPlay=function(t){e._num.value+=Number(t)},e._nodeAppear=function(t,a,i){e.GoldNode&&(t?f.scale_Alpha(e.GoldNode,0,1,1,1,1,1,t,0,t=>{e.GoldNode.visible=!0}):e.GoldNode.visible=!0,a&&(e.GoldNode.x=a),i&&(e.GoldNode.y=i))},e._nodeVinish=function(t){e.GoldNode&&(t?f.scale_Alpha(e.GoldNode,1,1,1,1,1,0,t,0,t=>{e.GoldNode.visible=!1}):e.GoldNode.visible=!1)},function(e){e[e["Frame/Effects/iconGold.png"]=0]="Frame/Effects/iconGold.png"}(t||(t={})),e._createOne=_createOne,e._getAni_Single=function(e,t,a,i,n,s,o,r,l){for(let h=0;h<t;h++)Laya.timer.once(30*h,this,()=>{let c=_createOne(a,i,n);e.addChild(c),f.move_Scale(c,1,s.x,s.y,o.x,o.y,1,350,0,null,()=>{C._playSound(C._voiceUrl.huodejinbi),h===t-1?Laya.timer.once(200,this,()=>{l&&l()}):r&&r(),c.removeSelf()})})},e._getAni_Heap=function(a,i,n,s,o,r,l,h,c){for(let _=0;_<i;_++){let d=_createOne(n||100,s||100,o||t[0]);(a=a||Laya.stage).addChild(d),r=r||new Laya.Point(Laya.stage.width/2,Laya.stage.height/2),l=l||new Laya.Point(e.GoldNode.x,e.GoldNode.y);let u=1==Math.floor(2*Math.random())?r.x+100*Math.random():r.x-100*Math.random(),m=1==Math.floor(2*Math.random())?r.y+100*Math.random():r.y-100*Math.random();f.move_Scale(d,.5,r.x,r.y,u,m,1,300,100*Math.random()+100,Laya.Ease.expoIn,()=>{f.move_Scale(d,1,d.x,d.y,l.x,l.y,1,400,200*Math.random()+100,Laya.Ease.cubicOut,()=>{C._playSound(C._voiceUrl.huodejinbi),_===i-1?Laya.timer.once(200,this,()=>{c&&c()}):h&&h(),d.removeSelf()})})}}}(a=e.Gold||(e.Gold={})),function(e){e.dispatcher=new Laya.EventDispatcher,e._register=function(t,a,i){a||console.error("事件的执行域必须存在!"),e.dispatcher.on(t.toString(),a,i)},e._registerOnce=function(t,a,i){a||console.error("事件的执行域必须存在!"),e.dispatcher.once(t.toString(),a,i)},e._notify=function(t,a){e.dispatcher.event(t.toString(),a)},e._off=function(t,a,i){e.dispatcher.off(t.toString(),a,i)},e._offAll=function(t){e.dispatcher.offAll(t.toString())},e._offCaller=function(t){e.dispatcher.offAllCaller(t)}}(i=e.EventAdmin||(e.EventAdmin={})),function(e){e._date={get year(){return(new Date).getFullYear()},get month(){return(new Date).getMonth()},get date(){return(new Date).getDate()},get day(){return(new Date).getDay()},get hours(){return(new Date).getHours()},get minutes(){return(new Date).getMinutes()},get seconds(){return(new Date).getSeconds()},get milliseconds(){return(new Date).getMilliseconds()},get toLocaleDateString(){return(new Date).toLocaleDateString()},get toLocaleTimeString(){return(new Date).toLocaleTimeString()}},e._init=function(){let t=new Date;e._loginInfo=_._arrayArr("DateAdmin._loginInfo"),e._loginInfo.value.push([t.getFullYear(),t.getMonth()+1,t.getDate(),t.getDay(),t.getHours(),t.getMinutes(),t.getSeconds()]);let a=[];if(e._loginInfo.value.length>0)for(let t=0;t<e._loginInfo.value.length;t++)a.push(e._loginInfo.value[t]);a.push([t.getFullYear(),t.getMonth()+1,t.getDate(),t.getDay(),t.getHours(),t.getMinutes(),t.getSeconds()]),e._loginInfo.value=a,e._loginCount=_._num("DateAdmin._loginCount"),e._loginCount.value++,e._loginToday.num++},e._loginToday={get num(){return Laya.LocalStorage.getItem("DateAdmin._loginToday")?Number(Laya.LocalStorage.getItem("DateAdmin._loginToday")):0},set num(t){e._date.date==e._loginInfo.value[e._loginInfo.value.length-1][2]&&Laya.LocalStorage.setItem("DateAdmin._loginToday",t.toString())}},e._last={get date(){return e._loginInfo.value.length>1?e._loginInfo.value[e._loginInfo.value.length-2][2]:e._loginInfo.value[e._loginInfo.value.length-1][2]}},e._front={get date(){return e._loginInfo.value[e._loginInfo.value.length-1][2]}}}(n=e.DateAdmin||(e.DateAdmin={})),function(e){e._switch=!0,e._frameLoop=function(t,a,i,n,s,o){n&&e._switch&&i(),Laya.timer.frameLoop(t,a,()=>{e._switch&&i()},s,o)},e._frameRandomLoop=function(t,a,i,n,s,o,r){s&&e._switch&&n();var l=()=>{let s=S._Number.randomOneInt(t,a);Laya.timer.frameOnce(s,i,()=>{e._switch&&(n(),l())},o,r)};l()},e._frameNumLoop=function(t,a,i,n,s,o,r,l){o&&e._switch&&n();let h=0;var c=()=>{e._switch&&(++h>=a?(n(),s&&s(),Laya.timer.clear(i,c)):n())};Laya.timer.frameLoop(t,i,c,r,l)},e._numRandomLoop=function(t,a,i,n,s,o,r,l,h){r&&e._switch&&s();let c=0;var _=()=>{let r=S._Number.randomOneInt(t,a);Laya.timer.frameOnce(r,n,()=>{e._switch&&(++c>=i?(s(),o()):(s(),_()))},l,h)};_()},e._frameNumRandomLoop=function(t,a,i,n,s,o,r,l,h){r&&e._switch&&s();let c=0;var _=()=>{let r=S._Number.randomOneInt(t,a);Laya.timer.frameOnce(r,n,()=>{e._switch&&(++c>=i?(s(),o&&o()):(s(),_()))},l,h)};_()},e._frameOnce=function(e,t,a,i,n,s){i&&i(),Laya.timer.frameOnce(e,t,()=>{a()},n,s)},e._frameNumOnce=function(e,t,a,i,n,s,o){for(let r=0;r<t;r++)n&&n(),Laya.timer.frameOnce(e,a,()=>{i()},s,o)},e._loop=function(t,a,i,n,s,o){n&&e._switch&&i(),Laya.timer.loop(t,a,()=>{e._switch&&i()},s,o)},e._randomLoop=function(t,a,i,n,s,o,r){s&&e._switch&&n();var l=()=>{let s=S._Number.randomOneInt(t,a);Laya.timer.once(s,i,()=>{e._switch&&(n(),l())},o,r)};l()},e._numLoop=function(t,a,i,n,s,o,r,l){o&&n();let h=0;var c=()=>{e._switch&&(++h>a?(n(),s&&s(),Laya.timer.clear(i,c)):n())};Laya.timer.loop(t,i,c,r,l)},e._once=function(e,t,a,i,n,s){i&&i(),Laya.timer.once(e,t,()=>{a()},n,s)},e._clearAll=function(e){for(let t=0;t<e.length;t++)Laya.timer.clearAll(e[t])},e._clear=function(e){for(let t=0;t<e.length;t++)Laya.timer.clear(e[t][0],e[t][1])}}(s=e.TimerAdmin||(e.TimerAdmin={})),function(e){e._Use={get value(){return this.Adaptive_value?this.Adaptive_value:null},set value(e){this.Adaptive_value=e}},e._stageWidth=function(t){for(let a=0;a<t.length;a++){const i=t[a];0==i.pivotX&&i.width?i.x=i.x/e._Use.value[0]*Laya.stage.width+i.width/2:i.x=i.x/e._Use.value[0]*Laya.stage.width}},e._stageHeight=function(t){for(let a=0;a<t.length;a++){const i=t[a];0==i.pivotY&&i.height?i.y=i.y/e._Use.value[1]*i.scaleX*Laya.stage.height+i.height/2:i.y=i.y/e._Use.value[1]*i.scaleX*Laya.stage.height}},e._center=function(e,t){for(let a=0;a<e.length;a++){const i=e[a];i.width>0?i.x=t.width/2-(i.width/2-i.pivotX)*i.scaleX:i.x=t.width/2,i.height>0?i.y=t.height/2-(i.height/2-i.pivotY)*i.scaleY:i.y=t.height/2}}}(o=e.Adaptive||(e.Adaptive={})),function(e){e._Tpye={Bytedance:"Bytedance",WeChat:"WeChat",OPPO:"OPPO",OPPOTest:"OPPOTest",VIVO:"VIVO",General:"General",Web:"Web",WebTest:"WebTest",Research:"Research"},e._Ues={get value(){return this._platform_name?this._platform_name:null},set value(t){switch(this._platform_name=t,t){case e._Tpye.WebTest:Laya.LocalStorage.clear(),a._num.value=5e3;break;case e._Tpye.Research:a._num.value=5e13}}}}(r=e.Platform||(e.Platform={})),function(e){let t,a,i;e._openSwitch={get value(){return!!this.openSwitch&&this.openSwitch},set value(t){t&&(e._closeSwitch.value=!1),this.openSwitch=t}},e._closeSwitch={get value(){return!!this.closeSwitch&&this.closeSwitch},set value(t){t&&(e._openSwitch.value=!1),this.closeSwitch=t}},e._Use={get value(){return this.SceneAnimation_name?this.SceneAnimation_name:null},set value(e){this.SceneAnimation_name=e}},e._closeAniDelay=0,e._closeAniTime=0,e._commonOpenAni=function(t){var a=()=>{p._switch=!0,t[t.name]&&(t[t.name].lwgOpenAniAfter(),t[t.name].lwgButton())};if(!e._openSwitch.value)return h._SceneChange._close(),Laya.timer.once(e._closeAniDelay+e._closeAniTime,this,()=>{a()}),0;let i=0;return i=e._Use.value.class._paly(e._Use.value.type,t),Laya.timer.once(i,this,()=>{a()}),i},e._commonCloseAni=function(t){return e._Use.value.class._paly(e._Use.value.type,t)},function(t){let a=700,i=150;t.Close=class{static _paly(t,n){return function(e){e.Background&&f.fadeOut(e,1,0,75),f.fadeOut(e,1,0,150,50)}(n),e._closeAniDelay=i,e._closeAniTime=a,a+i}};t.Open=class{static _paly(e,t){return function(e){e.Background&&f.fadeOut(e,0,1,200,300),f.fadeOut(e,0,1,400,0)}(t),a+i}}}(t=e._fadeOut||(e._fadeOut={})),function(t){let a=10,i=700,n=150;function _moveClose(e,t,a,n){f.scale(e,1,1,a,n,i,0,()=>{t.disposeBitmap(),t.destroy(),e.destroy()})}function _moveOpen(e,t,a,n){f.scale(e,a,n,1,1,i,0,()=>{t.disposeBitmap(),t.destroy(),e.destroy()})}function _moveRule(e,t,a,i){i?"x"===a?_moveOpen(e,t,0,1):_moveOpen(e,t,1,0):"x"===a?_moveClose(e,t,0,1):_moveClose(e,t,1,0)}function _createNoMaskSp(e,t,a,i,n,s,o){const r=new Laya.Sprite;return Laya.stage.addChild(r),r.name="shutters",r.zOrder=1e3,r.pos(e,t),r.size(a,i),S._Node.changePivot(r,a/2,i/2),r.texture=n,_moveRule(r,n,s,o),r}function _createMaskSp(e,t,a){const i=new Laya.Sprite;Laya.stage.addChild(i);const n=Laya.stage.width,s=Laya.stage.height;i.size(n,s),i.pos(0,0),i.zOrder=1e3,i.name="shutters";const o=e.drawToTexture(n,s,0,0);return i.texture=o,_moveRule(i,o,t,a),i}function _createMask(e){const t=new Laya.Image;return t.skin="Lwg/UI/ui_orthogon_cycn.png",t.sizeGrid="12,12,12,12",e.mask=t,t.anchorX=t.anchorY=.5,t}function _crosswise(e,t){for(let i=0;i<a;i++){const n=e.width/a,s=Laya.stage.height;_createNoMaskSp(n*i,0,n,s,e.drawToTexture(n,s,-n*i,0),"x",t)}}function _vertical(e,t){for(let t=0;t<a;t++){const i=e.width,n=Laya.stage.height/a;_createNoMaskSp(0,n*t,i,n,e.drawToTexture(i,n,0,-n*t),"y",!1)}}function _croAndVer(e,t){const i=a-2;for(let t=0;t<i;t++){const a=e.width/i,n=Laya.stage.height;_createNoMaskSp(a*t,0,a,n,e.drawToTexture(a,n,-a*t,0),"x",!1)}for(let a=0;a<i;a++){const n=e.width,s=Laya.stage.height/i;_createNoMaskSp(0,s*a,n,s,e.drawToTexture(n,s,0,-s*a),"y",t)}}function _rSideling(e,t){for(let i=0;i<a;i++){let n=1e3;const s=_createMaskSp(e,"x",t),o=_createMask(s);o.size(Math.round(Laya.stage.width/a),Math.round(Laya.stage.height+n)),o.pos(Math.round(Laya.stage.width/a*i),Math.round(-n/2)),S._Node.changePivot(o,Math.round(o.width/2),Math.round(o.height/2)),S._Node.changePivot(s,Math.round(i*s.width/a+s.width/a/2),Math.round(s.height/2)),o.rotation=-10}}function _lSideling(e,t){for(let i=0;i<a;i++){const n=_createMaskSp(e,"x",t),s=_createMask(n);s.size(Math.round(Laya.stage.width/a),Math.round(Laya.stage.height+1e3)),s.pos(Math.round(Laya.stage.width/a*i),-500),S._Node.changePivot(s,Math.round(s.width/2),Math.round(s.height/2)),S._Node.changePivot(n,Math.round(i*n.width/a+n.width/a/2),Math.round(n.height/2)),s.rotation=10}}function _sidelingIntersection(e,t){for(let i=0;i<a;i++){let n=1e3;const s=_createMaskSp(e,"x",t),o=_createMask(s);o.width=Math.round(Laya.stage.width/a),o.height=Math.round(Laya.stage.height+n),o.pos(Math.round(Laya.stage.width/a*i),Math.round(-n/2)),S._Node.changePivot(o,Math.round(o.width/2),Math.round(o.height/2)),S._Node.changePivot(s,Math.round(i*s.width/a+s.width/a/2),Math.round(s.height/2)),o.rotation=-15;const r=_createMaskSp(e,"x",t),l=_createMask(r);l.width=Laya.stage.width/a,l.height=Laya.stage.height+n,l.pos(Laya.stage.width/a*i,-n/2),S._Node.changePivot(l,l.width/2,l.height/2),S._Node.changePivot(r,i*r.width/a+r.width/a/2,r.height/2),l.rotation=15}}t._crosswise=_crosswise,t._vertical=_vertical,t._croAndVer=_croAndVer,t._rSideling=_rSideling,t._lSideling=_lSideling,t._sidelingIntersection=_sidelingIntersection,t._randomCroAndVer=function(e,t){switch(S._Array.randomGetOne([0,1,2])){case 0:_crosswise(e,t);break;case 1:_vertical(e);break;case 2:_croAndVer(e,t);break;default:_crosswise(e,t)}},t._random=function(e,t){switch(S._Array.randomGetOne([0,1,2,3,4,5])){case 0:_crosswise(e,t);break;case 1:_vertical(e);break;case 2:_croAndVer(e,t);break;case 3:_sidelingIntersection(e,t);break;case 4:_lSideling(e,t);break;case 5:_rSideling(e,t);break;default:_crosswise(e,t)}};class o{static _paly(a,o){return s._once(n,this,()=>{t[`_${a}`](o,!1),o.visible=!1}),e._closeAniDelay=n,e._closeAniTime=i,i+n}}o._type={crosswise:"crosswise",vertical:"vertical",croAndVer:"croAndVer",rSideling:"rSideling",sidelingIntersection:"sidelingIntersection",randomCroAndVer:"randomCroAndVer",random:"random"},t.Close=o;class r{static _paly(e,a){return s._once(n,this,()=>{t[`_${e}`](a,!0),a.visible=!1,s._once(i,this,()=>{a.visible=!0})}),i+n}}r._type={crosswise:"crosswise",vertical:"vertical",croAndVer:"croAndVer",_sidelingIntersection:"_sidelingIntersection",randomCroAndVer:"randomCroAndVer",random:"random"},t.Open=r}(a=e._shutters||(e._shutters={})),i=e._stickIn||(e._stickIn={})}(l=e.SceneAnimation||(e.SceneAnimation={})),function(e){let t;e._game={switch:!0,get level(){return Laya.LocalStorage.getItem("_gameLevel")?Number(Laya.LocalStorage.getItem("_gameLevel")):1},set level(e){let t=e-this.level;t>0&&(this.maxLevel+=t),e>this.loopLevel&&-1!=this.loopLevel?Laya.LocalStorage.setItem("_gameLevel",1..toString()):Laya.LocalStorage.setItem("_gameLevel",e.toString())},get maxLevel(){return Laya.LocalStorage.getItem("_game_maxLevel")?Number(Laya.LocalStorage.getItem("_game_maxLevel")):this.level},set maxLevel(e){Laya.LocalStorage.setItem("_game_maxLevel",e.toString())},get loopLevel(){return this._gameloopLevel?this._gameloopLevel:-1},set loopLevel(e){this._gameloopLevel=e},LevelNode:new Laya.Sprite,_createLevel(t,a,i){let n;Laya.loader.load("prefab/LevelNode.json",Laya.Handler.create(this,function(s){let o=new Laya.Prefab;o.json=s,n=Laya.Pool.getItemByCreateFun("prefab",o.create,o),t.addChild(n),n.pos(a,i),n.zOrder=0;n.getChildByName("level");e._game.LevelNode=n}))},pause:{get switch(){return e._game.switch},set switch(t){this.bool=t,t?(e._game.switch=!1,s._switch=!1,p._switch=!0):(e._game.switch=!0,s._switch=!0,p._switch=!1)}}},e._SceneControl={},e._sceneScript={},e._Moudel={},function(e){e.PreLoad="PreLoad",e.PreLoadCutIn="PreLoadCutIn",e.Guide="Guide",e.Start="Start",e.Shop="Shop",e.Task="Task",e.Set="Set",e.Skin="Skin",e.Puase="Puase",e.Share="Share",e.Game3D="Game3D",e.Victory="Victory",e.Defeated="Defeated",e.PassHint="PassHint",e.SkinTry="SkinTry",e.Redeem="Redeem",e.Turntable="Turntable",e.CaidanPifu="CaidanPifu",e.Operation="Operation",e.VictoryBox="VictoryBox",e.CheckIn="CheckIn",e.Resurgence="Resurgence",e.AdsHint="AdsHint",e.LwgInit="LwgInit",e.Game="Game",e.SmallHint="SmallHint",e.DrawCard="DrawCard",e.PropTry="PropTry",e.Card="Card",e.ExecutionHint="ExecutionHint",e.SkinQualified="SkinQualified",e.Eastereggister="Eastereggister",e.SelectLevel="SelectLevel",e.Settle="Settle",e.Special="Special",e.Compound="Compound"}(t=e._SceneName||(e._SceneName={})),e._PreLoadCutIn={openName:null,closeName:null,func:null,zOrder:null},e._preLoadOpenScene=function(a,i,n,s){_openScene(t.PreLoadCutIn,i,n),e._PreLoadCutIn.openName=a,e._PreLoadCutIn.closeName=i,e._PreLoadCutIn.func=n,e._PreLoadCutIn.zOrder=s};class a{static _openZOderUp(){if(l._closeSwitch.value){let t=0;for(const a in e._SceneControl)if(Object.prototype.hasOwnProperty.call(e._SceneControl,a)){const i=e._SceneControl[a];i.parent&&(i.zOrder=0,t++)}if(this._openScene){this._openScene.zOrder=t;for(let e=0;e<this._closeSceneArr.length;e++){const a=this._closeSceneArr[e];a?a.zOrder=--t:(this._closeSceneArr.splice(e,1),e--)}}}}static _closeZOderUP(t){if(l._closeSwitch.value){let a=0;for(const t in e._SceneControl)if(Object.prototype.hasOwnProperty.call(e._SceneControl,t)){e._SceneControl[t].parent&&a++}t&&(t.zOrder=a,this._openScene&&(this._openScene.zOrder=--a))}}static _open(){this._openScene&&(this._openZOder?Laya.stage.addChildAt(this._openScene,this._openZOder):Laya.stage.addChild(this._openScene),e._Moudel[`_${this._openScene.name}`]?e._Moudel[`_${this._openScene.name}`][this._openScene.name]&&(this._openScene.getComponent(e._Moudel[`_${this._openScene.name}`][this._openScene.name])||this._openScene.addComponent(e._Moudel[`_${this._openScene.name}`][this._openScene.name])):console.log(`${this._openScene.name}场景没有同名脚本！,需在LwgInit脚本中导入该模块！`),this._openZOderUp(),this._openFunc())}static _close(){if(this._closeSceneArr.length>0)for(let e=0;e<this._closeSceneArr.length;e++){let t=this._closeSceneArr[e];t&&(_closeScene(t.name),this._closeSceneArr.splice(e,1),e--)}this._remake()}static _remake(){this._openScene=null,this._openZOder=1,this._openFunc=null,this._closeZOder=0}}function _openScene(t,i,n,s){p._switch=!1,Laya.Scene.load("Scene/"+t+".json",Laya.Handler.create(this,function(o){const r=S._Node.checkChildren(Laya.stage,t);r&&(r.close(),console.log(`场景${t}重复出现！前面的场景将会被关闭！`)),a._openScene=e._SceneControl[o.name=t]=o,a._closeSceneArr.push(e._SceneControl[i]),a._closeZOder=i?e._SceneControl[i].zOrder:0,a._openZOder=s||null,a._openFunc=n||(()=>{}),a._open()}))}function _closeScene(t,i){if(!e._SceneControl[t])return void console.log(`场景${t}关闭失败，可能不存在！`);var n=()=>{i&&i(),p._switch=!0,e._SceneControl[t].close()};if(!l._closeSwitch.value)return void n();a._closeZOderUP(e._SceneControl[t]);let s=e._SceneControl[t][e._SceneControl[t].name];if(s&&s){p._switch=!1;let a=s.lwgCloseAni();if(null!==a)l._closeAniDelay=a,s.lwgBeforeCloseAni(),Laya.timer.once(a,this,()=>{n(),p._switch=!0});else{const a=l._commonCloseAni(e._SceneControl[t]);Laya.timer.once(a,this,()=>{s.lwgBeforeCloseAni(),n()})}}}a._openScene=null,a._openZOder=1,a._openFunc=null,a._closeSceneArr=[],a._closeZOder=0,a._sceneNum=1,e._SceneChange=a,e._openScene=_openScene,e._closeScene=_closeScene;class n extends Laya.Script{constructor(){super(...arguments),this.ownerSceneName=""}getFind(e,t){if(this[`_Scene${t}${e}`])return this[`_Scene${t}${e}`];{let a=S._Node.findChild2D(this.owner.scene,e);if(a)return this[`_Scene${t}${e}`]=a;console.log(`场景内不存在节点${e}`)}}_FindImg(e){return this.getFind(e,"_FindImg")}_FindSp(e){return this.getFind(e,"_FindSp")}_FindBox(e){return this.getFind(e,"_FindBox")}_FindTap(e){return this.getFind(e,"_FindTap")}_FindLabel(e){return this.getFind(e,"_FindLabel")}_FindList(e){return this.getFind(e,"_FindList")}_storeNum(e,t,a){return _._num(`${this.owner.name}/${e}`,t,a)}_storeStr(e,t,a){return _._str(`${this.owner.name}/${e}`,t,a)}_storeBool(e,t,a){return _._bool(`${this.owner.name}/${e}`,t,a)}_storeArray(e,t,a){return _._array(`${this.owner.name}/${e}`,t,a)}lwgOnAwake(){}lwgAdaptive(){}lwgEvent(){}_evReg(e,t){i._register(e,this,t)}_evRegOne(e,t){i._registerOnce(e,this,t)}_evNotify(e,t){i._notify(e,t)}lwgOnEnable(){}lwgOnStart(){}lwgButton(){}_btnDown(e,t,a){p._on(null==a?p._Use.value:a,e,this,e=>{p._switch&&t&&t(e)},null,null,null)}_btnMove(e,t,a){p._on(null==a?p._Use.value:a,e,this,null,e=>{p._switch&&t&&t(e)},null,null)}_btnUp(e,t,a){p._on(null==a?p._Use.value:a,e,this,null,null,e=>{p._switch&&t&&t(e)},null)}_btnOut(e,t,a){p._on(null==a?p._Use.value:a,e,this,null,null,null,e=>{p._switch&&t&&t(e)})}_btnFour(e,t,a,i,n,s){p._on(null==s?s:p._Use.value,e,this,e=>{p._switch&&t&&t(e)},e=>{p._switch&&a&&a(e)},e=>{p._switch&&i&&i(e)},e=>{p._switch&&n&&n(e)})}_openScene(t,a,i,n,s){let o;null!=a&&1!=a||(o=this.ownerSceneName),i?e._preLoadOpenScene(t,o,n,s):e._openScene(t,o,n,s)}_closeScene(t,a){e._closeScene(t||this.ownerSceneName,a)}lwgOnUpdate(){}lwgOnDisable(){}onStageMouseDown(e){p._switch&&this.lwgOnStageDown(e)}onStageMouseMove(e){p._switch&&this.lwgOnStageMove(e)}onStageMouseUp(e){p._switch&&this.lwgOnStageUp(e)}lwgOnStageDown(e){}lwgOnStageMove(e){}lwgOnStageUp(e){}}e._ScriptBase=n;e._LwgSp=class extends Laya.Sprite{};e._LwgImg=class extends Laya.Image{};e._LwgBox=class extends Laya.Box{};e._SceneBase=class extends n{constructor(){super(),this._calssName=t.PreLoad}get _Owner(){return this.owner}addLwgImgPro(e){e._lwg={get gPoint(){return e.parent?e.parent.localToGlobal(new Laya.Point(e.x,e.y)):null}}}getVar(e,t){return this[`_Scene${t}${e}`]?this[`_Scene${t}${e}`]:this._Owner[e]?(this[`_Scene${t}${e}`]=this._Owner[e],this.addLwgImgPro(this[`_Scene${t}${e}`]),this[`_Scene${t}${e}`]):void console.log("场景内不存在var节点：",e)}_SpriteVar(e){return this.getVar(e,"_SpriteVar")}_AniVar(e){return this.getVar(e,"_AniVar")}_BtnVar(e){return this.getVar(e,"_BtnVar")}_BoxVar(e){return this.getVar(e,"_BoxVar")}_ImgVar(e){return this.getVar(e,"_ImgVar")}_LabelVar(e){return this.getVar(e,"_LabelVar")}_ListVar(e){return this.getVar(e,"_ListVar")}_TapVar(e){return this.getVar(e,"_TapVar")}_TextVar(e){return this.getVar(e,"_TextVar")}_TextInputVar(e){return this.getVar(e,"_TextInputVar")}_FontClipVar(e){return this.getVar(e,"_FontClipVar")}_FontBox(e){return this.getVar(e,"_FontBox")}_FontTextInput(e){return this.getVar(e,"_FontInput")}onAwake(){this._Owner.width=Laya.stage.width,this._Owner.height=Laya.stage.height,this._Owner.getChildByName("Background")&&(this._Owner.getChildByName("Background").width=Laya.stage.width,this._Owner.getChildByName("Background").height=Laya.stage.height),null==this._Owner.name?console.log("场景名称失效，脚本赋值失败"):(this.ownerSceneName=this._calssName=this._Owner.name,this._Owner[this._calssName]=this),this.moduleOnAwake(),this.lwgOnAwake(),this.lwgAdaptive()}moduleOnAwake(){}onEnable(){this.moduleEvent(),this.lwgEvent(),this.moduleOnEnable(),this.lwgOnEnable()}moduleOnEnable(){}moduleEvent(){}onStart(){this.moduleOnStart(),this.lwgOnStart(),this.btnAndOpenAni()}moduleOnStart(){}btnAndOpenAni(){let e=this.lwgOpenAni();null!==e?Laya.timer.once(e,this,()=>{p._switch=!0,this.lwgOpenAniAfter(),this.lwgButton(),a._close()}):l._commonOpenAni(this._Owner)}lwgOpenAni(){return null}lwgOpenAniAfter(){}_adaHeight(e){o._stageHeight(e)}_adaWidth(e){o._stageWidth(e)}_adaptiveCenter(e){o._center(e,Laya.stage)}onUpdate(){this.lwgOnUpdate()}lwgBeforeCloseAni(){}lwgCloseAni(){return null}onDisable(){Laya.Tween.clearAll(this),Laya.Tween.clearAll(this._Owner),Laya.timer.clearAll(this),Laya.timer.clearAll(this._Owner),i._offCaller(this),i._offCaller(this._Owner),this.lwgOnDisable()}};e._ObjectBase=class extends n{constructor(){super()}_ownerDestroy(){this._Owner.destroy(),this.clear()}get _Owner(){return this.owner}get _point(){return new Laya.Point(this._Owner.x,this._Owner.y)}get _Scene(){return this.owner.scene}get _Parent(){if(this._Owner.parent)return this.owner.parent}get _gPoint(){return this._Parent.localToGlobal(new Laya.Point(this._Owner.x,this._Owner.y))}get _RigidBody(){return this._Owner._OwnerRigidBody||(this._Owner._OwnerRigidBody=this._Owner.getComponent(Laya.RigidBody)),this._Owner._OwnerRigidBody}get _BoxCollier(){return this._Owner._OwnerBoxCollier||(this._Owner._OwnerBoxCollier=this._Owner.getComponent(Laya.BoxCollider)),this._Owner._OwnerBoxCollier}get _CilrcleCollier(){return this._Owner._OwnerCilrcleCollier?this._Owner._OwnerCilrcleCollier:this._Owner._OwnerCilrcleCollier=this._Owner.getComponent(Laya.BoxCollider)}get _PolygonCollier(){return this._Owner._OwnerPolygonCollier?this._Owner._OwnerPolygonCollier:this._Owner._OwnerPolygonCollier=this._Owner.getComponent(Laya.BoxCollider)}getSceneVar(e,t){return this[`_Scene${t}${e}`]?this[`_Scene${t}${e}`]:this._Scene[e]?this[`_Scene${t}${e}`]=this._Scene[e]:void console.log(`场景内不存在var节点${e}`)}_SceneSprite(e){return this.getSceneVar(e,"_SceneSprite")}_SceneAni(e){return this.getSceneVar(e,"_SceneAni")}_SceneImg(e){return this.getSceneVar(e,"_SceneImg")}_SceneLabel(e){return this.getSceneVar(e,"_SceneLabel")}_SceneList(e){return this.getSceneVar(e,"_SceneList")}_SceneTap(e){return this.getSceneVar(e,"_SceneTap")}_SceneText(e){return this.getSceneVar(e,"_SceneText")}_SceneFontClip(e){return this.getSceneVar(e,"_SceneFontClip")}_SceneBox(e){return this.getSceneVar(e,"_SceneBox")}getChild(e,t){return this[`${t}${e}`]?this[`${t}${e}`]:this._Owner.getChildByName(e)?this[`${t}${e}`]=this._Owner.getChildByName(e):null}_ImgChild(e){return this.getChild(e,"_ImgChild")}_BoxChild(e){return this.getChild(e,"_ImgBox")}_SpriteChild(e){return this.getChild(e,"_SpriteChild")}_LableChild(e){return this.getChild(e,"_LableChild")}_ListChild(e){return this.getChild(e,"_ListChild")}_TapChild(e){return this.getChild(e,"_TapChild")}_TapBox(e){return this.getChild(e,"_TapBox")}_TapFontClip(e){return this.getChild(e,"_TapFontClip")}onAwake(){this._Owner[this.__proto__.constructor.name]=this,this.ownerSceneName=this._Scene.name,this._fPoint=new Laya.Point(this._Owner.x,this._Owner.y),this._fGPoint=this._Parent.localToGlobal(new Laya.Point(this._Owner.x,this._Owner.y)),this._fRotation=this._Owner.rotation,this.lwgOnAwake(),this.lwgAdaptive()}onEnable(){this.lwgButton(),this.lwgEvent(),this.lwgOnEnable()}onStart(){this.lwgOnStart()}onUpdate(){this.lwgOnUpdate()}clear(){Laya.Tween.clearAll(this),Laya.Tween.clearAll(this._Owner),Laya.timer.clearAll(this),Laya.timer.clearAll(this._Owner),i._offCaller(this),i._offCaller(this._Owner)}onDisable(){this.clear(),this.lwgOnDisable()}}}(h=e.Admin||(e.Admin={})),function(e){class t{removeSelf(){}func(){}}e._NumVariable=class extends t{get value(){}set value(e){}};e._StrVariable=class extends t{get value(){}set value(e){}};e._BoolVariable=class extends t{get value(){}set value(e){}};e._ArrayVariable=class extends t{get value(){}set value(e){}};e._ArrayArrVariable=class extends t{get value(){}set value(e){}};e._Object=class extends t{get value(){}set value(e){}},e._num=function(e,t,a){return this[`_num${e}`]||(this[`_num${e}`]={get value(){return Laya.LocalStorage.getItem(e)?Number(Laya.LocalStorage.getItem(e)):(a=a||0,Laya.LocalStorage.setItem(e,a.toString()),a)},set value(t){Laya.LocalStorage.setItem(e,t.toString()),this.func()},removeSelf(){Laya.LocalStorage.removeItem(e)},func(){this._func&&this._func()}}),t&&(this[`_num${e}`]._func=t),this[`_num${e}`]},e._str=function(e,t,a){return this[`_str${e}`]||(this[`_str${e}`]={get value(){return Laya.LocalStorage.getItem(e)?Laya.LocalStorage.getItem(e):(a=a||null,Laya.LocalStorage.setItem(e,a.toString()),a)},set value(t){Laya.LocalStorage.setItem(e,t.toString()),this.func()},removeSelf(){Laya.LocalStorage.removeItem(e)},func(){t&&t()}}),t&&(this[`_str${e}`]._func=t),this[`_str${e}`]},e._bool=function(e,t,a){return this[`_bool${e}`]||(this[`_bool${e}`]={get value(){return Laya.LocalStorage.getItem(e)?"false"!=Laya.LocalStorage.getItem(e)&&("true"==Laya.LocalStorage.getItem(e)||void 0):(a?Laya.LocalStorage.setItem(e,"true"):Laya.LocalStorage.setItem(e,"false"),this.func(),a)},set value(t){t=t?"true":"false",Laya.LocalStorage.setItem(e,t.toString())},removeSelf(){Laya.LocalStorage.removeItem(e)},func(){t&&t()}}),t&&(this[`_bool${e}`]._func=t),this[`_bool${e}`]},e._array=function(e,t,a){return this[`_array${e}`]||(this[`_array${e}`]={get value(){try{let t=Laya.LocalStorage.getJSON(e);return t?JSON.parse(t):(a=a||[],Laya.LocalStorage.setJSON(e,JSON.stringify(a)),this.func(),a)}catch(e){return[]}},set value(t){Laya.LocalStorage.setJSON(e,JSON.stringify(t))},removeSelf(){Laya.LocalStorage.removeItem(e)},func(){t&&t()}}),t&&(this[`_array${e}`]._func=t),this[`_array${e}`]},e._obj=function(e,t,a){return this[`_obj${e}`]||(this[`_obj${e}`]={get value(){try{let t=Laya.LocalStorage.getJSON(e);return t?JSON.parse(t):(a=a||{},Laya.LocalStorage.setJSON(e,JSON.stringify(a)),this.func(),a)}catch(e){return{}}},set value(t){Laya.LocalStorage.setJSON(e,JSON.stringify(t))},removeSelf(){Laya.LocalStorage.removeItem(e)},func(){t&&t()}}),t&&(this[`_obj${e}`]._func=t),this[`_obj${e}`]},e._arrayArr=function(e,t,a){return this[`_arrayArr${e}`]||(this[`_arrayArr${e}`]={get value(){try{let t=Laya.LocalStorage.getJSON(e);return t?JSON.parse(t):(a=a||[],Laya.LocalStorage.setItem(e,a.toString()),a)}catch(e){return[]}},set value(t){Laya.LocalStorage.setJSON(e,JSON.stringify(t)),this.func()},removeSelf(){Laya.LocalStorage.removeItem(e)},func(){t&&t()}}),t&&(this[`_arrayArr${e}`]._func=t),this[`_arrayArr${e}`]}}(_=e.StorageAdmin||(e.StorageAdmin={})),function(e){e._Item=class extends h._ObjectBase{get $name(){return this.$data?this.$data.name:null}set $name(e){this.$data.name=e}get $serial(){return this.$data?this.$data.serial:null}set $serial(e){this.$data.serial=e}get $sort(){return this.$data?this.$data.sort:null}set $sort(e){this.$data.sort=e}get $chName(){return this.$data?this.$data.chName:null}set $chName(e){this.$data.chName=e}get $classify(){return this.$data?this.$data.classify:null}set $classify(e){this.$data.classify=e}get $unlockWay(){return this.$data?this.$data.unlockWay:null}set $unlockWay(e){this.$data.unlockWay=e}get $conditionNum(){return this.$data?this.$data.conditionNum:null}set $conditionNum(e){this.$data.conditionNum=e}get $degreeNum(){return this.$data?this.$data.degreeNum:null}set $degreeNum(e){this.$data.degreeNum=e}get $otherDegreeNum(){return this.$data?this.$data.otherDegreeNum:null}set $otherDegreeNum(e){this.$data.otherDegreeNum=e}get $complete(){return this.$data?this.$data.complete:null}set $complete(e){this.$data.complete=e}get $otherComplete(){return this.$data?this.$data.otherComplete:null}set $otherComplete(e){this.$data.otherComplete=e}get $getAward(){return this.$data?this.$data.getAward:null}set $getAward(e){this.$data.getAward=e}get $otherGetAward(){return this.$data?this.$data.otherGetAward:null}set $otherGetAward(e){this.$data.otherGetAward=e}get $rewardType(){return this.$data?this.$data.rewardType:null}set $rewardType(e){this.$data.rewardType=e}get $otherRewardType(){return this.$data?this.$data.otherRewardType:null}set $otherRewardType(e){this.$data.otherRewardType=e}get $pitch(){return this.$data?this.$data.pitch:null}set $pitch(e){this.$data.pitch=e}get $data(){return this["item/dataSource"]||console.log("data没有赋值！也可能是数据源赋值给Data延时！"),this["item/dataSource"]}set $data(e){this["item/dataSource"]=e}get $dataIndex(){return this["item/dataIndex"]}set $dataIndex(e){this["item/dataIndex"]=e}get $dataArr(){return this["item/_dataArr"]}set $dataArr(e){this["item/_dataArr"]=e}get $dataArrName(){return this["item/dataArrName"]}set $dataArrName(e){this["item/dataArrName"]=e}$render(){}$button(){}$awake(){}lwgOnAwake(){this.$awake(),this.$button()}};e._Table=class{constructor(e,t,a,i,n){this._property={name:"name",index:"index",sort:"sort",chName:"chName",classify:"classify",unlockWay:"unlockWay",conditionNum:"conditionNum",degreeNum:"degreeNum",complete:"complete",otherComplete:"otherComplete",getAward:"getAward",pitch:"pitch"},this._unlockWay={ads:"ads",gold:"gold",customs:"customs",diamond:"diamond",free:"free",check:"check"},this._tableName="name",this._lastArr=[],this._localStorage=!1,e&&(this._tableName=e,a?(this._localStorage=a,this._arr=function(e,t,a){try{Laya.LocalStorage.getJSON(t)}catch(a){return Laya.LocalStorage.setJSON(t,JSON.stringify(e)),e}let i;if(Laya.LocalStorage.getJSON(t)){i=JSON.parse(Laya.LocalStorage.getJSON(t));let n=S._ObjArray.diffProByTwo(e,i,a);console.log(`${t}新添加对象`,n),S._Array.addToarray(i,n)}else i=e;return Laya.LocalStorage.setJSON(t,JSON.stringify(i)),i}(t,e,this._property.name),i&&(n?this._compareLastInforByPro(i,n):this._compareLastDefaultPro(i))):this._arr=t)}get _arr(){return this[`_${this._tableName}arr`]}set _arr(e){this[`_${this._tableName}arr`]=e,Laya.LocalStorage.setJSON(this._tableName,JSON.stringify(this[`_${this._tableName}arr`]))}get _List(){return this[`${this._tableName}_List`]}set _List(e){this[`${this._tableName}_List`]=e,e.array=this._arr,e.selectEnable=!1,e.vScrollBarSkin="",e.renderHandler=new Laya.Handler(this,(e,t)=>{if(this._listRenderScript){let a=e.getComponent(this._listRenderScript);a||(a=e.addComponent(this._listRenderScript)),a.$dataArrName=this._tableName,a.$dataArr=this._arr,a.$dataIndex=t,a.$data=this._listArray[t],a.$render()}this._listRender&&this._listRender(e,t)}),e.selectHandler=new Laya.Handler(this,e=>{this._listSelect&&this._listSelect(e)})}get _listArray(){return this._List.array}set _listArray(e){this._List.array=e,this._List.scrollTo(0),this._refreshAndStorage()}_refreshAndStorage(){this._localStorage&&Laya.LocalStorage.setJSON(this._tableName,JSON.stringify(this._arr)),this._List&&this._List.refresh()}_compareLastInforByPro(e,t){this._lastArr=this._getlastVersion(e);for(let e=0;e<this._lastArr.length;e++){const a=this._lastArr[e];for(let e=0;e<this._arr.length;e++){const i=this._arr[e];if(a[this._property.name]===i[this._property.name])for(let e=0;e<t.length;e++){const n=t[e];i[n]=a[n]}}}this._refreshAndStorage()}_compareLastDefaultPro(e){if(this._lastArr=this._getlastVersion(e),this._lastArr.length>0)for(let e=0;e<this._lastArr.length;e++){const t=this._lastArr[e];for(let e=0;e<this._arr.length;e++){const a=this._arr[e];t[this._property.complete]&&(a[this._property.complete]=!0),t[this._property.getAward]&&(a[this._property.getAward]=!0),t[this._property.degreeNum]>a[this._property.degreeNum]&&(a[this._property.getAward]=t[this._property.degreeNum])}}this._refreshAndStorage()}_getlastVersion(e){let t=[];try{Laya.LocalStorage.getJSON(e)&&(t=JSON.parse(Laya.LocalStorage.getJSON(e)))}catch(t){console.log(e+"前版本不存在！")}return t}_getProperty(e,t){let a;for(const i in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,i)){const n=this._arr[i];if(n[this._property.name]==e){a=n[t];break}}return a}_geConditionNumByName(e,t){let a;for(const t in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,t)){const i=this._arr[t];if(i[this._property.name]==e){a=i[this._property.conditionNum];break}}return a}_getPitchIndexArr(){for(let e=0;e<this._arr.length;e++)if(this._arr[e][this._property.name]===this._pitchName)return e}_getPitchIndexByList(){if(this._List)for(let e=0;e<this._List.array.length;e++)if(this._List.array[e][this._property.name]===this._pitchName)return e}_listTweenToPitch(e,t){const a=this._getPitchIndexByList();a&&this._List.tweenTo(a,e,Laya.Handler.create(this,()=>{t&&t()}))}_listTweenToPitchChoose(e,t,a){const i=this._getPitchIndexByList();i&&this._List.tweenTo(i+e,t,Laya.Handler.create(this,()=>{a&&a()}))}_listScrollToLast(){const e=this._List.array.length-1;e&&this._List.scrollTo(e)}_setProperty(e,t,a){for(const i in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,i)){const n=this._arr[i];if(n[this._property.name]==e){n[t]=a,this._refreshAndStorage();break}}return a}_setCompleteByName(e){for(const t in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,t)){const a=this._arr[t];if(a[this._property.name]==e)return a[this._property.complete]=!0,void this._refreshAndStorage()}}_setCompleteByNameArr(e){for(let t=0;t<this._arr.length;t++){const a=this._arr[t];for(let t=0;t<e.length;t++){const i=e[t];a[this._property.name]===i&&(a[this._property.complete]=!0)}}this._refreshAndStorage()}_getObjByName(e){let t=null;for(const a in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,a)){const i=this._arr[a];if(i[this._property.name]==e){t=i;break}}return t}_setProSoleByClassify(e,t,a){const i=this._getObjByName(e),n=this._getArrByClassify(i[this._property.classify]);for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const s=n[i];s[this._property.name]==e?s[t]=a:s[t]=!a}this._refreshAndStorage()}_setAllProPerty(e,t){for(let a=0;a<this._arr.length;a++)this._arr[a][e]=t;this._refreshAndStorage()}_setAllComplete(){this._setAllProPerty(this._property.complete,!0),this._refreshAndStorage()}_setAllCompleteDelay(e,t,a,i){for(let n=0;n<this._arr.length;n++)s._once(e*n,this,()=>{const e=this._arr[n];t&&t(e[this._property.complete]),e[this._property.complete]=!0,a&&a(),n===this._arr.length-1&&i&&i(),this._refreshAndStorage()})}_setAllOtherComplete(){this._setAllProPerty(this._property.otherComplete,!0),this._refreshAndStorage()}_setAllOtherCompleteDelay(e,t,a,i){for(let n=0;n<this._arr.length;n++)s._once(e*n,this,()=>{const e=this._arr[n];t&&t(e[this._property.otherComplete]),e[this._property.otherComplete]=!0,a&&a(),n===this._arr.length-1&&i&&i(),this._refreshAndStorage()})}_addProValueForAll(e,t){for(let a=0;a<this._arr.length;a++)this._arr[a][e]+=t();this._refreshAndStorage()}_setPitchProperty(e,t){return this._getPitchObj()[e]=t,this._refreshAndStorage(),t}_getPitchProperty(e){return this._getPitchObj()[e]}_randomOneObjByPro(e,t){let a=[];for(const i in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,i)){const n=this._arr[i];t?n[e]&&n[e]==t&&a.push(n):n[e]&&a.push(n)}return 0==a.length?null:S._Array.randomGetOne(a)}_randomOneObj(){const e=S._Number.randomOneBySection(0,this._arr.length-1,!0);return this._arr[e]}_randomCountObj(e){const t=S._Number.randomCountBySection(0,this._arr.length-1,e,!0),a=[];for(let e=0;e<this._arr.length;e++)for(let i=0;i<t.length;i++)e===t[i]&&a.push(this._arr[e]);return a}_getArrByClassify(e){let t=[];for(const a in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,a)){const i=this._arr[a];i[this._property.classify]==e&&t.push(i)}return t}_getArrByUnlockWay(e){let t=[];for(const a in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,a)){const i=this._arr[a];i[this._property.unlockWay]===e&&t.push(i)}return t}_getArrByPitchClassify(){let e=[];for(const t in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,t)){const a=this._arr[t];a[this._property.classify]==this._pitchClassify&&e.push(a)}return e}_getArrByProperty(e,t){let a=[];for(const i in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,i)){const n=this._arr[i];n[e]&&n[e]==t&&a.push(n)}return a}_getPitchClassfiyName(){return this._getObjByName(this._pitchName)[this._property.classify]}_getArrByNoProperty(e,t){let a=[];for(const i in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,i)){const n=this._arr[i];n[e]&&n[e]!==t&&a.push(n)}return a}_setArrByPropertyName(e,t){let a=[];for(const t in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,t)){const i=this._arr[t];i[e]&&(i[e],a.push(i))}return this._refreshAndStorage(),a}_setPropertyByClassify(e,t,a){let i=this._getArrByClassify(e);for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e][t]=a);return this._refreshAndStorage(),i}_setCompleteByClassify(e){let t=this._getArrByClassify(e);for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e][this._property.complete]=!0);return this._refreshAndStorage(),t}_checkCondition(e,t,a){let i=null;t=null==t?1:t;let n=this._getProperty(e,this._property.degreeNum),s=this._getProperty(e,this._property.conditionNum);return this._getProperty(e,this._property.complete)?i=-1:s<=n+t?(this._setProperty(e,this._property.degreeNum,s),this._setProperty(e,this._property.complete,!0),i=!0):(this._setProperty(e,this._property.degreeNum,n+t),i=!1),a&&a(),i}_checkConditionUnlockWay(e,t){for(const a in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,a)){const i=this._arr[a];i[this._property.unlockWay]===e&&this._checkCondition(i[this._property.name],t||1)}return[]}_checkAllCompelet(){let e=!0;for(let t=0;t<this._arr.length;t++)if(!this._arr[t][this._property.complete])return e=!1;return e}get _pitchClassify(){return this[`${this._tableName}/pitchClassify`]?this[`${this._tableName}/pitchClassify`]:this._localStorage?Laya.LocalStorage.getItem(`${this._tableName}/pitchClassify`)?Laya.LocalStorage.getItem(`${this._tableName}/pitchClassify`):null:this[`${this._tableName}/pitchClassify`]=null}set _pitchClassify(e){this._lastPitchClassify=this[`${this._tableName}/pitchClassify`]?this[`${this._tableName}/pitchClassify`]:null,this[`${this._tableName}/pitchClassify`]=e,this._localStorage&&Laya.LocalStorage.setItem(`${this._tableName}/pitchClassify`,e.toString()),this._refreshAndStorage()}get _pitchName(){return this[`${this._tableName}/_pitchName`]?this[`${this._tableName}/_pitchName`]:this._localStorage?Laya.LocalStorage.getItem(`${this._tableName}/_pitchName`)?Laya.LocalStorage.getItem(`${this._tableName}/_pitchName`):null:this[`${this._tableName}/_pitchName`]=null}set _pitchName(e){this._lastPitchName=this[`${this._tableName}/_pitchName`],this[`${this._tableName}/_pitchName`]=e,this._localStorage&&Laya.LocalStorage.setItem(`${this._tableName}/_pitchName`,e.toString()),this._refreshAndStorage()}get _lastPitchClassify(){return this[`${this._tableName}/_lastPitchClassify`]?this[`${this._tableName}/_lastPitchClassify`]:this._localStorage?Laya.LocalStorage.getItem(`${this._tableName}/_lastPitchClassify`)?Laya.LocalStorage.getItem(`${this._tableName}/_lastPitchClassify`):null:this[`${this._tableName}/_lastPitchClassify`]=null}set _lastPitchClassify(e){this[`${this._tableName}/_lastPitchClassify`]=e,this._localStorage&&e&&Laya.LocalStorage.setItem(`${this._tableName}/_lastPitchClassify`,e.toString())}get _lastPitchName(){return this[`${this._tableName}/_lastPitchName`]?this[`${this._tableName}/_lastPitchName`]:this._localStorage?Laya.LocalStorage.getItem(`${this._tableName}/_lastPitchName`)?Laya.LocalStorage.getItem(`${this._tableName}/_lastPitchName`):null:this[`${this._tableName}/_lastPitchName`]=null}set _lastPitchName(e){this[`${this._tableName}/_lastPitchName`]=e,this._localStorage&&e&&Laya.LocalStorage.setItem(`${this._tableName}/_lastPitchName`,e.toString())}_setPitch(e){let t;for(let a=0;a<this._arr.length;a++){const i=this._arr[a];i[this._property.name]==e?(i[this._property.pitch]=!0,t=i[this._property.classify]):i[this._property.pitch]=!1}this._pitchClassify=t,this._pitchName=e,this._refreshAndStorage()}_getPitchObj(){for(const e in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,e)){const t=this._arr[e];if(t[this._property.name]===this._pitchName)return t}}_addObject(e){let t=S._ObjArray.objCopy(e);for(let e=0;e<this._arr.length;e++)this._arr[e][this._property.name]===t[this._property.name]&&this._arr[e];this._refreshAndStorage()}_addObjectArr(e){const t=S._ObjArray.arrCopy(e);for(let e=0;e<t.length;e++){const a=t[e];for(let i=0;i<this._arr.length;i++){const n=this._arr[i];a&&a[this._property.name]===n[this._property.name]&&(this._arr[i]=a,t.splice(e,1),e--)}}for(let e=0;e<t.length;e++){const a=t[e];this._arr.push(a)}this._refreshAndStorage()}_sortByProperty(e,t,a){if(S._ObjArray.sortByProperty(this._arr,e),null==a||a){for(let e=this._arr.length-1;e>=0;e--)this._arr[e][t]=this._arr.length-e;this._arr.reverse()}else for(let e=0;e<this._arr.length;e++)this._arr[e][t]=e+1;this._refreshAndStorage()}}}(d=e.DataAdmin||(e.DataAdmin={})),function(e){e.RGBToHexString=function(e,t,a){return"#"+("00000"+(e<<16|t<<8|a).toString(16)).slice(-6)},e.HexStringToRGB=function(e){return[]},e._colour=function(e,t,a){let i=new Laya.ColorFilter;return e.blendMode="null",t?i.color(t[0],t[1],t[2],t[3]):i.color(S._Number.randomOneBySection(255,100,!0),S._Number.randomOneBySection(255,100,!0),S._Number.randomOneBySection(255,100,!0),1),e.filters=[i],a&&Laya.timer.once(a,this,()=>{for(let t=0;t<e.filters.length;t++)if(e.filters[t]==i){e.filters=[];break}}),i},e._changeOnce=function(e,t,a,i){if(!e)return;let n=new Laya.ColorFilter;n.color(0,0,0,0);let o=t[0]/a,r=t[1]/a,l=t[2]/a,h=0;t[3]&&(h=t[3]/a);let c={add:!0},_=0,d=0,u=0,m=0;s._frameLoop(1,c,()=>{_<t[0]&&c.add?(d+=r,u+=l,0!==h&&(m+=h),(_+=o)>=t[0]&&(c.add=!1)):(d-=r,u-=l,0!==h&&(m-=h),(_-=o)<=0&&(i&&i(),Laya.timer.clearAll(c))),n.color(_,d,u,m),e.filters=[n]})},e._changeConstant=function(e,t,a,i){let n,o=[];e.filters?(n=e.filters[0],o=[e.filters[0]._alpha[0],e.filters[0]._alpha[1],e.filters[0]._alpha[2],e.filters[0]._alpha[3]?e.filters[0]._alpha[3]:1]):((n=new Laya.ColorFilter).color(t[0],t[1],t[2],t[3]?t[3]:1),o=[t[0],t[1],t[2],t[3]?t[3]:1],e.filters=[n]);let r=[S._Number.randomCountBySection(t[0],a[0])[0],S._Number.randomCountBySection(t[1],a[1])[0],S._Number.randomCountBySection(t[2],a[2])[0],S._Number.randomCountBySection(t[3]?t[3]:1,a[3]?a[3]:1)[0]],l=(r[0]-o[0])/i,h=(r[1]-o[1])/i,c=(r[2]-o[2])/i,_=0;r[3]&&(_=(r[3]-o[3])/i),e.changeCaller&&Laya.timer.clearAll(e.changeCaller);let d={};e.changeCaller=d;let u=0;s._frameLoop(1,d,()=>{++u<=i?(o[0]+=l,o[1]+=h,o[2]+=c):Laya.timer.clearAll(d),n.color(o[0],o[1],o[2],o[3]),e.filters=[n]})}}(u=e.Color||(e.Color={})),function(e){let t;e._tex2D={"爱心2":{url:"Lwg/Effects/3D/aixin2.png",texture2D:null,name:"爱心2"},"星星8":{url:"Lwg/Effects/3D/star8.png",texture2D:null,name:"星星8"},"星星5":{url:"Lwg/Effects/3D/star5.png",texture2D:null,name:"星星5"},"圆形发光":{url:"Lwg/Effects/3D/yuanfaguang.png",texture2D:null,name:"圆形发光"}},function(t){class a{constructor(e,t,a,i,n,o,r){this.time=0,this.appear=!0,this.move=!1,this.vinish=!1,this.frame={interval:1,func:null},this.end=!1,this.stateType={appear:"appear",move:"move",vinish:"vinish",end:"end"},this._positionByARY_FA=0,this._positionARXY_FR=0,this._positionByTimeRecord=0,this.frame.interval=n||1,this.frame.func=o||null,this.endFunc=r||null,this.time=e||0,this.appear=t||!0,this.move=a||!1,this.vinish=i||!1,s._frameLoop(1,this,()=>{this.time++,!this.box||this.box.parent?(this.time%this.frame.interval==0&&this.frame.func&&this.frame.func(),this.appear&&this.appearFunc&&this.appearFunc(),this.move&&this.moveFunc&&this.moveFunc(),this.vinish&&this.vinishFunc&&this.vinishFunc(),this.end&&this.endFunc&&this.endFunc(),this.everyFrameFunc&&this.everyFrameFunc(),this.clear()):this.clear()})}get box(){return this._box||console.log("粒子没有初始化！"),this._box}set box(e){this._box=e}stateSwitch(e){"a"!=e&&"appear"!=e||(this.appear=!0,this.move=!1,this.vinish=!1,this.end=!1),"m"==e||"move"==e?(this.appear=!1,this.move=!0):"v"==e||"vinish"==e?(this.move=!1,this.vinish=!0):"e"!=e&&"end"!=e||(this.vinish=!1,this.end=!0)}clear(){this.end&&(this.mat.destroy(),this.box.meshFilter.destroy(),this.box.destroy(),Laya.timer.clearAll(this))}_boxInit(t,a,i,n,s,o){const r=i?S._Number.randomOneBySection(i[0][0],i[1][0]):S._Number.randomOneBySection(.06,.08),l=i?S._Number.randomOneBySection(i[0][1],i[1][1]):S._Number.randomOneBySection(.06,.08),h=i?S._Number.randomOneBySection(i[0][2],i[1][2]):S._Number.randomOneBySection(.06,.08);this.box=t.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(r,l,h))),this.box.transform.position=a?new Laya.Vector3(a[0],a[1],a[2]):new Laya.Vector3(0,0,0),this.fPosition=new Laya.Vector3(this.box.transform.position.x,this.box.transform.position.y,this.box.transform.position.z),this.box.transform.localRotationEulerX=n?S._Number.randomOneBySection(n[0][0],n[1][0]):S._Number.randomOneBySection(0,360),this.box.transform.localRotationEulerX=n?S._Number.randomOneBySection(n[0][1],n[1][1]):S._Number.randomOneBySection(0,360),this.box.transform.localRotationEulerX=n?S._Number.randomOneBySection(n[0][2],n[1][2]):S._Number.randomOneBySection(0,360),this.fEuler=new Laya.Vector3(this.box.transform.localRotationEulerX,this.box.transform.localRotationEulerY,this.box.transform.localRotationEulerZ);const c=this.box.meshRenderer.material=new Laya.BlinnPhongMaterial;c.albedoTexture=s?S._Array.randomGetOne(s):e._tex2D.圆形发光.texture2D,c.renderMode=2;const _=o?S._Number.randomOneBySection(o[0][0],o[1][0]):S._Number.randomOneBySection(10,25),d=o?S._Number.randomOneBySection(o[0][1],o[1][1]):S._Number.randomOneBySection(5,15),u=o?S._Number.randomOneBySection(o[0][2],o[1][2]):S._Number.randomOneBySection(5,10),m=o?S._Number.randomOneBySection(o[0][3],o[1][3]):S._Number.randomOneBySection(1,1);c.albedoColor=new Laya.Vector4(_,d,u,m),this.mat=c}get fPosition(){return this._fPosition}set fPosition(e){this._fPosition=e}get fEuler(){return this._fEuler}set fEuler(e){this._fEuler=e}get mat(){return this.box.meshRenderer.material}set mat(e){this.box.meshRenderer.material=e}_positionByARY(e,t,a,i,n){const s=S._Point.getRoundPos(this._positionByARY_FA+=e,t,new Laya.Point(this.fPosition.x,this.fPosition.z));this.box.transform.position=new Laya.Vector3(s.x,this.box.transform.position.y+=a,s.y),this.box.transform.position.y-this.fPosition.y>i&&n&&n()}_positionARXY_R(e,t,a,i){this._positionARXY_FR+=t;const n=S._Point.getRoundPos(e,this._positionARXY_FR,new Laya.Point(0,0));this.box.transform.position=new Laya.Vector3(this.fPosition.x+n.x,this.fPosition.y+n.y,this.fPosition.z),this._positionARXY_FR>=a&&i&&i()}_fadeAway(e,t=0,a){this.mat.albedoColorA-=e,this.mat.albedoColorA<=t&&(this.mat.albedoColorA=t,a&&a())}_fadeIn(e,t=1,a){this.mat.albedoColorA+=e,this.mat.albedoColorA>=t&&(this.mat.albedoColorA=t,a&&a())}_positionByTime(e,t,a){this._positionByTimeRecord++,this.box.transform.position=new Laya.Vector3(this.box.transform.position.x+=e[0],this.box.transform.position.y+=e[1],this.box.transform.position.z+=e[2]),t&&this._positionByTimeRecord>t&&a&&a()}_scaleX(e,t,a){this.box.transform.localScaleX+=e,t&&(e>=0?this.box.transform.localScaleX>=t&&(this.box.transform.localScaleX=t,a&&a()):this.box.transform.localScaleX<=t&&(this.box.transform.localScaleX=t,a&&a()))}_scaleY(e,t,a){this.box.transform.localScaleY+=e,t&&(e>=0?this.box.transform.localScaleY>=t&&(this.box.transform.localScaleY=t,a&&a()):this.box.transform.localScaleY<=t&&(this.box.transform.localScaleY=t,a&&a()))}_scaleZ(e,t,a){this.box.transform.localScaleZ+=e,t&&(e>=0?this.box.transform.localScaleZ>=t&&(this.box.transform.localScaleZ=t,a&&a()):this.box.transform.localScaleZ<=t&&(this.box.transform.localScaleZ=t,a&&a()))}_rotateX(e,t,a){this.box.transform.localRotationEulerX+=e,t&&(e>=0?this.box.transform.localRotationEulerX>=t&&(this.box.transform.localRotationEulerX=t,a&&a()):this.box.transform.localRotationEulerX<=t&&(this.box.transform.localRotationEulerX=t,a&&a()))}_rotateY(e,t,a){this.box.transform.localRotationEulerY+=e,t&&(e>=0?this.box.transform.localRotationEulerY>=t&&(this.box.transform.localRotationEulerY=t,a&&a()):this.box.transform.localRotationEulerY<=t&&(this.box.transform.localRotationEulerY=t,a&&a()))}_rotateZ(e,t,a){this.box.transform.localRotationEulerZ+=e,t&&(e>=0?this.box.transform.localRotationEulerZ>=t&&(this.box.transform.localRotationEulerZ=t,a&&a()):this.box.transform.localRotationEulerZ<=t&&(this.box.transform.localRotationEulerZ=t,a&&a()))}_randomScopeByPosition(e){e=e||[[.1,.1,.1],[.3,.3,.3]],S._3D.randomScopeByPosition(this.box,e)}_excludeZ(){this.box.transform.localScaleZ=0}_rotateTheZero(){this.box.transform.localRotationEulerZ=0,this.box.transform.localRotationEulerX=0,this.box.transform.localRotationEulerY=0}_scaleTheZero(){this.box.transform.localRotationEulerZ=0,this.box.transform.localRotationEulerX=0,this.box.transform.localRotationEulerY=0}}t._Caller=a,t._spiral=function(e,t,i,n,s,o,r,l,h,c){const _=new a;_._boxInit(e,t,i,n,s,o),_._excludeZ(),_._rotateTheZero();const d=S._Number.randomNumerical(r,[1.5,1.5]),u=S._Number.randomNumerical(l,[.02,.02]),m=S._Number.randomNumerical(h,[6,6]),g=S._Number.randomNumerical(c,[.5,.5]);return _.mat.albedoColorA=0,_.stateSwitch("m"),_.moveFunc=(()=>{_._fadeIn(.2),_._positionByARY(m,g,u,d,()=>{_.stateSwitch("v")})}),_.vinishFunc=(()=>{_._fadeAway(.15,0,()=>{_.stateSwitch("e")}),_._positionByTime([0,.002,0])}),_},t._explode=function(e,t,i,n,s,o,r,l){const h=new a;h._boxInit(e,t,i,n,s,o),h._excludeZ(),h._rotateTheZero();const c=S._Number.randomNumerical(r,[.3,.6]),_=S._Number.randomNumerical(l,[.008,.012]),d=S._Number.randomNumerical([0,360]);h.mat.albedoColorA=0,h.stateSwitch("m"),h.moveFunc=(()=>{h._fadeIn(.15),h._positionARXY_R(d,_,c,()=>{h.stateSwitch("v")})}),h.vinishFunc=(()=>{h._fadeAway(.15,0,()=>{h.stateSwitch("e")})})},t._fade=function(e,t,i,n,s,o,r,l,h){const c=new a;c._boxInit(e,t,i||[[.04,.04,0],[.04,.04,0]],r,l,h),c._excludeZ();const _=n||20,d=s||.02,u=o||.02;return c._rotateTheZero(),c.stateSwitch("m"),c.moveFunc=(()=>{c.time>_&&c.stateSwitch("v")}),c.vinishFunc=(()=>{c._scaleX(u),c._fadeAway(d,0,()=>{c.stateSwitch("e")})}),c.everyFrameFunc=(()=>{c.box.transform.localScaleY=c.box.transform.localScaleX}),c},t._starsShine=function(t,i,n,s,o,r,l,h,c){const _=new a;_._boxInit(t,i,null,null,h||[e._tex2D.星星5.texture2D],c||[[15,15,15,1],[30,30,30,1]]),_._excludeZ(),_._rotateTheZero(),_._scaleTheZero(),_._randomScopeByPosition(n),_.mat.albedoColorA=0;const d=S._Number.randomNumerical(o,[1,2]),u=S._Number.randomNumerical(s,[.01,.05]),m=S._Number.randomNumerical(r,[2,6],!0),g=S._Number.randomNumerical(l,[.01,.05]);return _.appearFunc=(()=>{_._fadeIn(g,1,()=>{_.stateSwitch("m")}),_._scaleX(u,1),_._rotateZ(m)}),_.moveFunc=(()=>{_._scaleX(u,d,()=>{_.stateSwitch("v")}),_._rotateZ(m)}),_.vinishFunc=(()=>{_._fadeAway(g,0,()=>{_.stateSwitch("e")}),_._scaleX(-u),_._rotateZ(-m)}),_.everyFrameFunc=(()=>{_.box.transform.localScaleY=_.box.transform.localScaleX}),_}}(t=e._Particle||(e._Particle={}))}(m=e.Effects3D||(e.Effects3D={})),function(e){let t,a,i,n,o;!function(e){e["爱心1"]="Lwg/Effects/aixin1.png",e["爱心2"]="Lwg/Effects/aixin2.png",e["爱心3"]="Lwg/Effects/aixin3.png",e["花1"]="Lwg/Effects/hua1.png",e["花2"]="Lwg/Effects/hua2.png",e["花3"]="Lwg/Effects/hua3.png",e["花4"]="Lwg/Effects/hua4.png",e["星星1"]="Lwg/Effects/star1.png",e["星星2"]="Lwg/Effects/star2.png",e["星星3"]="Lwg/Effects/star3.png",e["星星4"]="Lwg/Effects/star4.png",e["星星5"]="Lwg/Effects/star5.png",e["星星6"]="Lwg/Effects/star6.png",e["星星7"]="Lwg/Effects/star7.png",e["星星8"]="Lwg/Effects/star8.png",e["菱形1"]="Lwg/Effects/rhombus1.png",e["菱形2"]="Lwg/Effects/rhombus1.png",e["菱形3"]="Lwg/Effects/rhombus1.png",e["矩形1"]="Lwg/Effects/rectangle1.png",e["矩形2"]="Lwg/Effects/rectangle2.png",e["矩形3"]="Lwg/Effects/rectangle3.png",e["雪花1"]="Lwg/Effects/xuehua1.png",e["叶子1"]="Lwg/Effects/yezi1.png",e["圆形发光1"]="Lwg/Effects/yuanfaguang.png",e["圆形1"]="Lwg/Effects/yuan1.png",e["方形光圈1"]="Lwg/Effects/ui_square_guang1.png",e["方形圆角光圈1"]="Lwg/Effects/ui_square_guang2.png",e["圆形小光环"]="Lwg/Effects/xiaoguanghuan.png",e["光圈2"]="Lwg/Effects/guangquan2.png",e["三角形1"]="Lwg/Effects/triangle1.png",e["三角形2"]="Lwg/Effects/triangle2.png"}(t=e._SkinUrl||(e._SkinUrl={})),function(e){class a extends Laya.Image{constructor(e,a,i,n,s,o,r){if(super(),!e.parent)return;e.addChild(this),a?this.pos(a[0],a[1]):this.pos(0,0),this.width=i?i[0]:100,this.height=i?i[1]:100,this.pivotX=this.width/2,this.pivotY=this.height/2,this.rotation=n?S._Number.randomOneBySection(n[0],n[1]):S._Number.randomOneBySection(360),this.skin=s?S._Array.randomGetOne(s):t.花3,this.zOrder=r||0,this.alpha=0;let l=[];l[0]=o?S._Number.randomOneBySection(o[0][0],o[1][0]):S._Number.randomOneBySection(180,255),l[1]=o?S._Number.randomOneBySection(o[0][1],o[1][1]):S._Number.randomOneBySection(10,180),l[2]=o?S._Number.randomOneBySection(o[0][2],o[1][2]):S._Number.randomOneBySection(10,180),l[3]=o?S._Number.randomOneBySection(o[0][3],o[1][3]):S._Number.randomOneBySection(1,1),u._colour(this,l)}}e._ApertureImage=a,e._continuous=function(e,t,i,n,o,r,l,h,c,_,d){const u=new a(e,t,i,o,r,l,h);let m=_?S._Number.randomOneBySection(_[0],_[1]):.025,g=d?S._Number.randomOneBySection(d[0],d[1]):5e-4;n?u.scale(n[0],n[1]):u.scale(0,0);const p=c?S._Number.randomOneBySection(c[0],c[1]):2;let y={alpha:!0,scale:!1,vanish:!1};u.moveCaller=y;let f=0;s._frameLoop(1,y,()=>{y.alpha&&(u.alpha+=.05,f=0,u.alpha>=1&&(y.alpha=!1,y.scale=!0)),y.scale&&(f+=g,u.scaleX>=p&&(y.scale=!1,y.vanish=!0)),y.vanish&&(u.alpha-=.015,u.alpha<=0&&(u.removeSelf(),Laya.timer.clearAll(y))),u.scaleX=u.scaleY+=m+f})},e._continuousByDs=function(e,t,i,n,o,r,l,h,c,_,d){const u=new a(e,t,i,o,r,l,h);let m=_?S._Number.randomOneBySection(_[0],_[1]):.025,g=d?S._Number.randomOneBySection(d[0],d[1]):5e-4;n?u.scale(n[0],n[1]):u.scale(0,0);const p=c?S._Number.randomOneBySection(c[0],c[1]):2;let y={alpha:!0,scale:!1,vanish:!1};u.moveCaller=y;let f=0;s._frameLoop(1,y,()=>{y.alpha&&(u.alpha+=.05,f=0,u.alpha>=1&&(y.alpha=!1,y.scale=!0)),y.scale&&(f+=g,u.scaleX>p&&(y.scale=!1,y.vanish=!0)),y.vanish&&(f-=g)<=0&&(f=0,u.alpha-=.015,u.alpha<=0&&(u.removeSelf(),Laya.timer.clearAll(y))),u.scaleX=u.scaleY+=m+f})}}(a=e._Aperture||(e._Aperture={})),function(e){class a extends Laya.Image{constructor(e,a,i,n,s,o,r,l,h){super(),e.addChild(this);let c=i?S._Number.randomOneBySection(i[0]):S._Number.randomOneBySection(200),_=i?S._Number.randomOneBySection(i[1]):S._Number.randomOneBySection(50);c=0==S._Number.randomOneHalf()?c:-c,_=0==S._Number.randomOneHalf()?_:-_,this.x=a?a.x+c:c,this.y=a?a.y+_:_,this.width=n?S._Number.randomOneBySection(n[0],n[1]):S._Number.randomOneBySection(20,50),this.height=s?S._Number.randomOneBySection(s[0],s[1]):this.width,this.pivotX=this.width/2,this.pivotY=this.height/2,this.skin=r?S._Array.randomGetOne(r):t.圆形1,this.rotation=o?S._Number.randomOneBySection(o[0],o[1]):0,this.alpha=0,this.zOrder=h||1e3;let d=[];d[0]=l?S._Number.randomOneBySection(l[0][0],l[1][0]):S._Number.randomOneBySection(180,255),d[1]=l?S._Number.randomOneBySection(l[0][1],l[1][1]):S._Number.randomOneBySection(10,180),d[2]=l?S._Number.randomOneBySection(l[0][2],l[1][2]):S._Number.randomOneBySection(10,180),d[3]=l?S._Number.randomOneBySection(l[0][3],l[1][3]):S._Number.randomOneBySection(1,1),u._colour(this,d)}}function rotatingWay(e,t,a,i){let n=t?S._Number.randomOneBySection(t[0],t[1]):S._Number.randomOneBySection(0,1);n=0==S._Number.randomOneHalf()?n:-n;const s=a?S._Number.randomOneBySection(a[0],a[1]):S._Number.randomOneBySection(0,.25),o=S._Number.randomOneHalf();let r=i?S._Number.randomOneBySection(i[0],i[1]):S._Number.randomOneBySection(1,10);r=1===S._Number.randomOneHalf()?r:-r;const l=S._Number.randomOneHalf(),h=S._Number.randomOneHalf();return()=>{e.rotation+=n,1===h?1===l?e.skewX+=r:e.skewY+=r:1===o?e.moveCaller.scaleSub?(e.scaleX-=s,e.scaleX<=0&&(e.moveCaller.scaleSub=!1)):(e.scaleX+=s,e.scaleX>=1&&(e.moveCaller.scaleSub=!0)):e.moveCaller.scaleSub?(e.scaleY-=s,e.scaleY<=0&&(e.moveCaller.scaleSub=!1)):(e.scaleY+=s,e.scaleY>=1&&(e.moveCaller.scaleSub=!0))}}e._ParticleImgBase=a,e._snow=function(e,t,i,n,o,r,l,h,c,_,d,u,m){let g=new a(e,t,i,n,o,r,l,h,c),p=d?S._Number.randomOneBySection(d[0],d[1]):S._Number.randomOneBySection(0,1);p=0==S._Number.randomOneHalf()?p:-p;let y=u?S._Number.randomOneBySection(u[0],u[1]):S._Number.randomOneBySection(1,2.5),f=m?S._Number.randomOneBySection(m[0],m[1]):0,w={alpha:!0,move:!1,vinish:!1};g.moveCaller=w;let C=0,L=_?S._Number.randomOneBySection(_[0],_[1]):S._Number.randomOneBySection(100,300);return s._frameLoop(1,w,()=>{g.x+=f,g.rotation+=p,g.alpha<1&&w.alpha&&(g.alpha+=.05,C=g.y++,g.alpha>=1&&(w.alpha=!1,w.move=!0)),C<L&&w.move&&(C=g.y+=y)>=L&&(w.move=!1,w.vinish=!0),w.vinish&&(g.alpha-=.03,g.y+=y,(g.alpha<=0||y<=0)&&(g.removeSelf(),Laya.timer.clearAll(w)))}),g},e._downwardSpray=function(e,t,i,n,o,r,l,h,c,_,d,u,m,g,p){const y=new a(e,t,[0,0],i,n,null,r,l,p),f=o?S._Number.randomOneBySection(o[0],o[1]):S._Number.randomOneBySection(0,90),w=S._Point.angleByPoint(f),C=h?S._Number.randomOneBySection(h[0],h[1]):S._Number.randomOneBySection(200,800);let L=c?S._Number.randomOneBySection(c[0],c[1]):S._Number.randomOneBySection(10,30),b=d?S._Number.randomOneBySection(d[0],d[1]):S._Number.randomOneBySection(.3,1.5);const v=_?S._Number.randomOneBySection(_[0],_[1]):S._Number.randomOneBySection(1,5);let P=0;const I={appear:!0,move:!1,dropFp:null,drop:!1,vinish:!1,scaleSub:!0,scaleAdd:!1,rotateFunc:null};return I.rotateFunc=rotatingWay(y,u,m,g),y.moveCaller=I,s._frameLoop(1,I,()=>{if(I.rotateFunc(),I.appear&&(y.alpha+=.5,y.alpha>=1&&(I.appear=!1,I.move=!0),y.x+=w.x*L,y.y+=w.y*L),I.move){const e=L+(P-=b);y.x+=w.x*e,y.y+=w.y*e,e<=1&&(L=1,I.dropFp=new Laya.Point(y.x,y.y),I.move=!1,I.drop=!0)}I.drop&&(y.x+=w.x*L,y.y+=w.y*L,I.dropFp.distance(y.x,y.y)>C&&(I.drop=!1,I.vinish=!0)),I.vinish&&(y.alpha-=.05,y.alpha<=.3&&(y.removeSelf(),Laya.timer.clearAll(I))),y.y+=v}),y},e._fallingRotate=function(e,t,i,n,o,r,l,h,c,_,d,u,m){const g=new a(e,t,i,n,o,null,r,l,m),p=c?S._Number.randomOneBySection(c[0],c[1]):S._Number.randomOneBySection(1,2.5);let y=0;const f=h?S._Number.randomOneBySection(h[0],h[1]):S._Number.randomOneBySection(100,300),w={appear:!0,move:!1,vinish:!1,scaleSub:!0,scaleAdd:!1,rotateFunc:null};return w.rotateFunc=rotatingWay(g,u,_,d),g.moveCaller=w,s._frameLoop(1,w,()=>{w.rotateFunc(),w.appear&&(g.alpha+=.05,g.y+=p/2,g.alpha>=1&&(w.appear=!1,w.move=!0)),w.move&&(g.y+=p,(y+=p)>=f&&(w.move=!1,w.vinish=!0)),w.vinish&&(g.alpha-=.01,g.y+=p,g.alpha<=0&&(g.removeSelf(),Laya.timer.clearAll(w)))}),g},e._fallingVertical=function(e,t,i,n,o,r,l,h,c,_,d,u){let m=new a(e,t,i,n,o,r,l,h,c),g=d?S._Number.randomOneBySection(d[0],d[1]):S._Number.randomOneBySection(4,8),p=u?S._Number.randomOneBySection(u[0],u[1]):S._Number.randomOneBySection(.25,.45),y=0,f={alpha:!0,move:!1,vinish:!1};m.moveCaller=f;let w=_?S._Number.randomOneBySection(_[0],_[1]):S._Number.randomOneBySection(100,300),C=m.y;return s._frameLoop(1,f,()=>{m.alpha<1&&f.alpha&&(m.alpha+=.04,m.alpha>=1&&(f.alpha=!1,f.move=!0)),f.alpha||(y+=p,m.y+=g+y),!f.alpha&&f.move&&m.y-C>=w&&(f.move=!1,f.vinish=!0),f.vinish&&(m.alpha-=.03,m.alpha<=0&&(Laya.timer.clearAll(f),m.removeSelf()))}),m},e._fallingVertical_Reverse=function(e,t,i,n,o,r,l,h,c,_,d,u){let m=new a(e,t,i,n,o,r,l,h,c),g=d?S._Number.randomOneBySection(d[0],d[1]):S._Number.randomOneBySection(4,8),p=u?S._Number.randomOneBySection(u[0],u[1]):S._Number.randomOneBySection(.25,.45),y=0,f={alpha:!0,move:!1,vinish:!1};m.moveCaller=f;let w=_?S._Number.randomOneBySection(_[0],_[1]):S._Number.randomOneBySection(100,300),C=m.y;return s._frameLoop(1,f,()=>{m.alpha<1&&f.alpha&&(m.alpha+=.04,m.alpha>=1&&(f.alpha=!1,f.move=!0)),f.alpha||(y+=p,m.y+=g+y),!f.alpha&&f.move&&m.y-C<=w&&(f.move=!1,f.vinish=!0),f.vinish&&(m.alpha-=.03,m.alpha<=0&&(Laya.timer.clearAll(f),m.removeSelf()))}),m},e._slowlyUp=function(e,t,i,n,o,r,l,h,c,_,d,u){let m=new a(e,t,i,n,o,r,l,h,c),g=d?S._Number.randomOneBySection(d[0],d[1]):S._Number.randomOneBySection(1.5,2),p=u?S._Number.randomOneBySection(u[0],u[1]):S._Number.randomOneBySection(.001,.005),y=0,f={alpha:!0,move:!1,vinish:!1};m.moveCaller=f;let w=m.y,C=0,L=_?S._Number.randomOneBySection(_[0],_[1]):S._Number.randomOneBySection(-250,-600);return s._frameLoop(1,f,()=>{m.alpha<1&&f.alpha&&(m.alpha+=.03,m.alpha>=1&&(f.alpha=!1,f.move=!0)),C>L&&f.move||(f.move=!1,f.vinish=!0),f.vinish&&(m.alpha-=.02,m.scaleX-=.005,m.scaleY-=.005,m.alpha<=0&&(m.removeSelf(),Laya.timer.clearAll(f))),y+=p,m.y-=g+y,C=w-m.y}),m},e._sprayRound=function(e,t,i,n,o,r,l,h,c,_,d,u){let m=new a(e,t,[0,0],i,n,o,r,l,u),g=t||new Laya.Point(0,0),p=0;const y=c?S._Number.randomOneBySection(c[0],c[1]):S._Number.randomOneBySection(30,50),f=h?S._Number.randomOneBySection(h[0],h[1]):S._Number.randomOneBySection(100,200),w=f/y,C=_?S._Number.randomOneBySection(_[0],_[1]):S._Number.randomOneBySection(0,360);let L=d?S._Number.randomOneBySection(d[0],d[1]):S._Number.randomOneBySection(0,20);L=0==S._Number.randomOneHalf()?L:-L;const b=1/S._Number.randomOneInt(60);let v={alpha:!0,move:!1,vinish:!1};return m.moveCaller=v,s._frameLoop(1,v,()=>{if(m.rotation+=L,m.alpha<1&&v.alpha)m.alpha+=.5,m.alpha>=1&&(v.alpha=!1,v.move=!0);else if(v.vinish){m.alpha-=b,m.alpha<=0&&(m.removeSelf(),Laya.timer.clearAll(v)),p+=w/2;let e=S._Point.getRoundPos(C,p,g);m.pos(e.x,e.y)}else{p+=w;let e=S._Point.getRoundPos(C,p,g);m.pos(e.x,e.y),p>f&&(v.move=!1,v.vinish=!0)}}),m},e._spray=function(e,t,i,n,o,r,l,h,c,_,d,u,m){let g=new a(e,t,[0,0],i,n,o,r,l,m),p=t||new Laya.Point(0,0),y=d?S._Number.randomOneBySection(d[0],d[1]):S._Number.randomOneBySection(3,10),f=u?S._Number.randomOneBySection(u[0],u[1]):S._Number.randomOneBySection(.25,.45),w=0,C={alpha:!0,move:!1,vinish:!1};g.moveCaller=C;let L=0,b=h?S._Number.randomOneBySection(h[0],h[1]):S._Number.randomOneBySection(100,200),v=c?S._Number.randomOneBySection(c[0],c[1]):S._Number.randomOneBySection(0,360),P=_?S._Number.randomOneBySection(_[0],_[1]):S._Number.randomOneBySection(0,20);return P=0==S._Number.randomOneHalf()?P:-P,s._frameLoop(1,C,()=>{if(g.rotation+=P,g.alpha<1&&C.alpha)g.alpha+=.5,g.alpha>=1&&(C.alpha=!1,C.move=!0);else{L<b&&C.move||(C.move=!1,C.vinish=!0),C.vinish&&(g.alpha-=.05,g.alpha<=.3&&(g.removeSelf(),Laya.timer.clearAll(C))),L+=y+(w+=f);let e=S._Point.getRoundPos(v,L,p);g.pos(e.x,e.y)}}),g},e._outsideBox=function(e,t,i,n,o,r,l,h,c,_,d,u,m,g){let p=new a(e,t,[0,0],n,o,r,l,h,c),y=0;i=i||[100,100],_=_||60,"x"==(0==S._Number.randomOneHalf()?"x":"y")?(0==S._Number.randomOneHalf()?(p.x+=i[0],y=0==S._Number.randomOneHalf()?S._Number.randomOneBySection(0,90-_):S._Number.randomOneBySection(0,-90+_)):(p.x-=i[0],y=S._Number.randomOneBySection(90+_,270-_)),p.y+=S._Number.randomOneBySection(-i[1],i[1])):(0==S._Number.randomOneHalf()?(p.y-=i[1],y=S._Number.randomOneBySection(180+_,360-_)):(p.y+=i[1],y=S._Number.randomOneBySection(0+_,180-_)),p.x+=S._Number.randomOneBySection(-i[0],i[0]));let f=S._Point.angleByPoint(y),w=d?S._Number.randomOneBySection(d[0],d[1]):S._Number.randomOneBySection(20,50),C=m?S._Number.randomOneBySection(m[0],m[1]):S._Number.randomOneBySection(.5,1),L=g?S._Number.randomOneBySection(g[0],g[1]):S._Number.randomOneBySection(.25,.45),b=0,v=u?S._Number.randomOneBySection(u[0],u[1]):S._Number.randomOneBySection(0,20),P=new Laya.Point(p.x,p.y),I={alpha:!0,move:!1,vinish:!1};return p.moveCaller=I,s._frameLoop(1,I,()=>{p.rotation+=v,I.alpha?(p.alpha+=.5,p.alpha>=1&&(I.alpha=!1,I.move=!0)):I.move?P.distance(p.x,p.y)>=w&&(I.move=!1,I.vinish=!0):I.vinish&&(p.alpha-=.05,p.alpha<=.3&&(p.removeSelf(),Laya.timer.clearAll(I))),I.alpha||(b+=L,p.x+=f.x*(C+b),p.y+=f.y*(C+b))}),p},e._moveToTargetToMove=function(e,t,i,n,o,r,l,h,c,_,d,u,m,g){let p=new a(e,t,[0,0],i,n,o,l,h,c),y=t||new Laya.Point(0,0),f=m?S._Number.randomOneBySection(m[0],m[1]):S._Number.randomOneBySection(5,6),w=g?S._Number.randomOneBySection(g[0],g[1]):S._Number.randomOneBySection(.25,.45),C=0,L={alpha:!0,move1:!1,stop:!1,move2:!1,vinish:!1};p.moveCaller=L;let b=0,v=_?S._Number.randomOneBySection(_[0],_[1]):S._Number.randomOneBySection(100,200),P=d?S._Number.randomOneBySection(d[0],d[1]):S._Number.randomOneBySection(100,200),I=r?S._Number.randomOneBySection(r[0],r[1]):S._Number.randomOneBySection(0,360);return p.rotation=I-90,u?S._Number.randomOneBySection(u[0],u[1]):S._Number.randomOneBySection(0,20),s._frameLoop(1,L,()=>{L.alpha?(b+=f+(C+=w),p.alpha+=.5,p.alpha>=1&&(L.alpha=!1,L.move1=!0)):L.move1?(b+=f+(C+=w))>=v&&(L.move1=!1,L.stop=!0):L.stop?(b+=.1,(C-=.3)<=0&&(L.stop=!1,L.move2=!0)):L.move2?(b+=f+(C+=w/2))>=v+P&&(L.move2=!1,L.vinish=!0):L.vinish&&(b+=.5,p.alpha-=.05,p.alpha<=0&&(p.removeSelf(),Laya.timer.clearAll(L)));let e=S._Point.getRoundPos(I,b,y);p.pos(e.x,e.y)}),p},e._AnnularInhalation=function(e,a,i,n,o,r,l,h,c,_){let d=new Laya.Image;e.addChild(d),o=o||[25,50],d.width=S._Number.randomCountBySection(o[0],o[1])[0],d.height=r?S._Number.randomCountBySection(r[0],r[1])[0]:d.width,d.pivotX=d.width/2,d.pivotY=d.height/2,d.skin=l?S._Array.randomGetOut(l)[0]:t[S._Number.randomCountBySection(0,12)[0]];let u=S._Number.randomCountBySection(i[0],i[1])[0];d.alpha=0;let m=h?S._Number.randomCountBySection(h[0],h[1])[0]:S._Number.randomCountBySection(5,10)[0],g=n?S._Number.randomCountBySection(n[0],n[1])[0]:S._Number.randomCountBySection(0,360)[0],p={},y=0;return c=c||.35,s._frameLoop(1,p,()=>{d.alpha<1?(d.alpha+=.05,u-=m/2+(y+=c/5)):u-=m+(y+=c);let e=S._Point.getRoundPos(g,u,a);d.pos(e.x,e.y),(e.distance(a.x,a.y)<=20||e.distance(a.x,a.y)>=1e3)&&(d.removeSelf(),Laya.timer.clearAll(p))}),d}}(i=e._Particle||(e._Particle={})),function(e){class a extends Laya.Image{constructor(e,a,i,n,s,o,r,l){if(super(),!e.parent)return;e.addChild(this),this.skin=n?S._Array.randomGetOne(n):t.星星1,this.width=o?S._Number.randomOneBySection(o[0],o[1]):80,this.height=r?S._Number.randomOneBySection(r[0],r[1]):this.width,this.pivotX=this.width/2,this.pivotY=this.height/2;let h=i?S._Point.randomPointByCenter(a,i[0],i[1],1):S._Point.randomPointByCenter(a,100,100,1);this.pos(h[0].x,h[0].y);let c=[];c[0]=s?S._Number.randomOneBySection(s[0][0],s[1][0]):S._Number.randomOneBySection(10,255),c[1]=s?S._Number.randomOneBySection(s[0][1],s[1][1]):S._Number.randomOneBySection(200,255),c[2]=s?S._Number.randomOneBySection(s[0][2],s[1][2]):S._Number.randomOneBySection(10,255),c[3]=s?S._Number.randomOneBySection(s[0][3],s[1][3]):S._Number.randomOneBySection(1,1),u._colour(this,c),this.alpha=0,this.zOrder=l||1e3}}e._GlitterImage=a,e._blinkStar=function(e,t,i,n,s,o,r,l,h,c,_){let d=new a(e,t,i,n,s,o,r,_);d.scaleX=0,d.scaleY=0;let u=l?S._Number.randomOneBySection(l[0],l[1]):S._Number.randomOneBySection(.8,1.2),m=h?S._Number.randomOneBySection(h[0],h[1]):S._Number.randomOneBySection(.01,.02),g=c?S._Number.randomOneInt(c[0],c[1]):S._Number.randomOneInt(0,5);g=0==S._Number.randomOneHalf()?-g:g;let p={appear:!0,scale:!1,vanish:!1};return d.moveCaller=p,Laya.timer.frameLoop(1,p,()=>{p.appear?(d.alpha+=.1,d.rotation+=g,d.scaleX=d.scaleY+=m,d.alpha>=1&&(p.appear=!1,p.scale=!0)):p.scale?(d.rotation+=g,d.scaleX=d.scaleY+=m,d.scaleX>u&&(p.scale=!1,p.vanish=!0)):p.vanish&&(d.rotation-=g,d.alpha-=.015,d.scaleX-=.01,d.scaleY-=.01,d.scaleX<=0&&(d.removeSelf(),Laya.timer.clearAll(p)))}),d},e._simpleInfinite=function(e,a,i,n,s,o,r,l){let h=new Laya.Image;e.addChild(h),h.width=n,h.height=s,h.pos(a,i),h.skin=r||t.方形光圈1,h.alpha=0,h.zOrder=o||0;let c=!0,_={};return Laya.timer.frameLoop(1,_,()=>{c?(h.alpha+=l?2*l:.02,h.alpha>=1&&(c=!1,_.end=!0)):(h.alpha-=l||.01,h.alpha<=0&&(_.end?(Laya.timer.clearAll(_),h.removeSelf()):c=!0))}),h}}(n=e._Glitter||(e._Glitter={})),function(e){class a extends Laya.Image{constructor(e,a,i,n,s,o){super(),e.addChild(this),this.skin=a?S._Array.randomGetOne(a):t.圆形发光1,this.width=n?S._Number.randomOneBySection(n[0],n[1]):80,this.height=s?S._Number.randomOneBySection(s[0],s[1]):this.width,this.pivotX=this.width/2,this.pivotY=this.height/2;let r=[];r[0]=i?S._Number.randomOneBySection(i[0][0],i[1][0]):S._Number.randomOneBySection(0,255),r[1]=i?S._Number.randomOneBySection(i[0][1],i[1][1]):S._Number.randomOneBySection(0,255),r[2]=i?S._Number.randomOneBySection(i[0][2],i[1][2]):S._Number.randomOneBySection(0,255),r[3]=i?S._Number.randomOneBySection(i[0][3],i[1][3]):S._Number.randomOneBySection(0,255),u._colour(this,r),this.zOrder=o||0,this.alpha=0,this.scaleX=0,this.scaleY=0}}e._circulationImage=a,e._corner=function(e,t,i,n,o,r,l,h,c){if(t.length<=1)return;let _=new a(e,i,n,o,r,l);new a(e,i,n,o,r,l).filters=_.filters,_.pos(t[0][0],t[0][1]),_.alpha=1;let d={num:0,alpha:!0,move:!1};_.moveCaller=d;let u=0;_.scale(1,1),s._frameLoop(1,d,()=>{let t=new a(e,i,n,o,r,l);t.filters=_.filters,t.x=_.x,t.y=_.y,t.rotation=_.rotation,t.alpha=1,t.zOrder=-1,t.scaleX=_.scaleX,t.scaleY=_.scaleY,f.fadeOut(t,1,0,200,0,()=>{t.removeSelf()}),null==_.parent&&Laya.timer.clearAll(d),d.num++,i&&(d.num>i.length?d.num=0:_.skin=i[d.num])});var m=()=>{let e=[t[u][0],t[u][1]],a=new Laya.Point(_.x,_.y).distance(e[0],e[1]);h&&(_.rotation=S._Point.pointByAngle(_.x-e[0],_.y-e[1])+180);let i=100*c+a/5;u==t.length+1&&(e=[t[0][0],t[0][1]]),f.move(_,e[0],e[1],i,()=>{++u==t.length&&(u=0),m()})};return m(),_}}(o=e._circulation||(e._circulation={}))}(g=e.Effects2D||(e.Effects2D={})),function(e){e._switch=!0,e._createButton=function(){new Laya.Sprite,new Laya.Image,new Laya.Label},e._Type={no:"no",largen:"largen",reduce:"reduce"},e._Use={get value(){return this.Click_name?this.Click_name:null},set value(e){this.Click_name=e}},e._on=function(n,s,o,r,l,h,c){let _;switch(n){case e._Type.no:_=new t;break;case e._Type.largen:_=new a;break;case e._Type.reduce:_=new i;break;default:_=new t}s.on(Laya.Event.MOUSE_DOWN,o,r),s.on(Laya.Event.MOUSE_MOVE,o,l),s.on(Laya.Event.MOUSE_UP,o,h),s.on(Laya.Event.MOUSE_OUT,o,c),s.on(Laya.Event.MOUSE_DOWN,o,_.down),s.on(Laya.Event.MOUSE_MOVE,o,_.move),s.on(Laya.Event.MOUSE_UP,o,_.up),s.on(Laya.Event.MOUSE_OUT,o,_.out)},e._off=function(i,n,s,o,r,l,h){let c;switch(i){case e._Type.no:c=new t;break;case e._Type.largen:case e._Type.reduce:c=new a;break;default:c=new t}n._off(Laya.Event.MOUSE_DOWN,s,o),n._off(Laya.Event.MOUSE_MOVE,s,r),n._off(Laya.Event.MOUSE_UP,s,l),n._off(Laya.Event.MOUSE_OUT,s,h),n._off(Laya.Event.MOUSE_DOWN,s,c.down),n._off(Laya.Event.MOUSE_MOVE,s,c.move),n._off(Laya.Event.MOUSE_UP,s,c.up),n._off(Laya.Event.MOUSE_OUT,s,c.out)};class t{down(){}move(){}up(){}out(){}}e._NoEffect=t;class a{down(t){t.currentTarget.scale(1.1,1.1),C._playSound(e._audioUrl)}move(){}up(e){e.currentTarget.scale(1,1)}out(e){e.currentTarget.scale(1,1)}}e._Largen=a;class i{down(t){t.currentTarget.scale(.9,.9),C._playSound(e._audioUrl)}move(){}up(e){e.currentTarget.scale(1,1)}out(e){e.currentTarget.scale(1,1)}}e._Reduce=i}(p=e.Click||(e.Click={})),function(e){function moveTo(t,a,i,n,s,o,r=0,l=!0,h,c){let _=t.transform.position.clone();if(0==i||null==i)return t.transform.position=a.clone(),void(o&&o.apply(n));(c<=0||null==c)&&(c=e.frameRate);let d=function(){t.transform&&(t.transform.position=_),h&&h()};Laya.timer.once(r,t,function(){Laya.timer.frameLoop(c,t,d)});let u=Laya.Tween.to(_,{x:a.x,y:a.y,z:a.z},i,s,Laya.Handler.create(t,function(){t.transform&&(t.transform.position=a.clone(),Laya.timer.clear(t,d)),o&&o.apply(n)}),r,l);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(u)}function rotateTo(t,a,i,n,s,o,r,l,h,c){let _=t.transform.localRotationEuler.clone();if(0==i||null==i)return t.transform.localRotationEuler=a.clone(),void(o&&o.apply(n));(c<=0||null==c)&&(c=e.frameRate);let d=function(){t.transform&&(t.transform.localRotationEuler=_),h&&h()};Laya.timer.once(r,t,function(){Laya.timer.frameLoop(c,t,d)});let u=Laya.Tween.to(_,{x:a.x,y:a.y,z:a.z},i,s,Laya.Handler.create(t,function(){t.transform&&(t.transform.localRotationEuler=a.clone(),Laya.timer.clear(t,d)),o&&o.apply(n)}),r,l);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(u)}e.tweenMap={},e.frameRate=1,e.moveTo=moveTo,e.rotateTo=rotateTo,e.scaleTo=function(t,a,i,n,s,o,r,l,h,c){let _=t.transform.localScale.clone();if(0==i||null==i)return t.transform.localScale=a.clone(),void(o&&o.apply(n));(c<=0||null==c)&&(c=e.frameRate);let d=function(){t.transform.localScale=_.clone(),h&&h()};Laya.timer.once(r,this,function(){Laya.timer.frameLoop(c,t,d)});let u=Laya.Tween.to(_,{x:a.x,y:a.y,z:a.z},i,s,Laya.Handler.create(t,function(){t.transform.localScale=a.clone(),Laya.timer.clear(t,d),o&&o.apply(n)}),r,l);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(u)},e.ClearTween=function(t){let a=e.tweenMap[t.id];if(a&&a.length)for(;a.length>0;)a.pop().clear();Laya.timer.clearAll(t)},e.rock=function(e,t,a,i,n,s,o){s||(s=0);let r=new Laya.Vector3(e.transform.localRotationEulerX+t.x,e.transform.localRotationEulerY+t.y,e.transform.localRotationEulerZ+t.z);rotateTo(e,r,a/2,i,o,()=>{let s=new Laya.Vector3(e.transform.localRotationEulerX-2*t.x,e.transform.localRotationEulerY-2*t.y,e.transform.localRotationEulerZ-2*t.z);rotateTo(e,s,a,i,o,()=>{let s=new Laya.Vector3(e.transform.localRotationEulerX+t.x,e.transform.localRotationEulerY+t.y,e.transform.localRotationEulerZ+t.z);rotateTo(e,s,a/2,i,o,()=>{n&&n()})})},s)},e.moveRotateTo=function(e,t,a,i,n,s,o,r,l,h){moveTo(e,t.transform.position,a,i,n,null,o,r,l,h),rotateTo(e,t.transform.localRotationEuler,a,i,n,s,o,r,null,h)}}(y=e.Animation3D||(e.Animation3D={})),function(e){function bombs_Appear(e,t,a,i,n,s,o,r){e.scale(0,0),e.alpha=t,Laya.Tween.to(e,{scaleX:i,scaleY:i,alpha:1,rotation:n},s,Laya.Ease.cubicInOut,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:a,scaleY:a,rotation:0},s/2,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:a+(i-a)/3,scaleY:a+(i-a)/3,rotation:0},s/3,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:a,scaleY:a,rotation:0},s/4,null,Laya.Handler.create(this,function(){o&&o()}),0)}),0)}),0)}),r||0)}function bombs_Vanish(e,t,a,i,n,s,o){Laya.Tween.to(e,{scaleX:t,scaleY:t,alpha:a,rotation:i},n,Laya.Ease.cubicOut,Laya.Handler.create(this,function(){s&&s()}),o||0)}e._clearAll=function(e){for(let t=0;t<e.length;t++)Laya.Tween.clearAll(e[t])},e.circulation_scale=function(e,t,a,i,n){Laya.Tween.to(e,{scaleX:1+t,scaleY:1+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1-t,scaleY:1-t},a/2,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1},a/2,null,Laya.Handler.create(this,function(){n&&n()}),0)}),0)}),i||0)},e.leftRight_Shake=function(e,t,a,i,n,s){i||(i=0),s||(p._switch=!1),Laya.Tween.to(e,{x:e.x-t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:e.x+2*t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:e.x-t},a,null,Laya.Handler.create(this,function(){n&&n(),s||(p._switch=!0)}))}))}),i)},e.rotate=function(e,t,a,i,n){Laya.Tween.to(e,{rotation:t},a,null,Laya.Handler.create(e,function(){n&&n()}),i||0)},e.upDown_Overturn=function(e,t,a){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:1},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:1},t,null,Laya.Handler.create(this,function(){null===a&&void 0===a||a()}),0)}),0)}),0)}),0)},e.leftRight_Overturn=function(e,t,a){Laya.Tween.to(e,{scaleX:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1},t,null,Laya.Handler.create(this,function(){}),0),null!==a&&a()}),0)}),0)}),0)},e.upDwon_Shake=function(e,t,a,i,n){Laya.Tween.to(e,{y:e.y+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:e.y-2*t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:e.y+t},a,null,Laya.Handler.create(this,function(){null!==n&&n()}))}))}),i)},e.fadeOut=function(e,t,a,i,n,s,o){e.alpha=t,o&&(p._switch=!1),Laya.Tween.to(e,{alpha:a},i,null,Laya.Handler.create(this,function(){s&&s(),o&&(p._switch=!0)}),n||0)},e.fadeOut_KickBack=function(e,t,a,i,n,s){e.alpha=t,Laya.Tween.to(e,{alpha:a},i,null,Laya.Handler.create(this,function(){null!==s&&s()}),n)},e.move_FadeOut=function(e,t,a,i,n,s,o,r){e.alpha=0,e.x=t,e.y=a,Laya.Tween.to(e,{alpha:1,x:i,y:n},s,null,Laya.Handler.create(this,function(){null!==r&&r()}),o)},e.move_Fade_Out=function(e,t,a,i,n,s,o,r){e.alpha=1,e.x=t,e.y=a,Laya.Tween.to(e,{alpha:0,x:i,y:n},s,null,Laya.Handler.create(this,function(){null!==r&&r()}),o)},e.move_FadeOut_Scale_01=function(e,t,a,i,n,s,o,r){e.alpha=0,e.targetX=0,e.targetY=0,e.x=t,e.y=a,Laya.Tween.to(e,{alpha:1,x:i,y:n,scaleX:1,scaleY:1},s,null,Laya.Handler.create(this,function(){null!==r&&r()}),o)},e.move_Scale=function(e,t,a,i,n,s,o,r,l,h,c){e.scaleX=t,e.scaleY=t,e.x=a,e.y=i,Laya.Tween.to(e,{x:n,y:s,scaleX:o,scaleY:o},r,h?null:h,Laya.Handler.create(this,function(){c&&c()}),l||0)},e.move_rotate=function(e,t,a,i,n,s){Laya.Tween.to(e,{rotation:t,x:a.x,y:a.y},i,null,Laya.Handler.create(e,()=>{s&&s()}),n||0)},e.rotate_Scale=function(e,t,a,i,n,s,o,r,l,h){e.scaleX=a,e.scaleY=i,e.rotation=t,Laya.Tween.to(e,{rotation:n,scaleX:s,scaleY:o},r,null,Laya.Handler.create(this,()=>{h&&h(),e.rotation=0}),l||0)},e.drop_Simple=function(e,t,a,i,n,s,o){e.y=t,Laya.Tween.to(e,{y:a,rotation:i},n,Laya.Ease.circOut,Laya.Handler.create(this,function(){null!==o&&o()}),s)},e.drop_KickBack=function(e,t,a,i,n,s,o,r){e.alpha=t,e.y=a,o||(o=0),Laya.Tween.to(e,{alpha:1,y:i+n},s,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:i-n/2},s/2,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:i},s/4,null,Laya.Handler.create(this,function(){r&&r()}),0)}),0)}),o)},e.drop_Excursion=function(e,t,a,i,n,s,o){Laya.Tween.to(e,{x:e.x+a,y:e.y+1*t/6},n,Laya.Ease.expoIn,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:e.x+a+50,y:t,rotation:i},n,null,Laya.Handler.create(this,function(){null!==o&&o()}),0)}),s)},e.goUp_Simple=function(e,t,a,i,n,s,o){e.y=t,e.rotation=a,Laya.Tween.to(e,{y:i,rotation:0},n,Laya.Ease.cubicOut,Laya.Handler.create(this,function(){null!==o&&o()}),s)},e.cardRotateX_TowFace=function(e,t,a,i,n){Laya.Tween.to(e,{scaleX:0},t,null,Laya.Handler.create(this,function(){S._Node.childrenVisible2D(e,!1),a&&a(),Laya.Tween.to(e,{scaleX:1},.9*t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:0},.8*t,null,Laya.Handler.create(this,function(){S._Node.childrenVisible2D(e,!0),Laya.Tween.to(e,{scaleX:1},.7*t,null,Laya.Handler.create(this,function(){n&&n()}),0)}),0)}),0)}),i)},e.cardRotateX_OneFace=function(e,t,a,i,n){Laya.Tween.to(e,{scaleX:0},a,null,Laya.Handler.create(this,function(){null!==t&&t(),Laya.Tween.to(e,{scaleX:1},a,null,Laya.Handler.create(this,function(){null!==n&&n()}),0)}),i)},e.cardRotateY_TowFace=function(e,t,a,i,n){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){S._Node.childrenVisible2D(e,!1),a&&a(),Laya.Tween.to(e,{scaleY:1},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:1},1*t/2,null,Laya.Handler.create(this,function(){S._Node.childrenVisible2D(e,!0),n&&n()}),0)}),0)}),0)}),i)},e.cardRotateY_OneFace=function(e,t,a,i,n){Laya.Tween.to(e,{scaleY:0},a,null,Laya.Handler.create(this,function(){t&&t(),Laya.Tween.to(e,{scaleY:1},a,null,Laya.Handler.create(this,function(){n&&n()}),0)}),i||0)},e.move_changeRotate=function(e,t,a,i,n,s,o){let r=t*i+e.x*(1-i),l=a*i+e.y*(1-i);Laya.Tween.to(e,{x:r,y:l,rotation:45},s,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:t,y:a,rotation:0},s,null,Laya.Handler.create(this,function(){null!==o&&o()}),0)}),0)},e.bomb_LeftRight=function(e,t,a,i,n){Laya.Tween.to(e,{scaleX:t},a,Laya.Ease.cubicInOut,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:.85},.5*a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:.9*t},.55*a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:.95},.6*a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1},.65*a,null,Laya.Handler.create(this,function(){i&&i()}),0)}),0)}),0)}),0)}),n)},e.bombs_Appear=bombs_Appear,e.bombs_AppearAllChild=function(e,t,a,i,n,s,o,r,l){let h=0;o||(o=100);for(let l=0;l<e.numChildren;l++){let c=e.getChildAt(l);c.alpha=0,Laya.timer.once(h,this,()=>{c.alpha=1,e.numChildren,bombs_Appear(c,t,a,i,n,s,r)}),h+=o}},e.bombs_VanishAllChild=function(e,t,a,i,n,s,o){let r=0;s||(s=100);for(let l=0;l<e.numChildren;l++)e.getChildAt(l),Laya.timer.once(r,this,()=>{e.numChildren,bombs_Vanish(e,t,a,i,n,o)}),r+=s},e.bombs_Vanish=bombs_Vanish,e.swell_shrink=function(e,t,a,i,n,s){n||(n=0),Laya.Tween.to(e,{scaleX:a,scaleY:a,alpha:1},i,Laya.Ease.cubicInOut,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:t,scaleY:t,rotation:0},i,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:t+.5*(a-t),scaleY:t+.5*(a-t),rotation:0},.5*i,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:t,scaleY:t,rotation:0},i,null,Laya.Handler.create(this,function(){s&&s()}),0)}),0)}),0)}),n)},e.move=function(e,t,a,i,n,s,o){Laya.Tween.to(e,{x:t,y:a},i,o||null,Laya.Handler.create(this,function(){n&&n()}),s||0)},e.move_Deform_X=function(e,t,a,i,n,s,o,r,l){e.alpha=0,e.x=t,e.rotation=a,Laya.Tween.to(e,{x:i,scaleX:1+n,scaleY:1+s,rotation:a/3,alpha:1},o,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1,rotation:0},o,null,Laya.Handler.create(this,function(){null!==l&&l()}),0)}),r)},e.move_Deform_Y=function(e,t,a,i,n,s,o,r,l){e.alpha=0,t&&(e.y=t),e.rotation=a,Laya.Tween.to(e,{y:i,scaleX:1+n,scaleY:1+s,rotation:a/3,alpha:1},o,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1,rotation:0},o,null,Laya.Handler.create(this,function(){null!==l&&l()}),0)}),r)},e.blink_FadeOut_v=function(e,t,a,i,n,s){e.alpha=t,Laya.Tween.to(e,{alpha:a},i,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{alpha:t},i,null,Laya.Handler.create(this,function(){null!==s&&s()}),0)}),n)},e.blink_FadeOut=function(e,t,a,i,n,s){e.alpha=t,n||(n=0),Laya.Tween.to(e,{alpha:t},i,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{alpha:a},i,null,Laya.Handler.create(this,function(){s&&s()}),0)}),n)},e.shookHead_Simple=function(e,t,a,i,n){let s=e.rotation;Laya.Tween.to(e,{rotation:s+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:s-2*t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:s+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:s},a,null,Laya.Handler.create(this,function(){n&&n()}),0)}),0)}),0)}),i||0)},e.HintAni_01=function(e,t,a,i,n,s,o){e.alpha=0,Laya.Tween.to(e,{alpha:1,y:e.y-t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:e.y-15},i,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{alpha:0,y:e.y+t+n},s,null,Laya.Handler.create(this,function(){null!==o&&o()}),0)}),0)}),0)},e.scale_Alpha=function(e,t,a,i,n,s,o,r,l,h,c){l||(l=0),c||(c=null),e.alpha=t,e.scaleX=a,e.scaleY=i,Laya.Tween.to(e,{scaleX:n,scaleY:s,alpha:o},r,c,Laya.Handler.create(this,function(){h&&h()}),l)},e.scale=function(e,t,a,i,n,s,o,r,l){e.scaleX=t,e.scaleY=a,Laya.Tween.to(e,{scaleX:i,scaleY:n},s,l||null,Laya.Handler.create(this,function(){r&&r()}),o||0)},e.rotate_Magnify_KickBack=function(e,t,a,i,n,s,o,r){e.alpha=0,e.scaleX=0,e.scaleY=0,Laya.Tween.to(e,{alpha:1,rotation:360+t,scaleX:1+a,scaleY:1+a},i,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:360-t/2,scaleX:1+a/2,scaleY:1+a/2},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:360+t/3,scaleX:1+a/5,scaleY:1+a/5},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:360,scaleX:1,scaleY:1},n,null,Laya.Handler.create(this,function(){e.rotation=0,null!==r&&r()}),0)}),o)}),0)}),s)}}(f=e.Animation2D||(e.Animation2D={})),function(e){e._sound={get switch(){return"0"!=Laya.LocalStorage.getItem("Setting_sound")},set switch(e){let t;t=e?1:0,Laya.LocalStorage.setItem("Setting_sound",t.toString())}},e._bgMusic={get switch(){return"0"!=Laya.LocalStorage.getItem("Setting_bgMusic")},set switch(e){let t;e?(t=1,Laya.LocalStorage.setItem("Setting_bgMusic",t.toString()),C._playMusic()):(t=0,Laya.LocalStorage.setItem("Setting_bgMusic",t.toString()),C._stopMusic())}},e._shake={get switch(){return"0"!=Laya.LocalStorage.getItem("Setting_shake")},set switch(e){let t;t=e?1:0,Laya.LocalStorage.setItem("Setting_shake",t.toString())}},e._createBtnSet=function(t,a,i,n,s,o,r){let l=new Laya.Image;return l.width=i||100,l.height=i||100,l.skin=s||"Frame/UI/icon_set.png",o?o.addChild(l):Laya.stage.addChild(l),l.pivotX=l.width/2,l.pivotY=l.height/2,l.x=t,l.y=a,l.zOrder=r||100,p._on(p._Type.largen,l,null,null,function(e){e.stopPropagation(),h._openScene(h._SceneName.Set)},null),e._BtnSet=l,e._BtnSet.name="BtnSetNode",l},e.btnSetAppear=function(t,a,i){e._BtnSet&&(t?f.scale_Alpha(e._BtnSet,0,1,1,1,1,1,t,0,t=>{e._BtnSet.visible=!0}):e._BtnSet.visible=!0,a&&(e._BtnSet.x=a),i&&(e._BtnSet.y=i))},e.btnSetVinish=function(t){e._BtnSet&&(t?f.scale_Alpha(e._BtnSet,1,1,1,1,1,0,t,0,t=>{e._BtnSet.visible=!1}):e._BtnSet.visible=!1)}}(w=e.Setting||(e.Setting={})),function(e){let t;!function(e){e.bgm="Lwg/Voice/bgm.mp3",e.btn="https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Voice/btn.wav",e.victory="https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Voice/guoguan.wav",e.defeated="https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Voice/wancheng.wav",e.huodejinbi="https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Voice/huodejinbi.wav"}(t=e._voiceUrl||(e._voiceUrl={})),e._playSound=function(e,a,i){e||(e=t.btn),a||(a=1),w._sound.switch&&Laya.SoundManager.playSound(e,a,Laya.Handler.create(this,function(){i&&i()}))},e._playDefeatedSound=function(e,a,i,n){w._sound.switch&&(Laya.SoundManager.soundVolume=n||1,Laya.SoundManager.playSound(e||t.defeated,a||1,Laya.Handler.create(this,function(){i&&i(),Laya.SoundManager.soundVolume=1})))},e._playVictorySound=function(e,a,i,n){w._sound.switch&&(Laya.SoundManager.soundVolume=n||1,Laya.SoundManager.playSound(e||t.victory,a||1,Laya.Handler.create(this,function(){i&&i(),Laya.SoundManager.soundVolume=1})))},e._playMusic=function(e,a,i){w._bgMusic.switch&&Laya.SoundManager.playMusic(e||t.bgm,a||0,Laya.Handler.create(this,function(){}),i||0)},e._stopMusic=function(){Laya.SoundManager.stopMusic()}}(C=e.AudioAdmin||(e.AudioAdmin={})),function(e){let t,a,i,n,o,r,l,h,c;e.color_RGBtoHexString=function(e,t,a){return"#"+("00000"+(e<<16|t<<8|a).toString(16)).slice(-6)},function(e){e.formatNumber=function(e,t=0){let a;return a=e>=1e27?(e/1e27).toFixed(t)+"ae":e>=1e24?(e/1e24).toFixed(t)+"ad":e>=1e21?(e/1e21).toFixed(t)+"ac":e>=1e18?(e/1e18).toFixed(t)+"ab":e>=1e15?(e/1e15).toFixed(t)+"aa":e>=1e12?(e/1e12).toFixed(t)+"t":e>=1e9?(e/1e9).toFixed(t)+"b":e>=1e6?(e/1e6).toFixed(t)+"m":e>=1e3?(e/1e3).toFixed(t)+"k":Math.round(e).toString()},e.strAddNum=function(e,t){return(Number(e)+t).toString()},e.NumAddStr=function(e,t){return Number(t)+e}}(t=e._Format||(e._Format={})),function(t){t.tieByParent=function(e){const t=e.parent;e.x>t.width-e.width/2&&(e.x=t.width-e.width/2),e.x<e.width/2&&(e.x=e.width/2),e.y>t.height-e.height/2&&(e.y=t.height-e.height/2),e.y<e.height/2&&(e.y=e.height/2)},t.tieByStage=function(e,t){const a=e.parent,i=a.localToGlobal(new Laya.Point(e.x,e.y));t?i.x>Laya.stage.width-e.width/2&&(i.x=Laya.stage.width-e.width/2):i.x>Laya.stage.width&&(i.x=Laya.stage.width),t?i.x<e.width/2&&(i.x=e.width/2):i.x<0&&(i.x=0),t?i.y>Laya.stage.height-e.height/2&&(i.y=Laya.stage.height-e.height/2):i.y>Laya.stage.height&&(i.y=Laya.stage.height),t?i.y<e.height/2&&(i.y=e.height/2):i.y<0&&(i.y=0);const n=a.globalToLocal(i);e.pos(n.x,n.y)},t.simpleCopyImg=function(e){let t=new Laya.Image;return t.skin=e.skin,t.width=e.width,t.height=e.height,t.pivotX=e.pivotX,t.pivotY=e.pivotY,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.skewX=e.skewX,t.skewY=e.skewY,t.rotation=e.rotation,t.x=e.x,t.y=e.y,t},t.leaveStage=function(e,t){let a=e.parent.localToGlobal(new Laya.Point(e.x,e.y));return a.x>Laya.stage.width+10||a.x<-10?(t&&t(),!0):a.y>Laya.stage.height+10||a.y<-10?(t&&t(),!0):void 0},t.getNodeGP=function(e){if(e.parent)return e.parent.localToGlobal(new Laya.Point(e.x,e.y))},t.checkTwoDistance=function(e,t,a,i){if(!e||!t)return;let n=e.parent,s=t.parent;if(!e.parent||!t.parent)return;let o=n.localToGlobal(new Laya.Point(e.x,e.y)),r=s.localToGlobal(new Laya.Point(t.x,t.y));return o.distance(r.x,r.y)<=a&&i&&i(),o.distance(r.x,r.y)},t.childZOrderByY=function(e,t,a){let i=[];if(0==e.numChildren)return i;for(let t=0;t<e.numChildren;t++){const a=e.getChildAt(t);i.push(a)}if(h.sortByProperty(i,"y"),t)for(let e=0;e<i.length;e++)i[e].zOrder=e;if(a){let e=[];for(let t=i.length-1;t>=0;t--){const a=i[t];console.log(a),a.zOrder=i.length-t,e.push(a)}return e}return i},t.changePivot=function(e,t,a,i){let n=e.pivotX,s=e.pivotY;i&&(t=Math.round(t),a=Math.round(a)),e.width&&(e.pivot(t,a),e.x+=e.pivotX-n,e.y+=e.pivotY-s)},t.changePivotCenter=function(e,t){let a,i,n=e.pivotX,s=e.pivotY;t&&(a=Math.round(e.width/2),i=Math.round(e.height/2)),e.width&&(e.pivot(e.width/2,e.height/2),e.x+=e.pivotX-n,e.y+=e.pivotY-s)},t.getChildArrByProperty=function(e,t,a){let i=[];for(let n=0;n<e.numChildren;n++){const s=e.getChildAt(n);s[t]==a&&i.push(s)}return i},t.randomChildren=function(t,a){let i=[],n=[];for(let e=0;e<t.numChildren;e++)n.push(e);let s=e._Array.randomGetOut(n,a);for(let e=0;e<s.length;e++)i.push(t.getChildAt(s[e]));return i},t.destroyAllChildren=function(e){for(let t=0;t<e.numChildren;t++)e.getChildAt(t).destroy(),t--},t.destroyOneChildren=function(e,t){for(let a=0;a<e.numChildren;a++){const i=e.getChildAt(a);i.name==t&&(i.destroy(),a--)}},t.removeAllChildren=function(e){e.numChildren>0&&e.removeChildren(0,e.numChildren-1)},t.removeOneChildren=function(e,t){for(let a=0;a<e.numChildren;a++){const i=e.getChildAt(a);i.name==t&&(i.removeSelf(),a--)}},t.checkChildren=function(e,t){for(let a=0;a<e.numChildren;a++){const i=e.getChildAt(a);if(i.name==t)return i}},t.showExcludedChild2D=function(e,t,a){for(let i=0;i<e.numChildren;i++){let n=e.getChildAt(i);for(let e=0;e<t.length;e++)n.name==t[e]?n.visible=!(!a&&null!=a):n.visible=!a&&null!=a}},t.showExcludedChild3D=function(e,t,a){for(let i=0;i<e.numChildren;i++){let n=e.getChildAt(i);for(let e=0;e<t.length;e++)n.name==t[e]?n.active=!(!a&&null!=a):n.active=!a&&null!=a}},t.createPrefab=function(e,t,a,i,n,s){let o=Laya.Pool.getItemByCreateFun(s||e.json.props.name,e.create,e);return t&&t.addChild(o),a&&o.pos(a[0],a[1]),i&&o.addComponent(i),n&&(o.zOrder=n),o},t.childrenVisible2D=function(e,t){for(let a=0;a<e.numChildren;a++){const i=e.getChildAt(a);i.visible=!!t}},t.childrenVisible3D=function(e,t){for(let a=0;a<e.numChildren;a++){const i=e.getChildAt(a);i.active=!!t}},t.findChild3D=function findChild3D(e,t){var a;if(null!=(a=e.getChildByName(t)))return a;for(var i=null,n=0;n<e.numChildren;n++)if(null!=(i=findChild3D(e.getChildAt(n),t)))return i;return null},t.findChild2D=function findChild2D(e,t){var a;if(null!=(a=e.getChildByName(t)))return a;for(var i=null,n=0;n<e.numChildren;n++)if(null!=(i=findChild2D(e.getChildAt(n),t)))return i;return null},t.findChildByName2D=function(e,t){return[]}}(a=e._Node||(e._Node={})),function(t){t.randomOneHalf=function(){let e;return e=Math.floor(2*Math.random())},t.randomNumerical=function(t,a,i){let n=t?e._Number.randomOneBySection(t[0],t[1]):e._Number.randomOneBySection(a[0],a[1]);return i&&(n=0===e._Number.randomOneHalf()?n:-n),n},t.randomOneInt=function(e,t){return t?Math.round(Math.random()*(t-e))+e:Math.round(Math.random()*e)},t.randomCountBySection=function(e,t,a,i){let n=[];if(a||(a=1),t){for(;a>n.length;){let a;a=i||null==i?Math.round(Math.random()*(t-e))+e:Math.random()*(t-e)+e,n.push(a),c.unique01(n)}return n}for(;a>n.length;){let t;t=i||null==i?Math.round(Math.random()*e):Math.random()*e,n.push(t),c.unique01(n)}return n},t.randomOneBySection=function(e,t,a){let i;if(e>t&&(i=e,e=t,t=i),t){let i;return i=a?Math.round(Math.random()*(t-e))+e:Math.random()*(t-e)+e}{let t;return t=a?Math.round(Math.random()*e):Math.random()*e}}}(i=e._Number||(e._Number={})),function(t){t.getOtherLocal=function(e,t){let a=e.parent.localToGlobal(new Laya.Point(e.x,e.y));return t.globalToLocal(a)},t.angleByRad=function(e){return e/180*Math.PI},t.pointByAngle=function(e,t){let a=90-Math.atan2(e,t)*(180/Math.PI);return a<=0&&(a=270+(90+a)),a-90},t.angleByPoint=function(e){let t=(90-e)/(180/Math.PI),a=new Laya.Point(Math.sin(t),Math.cos(t));return a.normalize(),a},t.dotRotatePoint=function(e,t,a,i,n){let s=e+(a-e)*Math.cos(n*Math.PI/180)-(i-t)*Math.sin(n*Math.PI/180),o=t+(a-e)*Math.sin(n*Math.PI/180)+(i-t)*Math.cos(n*Math.PI/180);return new Laya.Point(s,o)},t.angleAndLenByPoint=function(e,t){const a={x:0,y:0};return a.x=t*Math.cos(e*Math.PI/180),a.y=t*Math.sin(e*Math.PI/180),new Laya.Point(a.x,a.y)},t.getRoundPos=function(e,t,a){var i=a,n=(t=t,2*Math.PI/360*e),s=i.x+Math.sin(n)*t,o=i.y-Math.cos(n)*t;return new Laya.Point(s,o)},t.randomPointByCenter=function(t,a,i,n){n||(n=1);let s=[];for(let o=0;o<n;o++){let n=e._Number.randomCountBySection(0,a,1,!1),o=e._Number.randomCountBySection(0,i,1,!1),r=0==e._Number.randomOneHalf()?n[0]:-n[0],l=0==e._Number.randomOneHalf()?o[0]:-o[0],h=new Laya.Point(t.x+r,t.y+l);s.push(h)}return s},t.getPArrBetweenTwoP=function(e,t,a){let i=[],n=t.x-e.x,s=t.y-e.y;for(let t=0;t<a;t++)i.push(new Laya.Point(e.x+n/a*t,e.y+s/a*t));return i.length>=1&&i.unshift(),i.length>=1&&i.pop(),i},t.reverseVector=function(e,t,a){let i;return i=new Laya.Point(e.x-t.x,e.y-t.y),a&&i.normalize(),i}}(n=e._Point||(e._Point={})),function(t){function twoSubV3(e,t,a){let i=new Laya.Vector3;if(Laya.Vector3.subtract(e,t,i),a){let e=new Laya.Vector3;return Laya.Vector3.normalize(i,e),e}return i}t.randomScopeByPosition=function(t,a){let i=e._Number.randomOneBySection(a[0][0],a[1][0]),n=e._Number.randomOneBySection(a[0][1],a[1][1]),s=e._Number.randomOneBySection(a[0][2],a[1][2]);i=0==e._Number.randomOneHalf()?i:-i,n=0==e._Number.randomOneHalf()?n:-n,s=0==e._Number.randomOneHalf()?s:-s,t.transform.position=new Laya.Vector3(t.transform.position.x+i,t.transform.position.y+n,t.transform.position.z+s)},t.getMeshSize=function(e){if(e.meshRenderer){let t,a=e.meshRenderer.bounds.getExtent();return t=new Laya.Vector3(2*a.x,2*a.y,2*a.z)}},t.getSkinMeshSize=function(e){if(e.skinnedMeshRenderer){let t,a=e.skinnedMeshRenderer.bounds.getExtent();return t=new Laya.Vector3(2*a.x,2*a.y,2*a.z)}},t.twoNodeDistance=function(e,t){let a=e.transform.position,i=t.transform.position,n=new Laya.Vector3;return Laya.Vector3.subtract(a,i,n),Laya.Vector3.scalarLength(n)},t.twoPositionDistance=function(e,t){let a=twoSubV3(e,t);return Laya.Vector3.scalarLength(a)},t.twoSubV3=twoSubV3,t.maximumDistanceLimi=function(e,t,a){let i=new Laya.Vector3,n=t.transform.position;if(Laya.Vector3.subtract(n,e,i),Laya.Vector3.scalarLength(i)>=a){let n=new Laya.Vector3;Laya.Vector3.normalize(i,n);let s=e.x+n.x*a,o=e.y+n.y*a,r=e.z+n.z*a,l=new Laya.Vector3(s,o,r);return t.transform.position=l,l}},t.posToScreen=function(e,t){let a=new Laya.Vector4;t.viewport.project(e,t.projectionViewMatrix,a);let i=new Laya.Vector2;return i.x=a.x/Laya.stage.clientScaleX,i.y=a.y/Laya.stage.clientScaleY,i},t.reverseVector=function(e,t,a){let i=new Laya.Vector3(e.x-t.x,e.y-t.y,e.z-t.z);if(a){let e=new Laya.Vector3;return Laya.Vector3.normalize(i,e),e}return i},t.rayScanning=function(e,t,a,i){let n=new Laya.Ray(new Laya.Vector3(0,0,0),new Laya.Vector3(0,0,0)),s=new Array;const o=new Laya.Vector2(Laya.stage.clientScaleX*a.x,Laya.stage.clientScaleY*a.y);if(e.viewportPointToRay(o,n),t.physicsSimulation.rayCastAll(n,s),i){let e;for(let t=0;t<s.length;t++)s[t].collider.owner.name==i&&(e=s[t]);return e}return s},t.animatorPlay=function(e,t,a,i){let n=e.getComponent(Laya.Animator);if(n)return i||(i=0),n.play(t,i,a),n;console.log(e.name,"没有动画组件")}}(o=e._3D||(e._3D={})),function(e){e.sk_indexControl=function(e,t){e.play(t,!0),e.player.currentTime=15e3/e.player.cacheFrameRate}}(r=e._Skeleton||(e._Skeleton={})),function(e){e.drawPieMask=function(e,t,a){e.cacheAs="bitmap";let i=new Laya.Sprite;return i.blendMode="destination-out",e.addChild(i),i.graphics.drawPie(e.width/2,e.height/2,e.width/2+10,t,a,"#000000")},e.screenshot=function(e,t){return e.drawToCanvas(e.width,e.height,e.x,e.y).toBase64("image/png",t||1)},e._texArr=[],e.cameraToSprite=function(t,a,i){const n=t.clone();t.scene.addChild(n),n.transform.position=t.transform.position,n.transform.localRotationEuler=t.transform.localRotationEuler,n.renderTarget=new Laya.RenderTexture(a.width,a.height),n.renderingOrder=-1,n.clearFlag=Laya.CameraClearFlags.Sky;const o=new Laya.Texture(n.renderTarget,Laya.Texture.DEF_UV);a.graphics.drawTexture(o,a.x,a.y,a.width,a.height),e._texArr.push(o),e._texArr.length>3&&(e._texArr[0].destroy(),e._texArr.shift()),s._frameOnce(5,this,()=>{n.destroy()})},e.drawToTex=function(e,t){return e.drawToTexture(e.width,e.height,e.x,e.y)},e.reverseCircleMask=function(e,t,i){null!=i&&1!=i||a.destroyAllChildren(e);let n=e.getChildByName("reverseRoundMask");n||((n=new Laya.Sprite).name="reverseRoundMask",n.blendMode="destination-out",e.addChild(n)),e.cacheAs="bitmap";for(let e=0;e<t.length;e++)n.graphics.drawCircle(t[e][0],t[e][1],t[e][2],"#000000");return n.pos(0,0),n},e.reverseRoundrectMask=function(e,t,i){null!=i&&1!=i||a.removeAllChildren(e);let n=e.getChildByName("reverseRoundrectMask");n||((n=new Laya.Sprite).name="reverseRoundrectMask",n.blendMode="destination-out",e.addChild(n)),"bitmap"!==e.cacheAs&&(e.cacheAs="bitmap");for(let e=0;e<t.length;e++){const a=t[e];a[0]=Math.round(a[0]),a[1]=Math.round(a[1]),a[2]=Math.round(a[2]),a[3]=Math.round(a[3]),a[4]=Math.round(a[4]),n.graphics.drawPath(a[0],a[1],[["moveTo",a[4],0],["lineTo",a[2]-a[4],0],["arcTo",a[2],0,a[2],a[4],a[4]],["lineTo",a[2],a[3]-a[4]],["arcTo",a[2],a[3],a[2]-a[4],a[3],a[4]],["lineTo",a[3]-a[4],a[3]],["arcTo",0,a[3],0,a[3]-a[4],a[4]],["lineTo",0,a[4]],["arcTo",0,0,a[4],0,a[4]],["closePath"]],{fillStyle:"#000000"}),n.pivotX=a[2]/2,n.pivotY=a[3]/2,n.pos(0,0)}}}(l=e._Draw||(e._Draw={})),function(e){function objCopy(e){var t={};for(const a in e)if(e.hasOwnProperty(a)){const i=e[a];if("object"==typeof i)if(Array.isArray(i)){let e=c.copy(i);t[a]=e}else objCopy(i);else t[a]=i}return t}e.sortByProperty=function(e,t){return e.sort(function(e,a){var i=e[t],n=a[t];return isNaN(Number(i))||isNaN(Number(n))||(i=Number(i),n=Number(n)),i<n?-1:i>n?1:0}),e},e.diffProByTwo=function(t,a,i){for(var n=[],s=0;s<t.length;s++){for(var o=t[s],r=o[i],l=!1,h=0;h<a.length;h++)if(a[h][i]==r){l=!0;break}if(!l){let t=e.objCopy(o);n.push(t)}}return n},e.identicalPropertyObjArr=function(e,t,a){for(var i=[],n=0;n<e.length;n++){for(var s=e[n],o=(s[a],!1),r=0;r<t.length;r++)if(t[r][a]==name){o=!0;break}o&&i.push(s)}return i},e.objArrUnique=function(e,t){for(var a=0,i=e.length;a<i;a++){var n=a+1;for(i=e.length;n<i;n++)e[a][t]===e[n][t]&&(e.splice(n,1),n--,i--)}return e},e.getArrByValue=function(e,t){let a=[];for(let i=0;i<e.length;i++)e[i][t]&&a.push(e[i][t]);return a},e.arrCopy=function(e){var t=e instanceof Array?[]:{};for(var a in e)t[a]="object"==typeof e[a]?objCopy(e[a]):e[a];return t},e.modifyProValue=function(e,t,a){for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const n=e[i];n[t]&&(n[t]=a)}return e},e.objCopy=objCopy}(h=e._ObjArray||(e._ObjArray={})),function(e){function copy(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a]);return t}e.addToarray=function(e,t){for(let a=0;a<t.length;a++){const i=t[a];e.push(i)}return e},e.inverted=function(e){let t=[];for(let a=e.length-1;a>=0;a--){const i=e[a];t.push(i)}return e=t},e.randomGetOut=function(t,a){a||(a=1);let i=e.copy(t),n=[];if(a>i.length)return"数组长度小于取出的数！";for(let e=0;e<a;e++){let e=Math.round(Math.random()*(i.length-1)),t=i[e];i.splice(e,1),n.push(t)}return n},e.randomGetOne=function(e){let t=copy(e);return t[Math.round(Math.random()*(t.length-1))]},e.copy=copy,e.unique01=function(e){for(var t=0,a=e.length;t<a;t++){var i=t+1;for(a=e.length;i<a;i++)e[t]===e[i]&&(e.splice(i,1),i--,a--)}return e},e.unique02=function(e){for(var t=[(e=e.sort())[0]],a=1,i=e.length;a<i;a++)e[a]!==e[a-1]&&t.push(e[a]);return t},e.unique03=function(e){return Array.from(new Set(e))},e.oneExcludeOtherOne=function(t,a){let i=e.copy(t),n=e.copy(a);for(let e=0;e<i.length;e++)for(let t=0;t<n.length;t++)i[e]==n[t]&&(i.splice(e,1),e--);return i},e.moreExclude=function(e,t){let a=[];for(let t=0;t<e.length;t++)for(let i=0;i<e[t].length;i++)a.push(e[t][i]);let i=copy(a),n=copy(i),s=[];for(let e=0;e<n.length;e++)s.push({name:n[e],num:0});for(let e=0;e<a.length;e++)for(let t=0;t<s.length;t++)a[e]==s[t].name&&s[t].num++;let o=[],r=[];for(let t=0;t<s.length;t++)s[t],s[t].num==e.length?o.push(s[t].name):r.push(s[t].name);return t?r:o}}(c=e._Array||(e._Array={}))}(S=e.Tools||(e.Tools={})),function(e){let t,a,n=[],s=[],o=[],r=[],l=[],_=[],d=[],u=[],g=[],p=[],y=[],f=[];e._sumProgress=0,e._loadOrder=[],e._loadOrderIndex=0,e._loadType=h._SceneName.PreLoad,function(e){e.scene3D="scene3D",e.prefab3D="prefab3D",e.mesh3D="mesh3D",e.material="material",e.texture="texture",e.texture2D="texture2D",e.pic2D="pic2D",e.scene2D="scene2D",e.prefab2D="prefab2D",e.json="json",e.skeleton="skeleton",e.effectTex2D="effectTex2D"}(t=e._ListName||(e._ListName={})),e._currentProgress={get value(){return this.len?this.len:0},set value(t){if(this.len=t,this.len>=e._sumProgress){if(0==e._sumProgress)return;console.log("当前进度条进度为:",e._currentProgress.value/e._sumProgress),console.log('所有资源加载完成！此时所有资源可通过例如 Laya.loader.getRes("url")获取'),i._notify(e._Event.complete)}else{let t=0;for(let a=0;a<=e._loadOrderIndex;a++)t+=e._loadOrder[a].length;this.len==t&&e._loadOrderIndex++,i._notify(e._Event.stepLoding)}}},function(e){e.importList="_PreLoad_importList",e.complete="_PreLoad_complete",e.stepLoding="_PreLoad_startLoding",e.progress="_PreLoad_progress"}(a=e._Event||(e._Event={})),e._remakeLode=function(){n=[],s=[],o=[],r=[],_=[],d=[],u=[],g=[],p=[],y=[],e._loadOrder=[],f=[],e._sumProgress=0,e._loadOrderIndex=0,e._currentProgress.value=0};e._PreLoadScene=class extends h._SceneBase{moduleOnAwake(){e._remakeLode()}lwgStartLoding(t){i._notify(e._Event.importList,t)}moduleEvent(){i._registerOnce(a.importList,this,a=>{a[t.effectTex2D]=m._tex2D;for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))for(const i in a[e])if(Object.prototype.hasOwnProperty.call(a[e],i)){const h=a[e][i];switch(e){case t.json:p.push(h);break;case t.material:r.push(h);break;case t.mesh3D:o.push(h);break;case t.pic2D:d.push(h);break;case t.prefab2D:g.push(h);break;case t.prefab3D:s.push(h);break;case t.scene2D:u.push(h);break;case t.scene3D:n.push(h);break;case t.texture2D:_.push(h);break;case t.skeleton:y.push(h);break;case t.texture:l.push(h);break;case t.effectTex2D:f.push(h)}}e._loadOrder=[d,u,g,s,p,l,_,o,r,y,n,f];for(let t=0;t<e._loadOrder.length;t++)e._sumProgress+=e._loadOrder[t].length,e._loadOrder[t].length<=0&&(e._loadOrder.splice(t,1),t--);let h=this.lwgOpenAni();Laya.timer.once(h||0,this,()=>{i._notify(e._Event.stepLoding)})}),i._register(a.stepLoding,this,()=>{this.startLodingRule()}),i._registerOnce(a.complete,this,()=>{Laya.timer.once(this.lwgAllComplete(),this,()=>{if(h._SceneControl[e._loadType]=this._Owner,e._loadType!==h._SceneName.PreLoad)h._PreLoadCutIn.openName&&this._openScene(h._PreLoadCutIn.openName);else{for(const e in h._Moudel)if(Object.prototype.hasOwnProperty.call(h._Moudel,e)){const t=h._Moudel[e];t._init?t._init():console.log(t,"模块没有初始化函数！")}C._playMusic(),this._openScene(c.Start,!0,!1,()=>{e._loadType=h._SceneName.PreLoadCutIn})}})}),i._register(a.progress,this,()=>{e._currentProgress.value++,e._currentProgress.value<e._sumProgress&&(console.log("当前进度条进度为:",e._currentProgress.value/e._sumProgress),this.lwgStepComplete())})}moduleOnEnable(){e._loadOrderIndex=0}startLodingRule(){if(e._loadOrder.length<=0)return console.log("没有加载项"),void i._notify(e._Event.complete);let t=0;for(let a=0;a<e._loadOrderIndex;a++)t+=e._loadOrder[a].length;let h=e._currentProgress.value-t;switch(e._loadOrder[e._loadOrderIndex]){case d:Laya.loader.load(d[h],Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX2D资源"+d[h]+"加载失败！不会停止加载进程！","数组下标为：",h,"XXXXXXXXXXX"):console.log("2D图片"+d[h]+"加载完成！","数组下标为：",h),i._notify(a.progress)}));break;case u:Laya.loader.load(u[h],Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX数据表"+u[h]+"加载失败！不会停止加载进程！","数组下标为：",h,"XXXXXXXXXXX"):console.log("2D场景"+u[h]+"加载完成！","数组下标为：",h),i._notify(a.progress)}),null,Laya.Loader.JSON);break;case n:Laya.Scene3D.load(n[h].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX3D场景"+n[h].url+"加载失败！不会停止加载进程！","数组下标为：",h,"XXXXXXXXXXX"):(n[h].Scene=e,console.log("3D场景"+n[h].url+"加载完成！","数组下标为：",h)),i._notify(a.progress)}));break;case s:Laya.Sprite3D.load(s[h].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX3D预设体"+s[h].url+"加载失败！不会停止加载进程！","数组下标为：",h,"XXXXXXXXXXX"):(s[h].Prefab=e,console.log("3D预制体"+s[h].url+"加载完成！","数组下标为：",h)),i._notify(a.progress)}));break;case o:Laya.Mesh.load(o[h].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX3D网格"+o[h].url+"加载失败！不会停止加载进程！","数组下标为：",h,"XXXXXXXXXXX"):console.log("3D网格"+o[h].url+"加载完成！","数组下标为：",h),i._notify(a.progress)}));break;case l:Laya.loader.load(l[h].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX2D纹理"+l[h].url+"加载失败！不会停止加载进程！","数组下标为：",h,"XXXXXXXXXXX"):(l[h].texture=e,console.log("纹理"+l[h].url+"加载完成！","数组下标为：",h)),i._notify(a.progress)}));break;case _:Laya.Texture2D.load(_[h].url,Laya.Handler.create(this,function(e){null==e?console.log("XXXXXXXXXXX2D纹理"+_[h].url+"加载失败！不会停止加载进程！","数组下标为：",h,"XXXXXXXXXXX"):(_[h].texture2D=e,console.log("3D纹理"+_[h].url+"加载完成！","数组下标为：",h)),i._notify(a.progress)}));break;case f:Laya.Texture2D.load(f[h].url,Laya.Handler.create(this,function(e){null==e?console.log("XXXXXXXXXXX2D纹理"+f[h].url+"加载失败！不会停止加载进程！","数组下标为：",h,"XXXXXXXXXXX"):(f[h].texture2D=e,console.log("3D纹理"+f[h].url+"加载完成！","数组下标为：",h)),i._notify(a.progress)}));break;case r:Laya.Material.load(r[h].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX材质"+r[h].url+"加载失败！不会停止加载进程！","数组下标为：",h,"XXXXXXXXXXX"):console.log("材质"+r[h].url+"加载完成！","数组下标为：",h),i._notify(a.progress)}));break;case p:Laya.loader.load(p[h].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX数据表"+p[h].url+"加载失败！不会停止加载进程！","数组下标为：",h,"XXXXXXXXXXX"):(p[h].dataArr=e.RECORDS,console.log("数据表"+p[h].url+"加载完成！","数组下标为：",h)),i._notify(a.progress)}),null,Laya.Loader.JSON);break;case y:y[h].templet.on(Laya.Event.ERROR,this,()=>{console.log("XXXXXXXXXXX骨骼动画"+y[h]+"加载失败！不会停止加载进程！","数组下标为：",h,"XXXXXXXXXXX"),i._notify(a.progress)}),y[h].templet.on(Laya.Event.COMPLETE,this,()=>{console.log("骨骼动画",y[h].templet.url,"加载完成！","数组下标为：",h),i._notify(a.progress)}),y[h].templet.loadAni(y[h].url);break;case g:Laya.loader.load(g[h].url,Laya.Handler.create(this,e=>{if(null==e)console.log("XXXXXXXXXXX数据表"+g[h].url+"加载失败！不会停止加载进程！","数组下标为：",h,"XXXXXXXXXXX");else{let t=new Laya.Prefab;t.json=e,g[h].prefab=t,console.log("2D预制体"+g[h].url+"加载完成！","数组下标为：",h)}i._notify(a.progress)}))}}lwgStepComplete(){}lwgAllComplete(){return 0}}}(L=e.LwgPreLoad||(e.LwgPreLoad={})),function(e){function _loadPkg_VIVO(){if(e._pkgStep===e._pkgInfo.length)h._openScene(c.PreLoad);else{let t=e._pkgInfo[e._pkgStep].name;Laya.Browser.window.qg.loadSubpackage({name:t,success:t=>{console.log("++++++++++++++++++++++++++++++++++++++分包成功！",t,e._pkgStep),e._pkgStep++,_loadPkg_VIVO()},fail:e=>{console.error(`load ${t} err: `,e)}})}}e._pkgStep=0,e._pkgInfo=[{name:"sp1",root:"res"}],e._22init=function(){console.log("------------------------开始分包！"),_loadPkg_VIVO()},e._loadPkg_VIVO=_loadPkg_VIVO,e._loadPkg_Wechat=function _loadPkg_Wechat(){if(e._pkgStep===e._pkgInfo.length)h._openScene(c.PreLoad);else{let t=e._pkgInfo[e._pkgStep],a=t.name,i=t.root;Laya.Browser.window.wx.loadSubpackage({name:a,success:t=>{console.log(`load ${a} suc`),Laya.MiniAdpter.subNativeFiles[a]=i,Laya.MiniAdpter.nativefiles.push(i),e._pkgStep++,console.log("加载次数",e._pkgStep),_loadPkg_Wechat()},fail:e=>{console.error(`load ${a} err: `,e)}})}};e._LwgInitScene=class extends h._SceneBase{lwgOpenAni(){return 1}moduleOnAwake(){}moduleOnStart(){n._init()}}}(b=e._LwgInit||(e._LwgInit={})),function(e){e._execution={get value(){return this._Execution_executionNum?this._Execution_executionNum:Laya.LocalStorage.getItem("_Execution_executionNum")?Number(Laya.LocalStorage.getItem("_Execution_executionNum")):15},set value(e){console.log(e),this._Execution_executionNum=e,Laya.LocalStorage.setItem("_Execution_executionNum",e.toString())}},e._addExDate={get value(){return this._Execution_addExDate?this._Execution_addExDate:Laya.LocalStorage.getItem("_Execution_addExDate")?Number(Laya.LocalStorage.getItem("_Execution_addExDate")):(new Date).getDay()},set value(e){this._Execution_addExDate=e,Laya.LocalStorage.setItem("_Execution_addExDate",e.toString())}},e._addExHours={get value(){return this._Execution_addExHours?this._Execution_addExHours:Laya.LocalStorage.getItem("_Execution_addExHours")?Number(Laya.LocalStorage.getItem("_Execution_addExHours")):(new Date).getHours()},set value(e){this._Execution_addExHours=e,Laya.LocalStorage.setItem("_Execution_addExHours",e.toString())}},e._addMinutes={get value(){return this._Execution_addMinutes?this._Execution_addMinutes:Laya.LocalStorage.getItem("_Execution_addMinutes")?Number(Laya.LocalStorage.getItem("_Execution_addMinutes")):(new Date).getMinutes()},set value(e){this._Execution_addMinutes=e,Laya.LocalStorage.setItem("_Execution_addMinutes",e.toString())}},e._createExecutionNode=function(t){let a;Laya.loader.load("prefab/ExecutionNum.json",Laya.Handler.create(this,function(i){let n=new Laya.Prefab;n.json=i,a=Laya.Pool.getItemByCreateFun("prefab",n.create,n),t.addChild(a),a.getChildByName("Num").value=e._execution.value.toString(),a.pos(297,90),a.zOrder=50,e._ExecutionNode=a,e._ExecutionNode.name="_ExecutionNode"}))},e._addExecution=function(t,a,i){let n;Laya.loader.load("prefab/execution.json",Laya.Handler.create(this,function(t){let a=new Laya.Prefab;a.json=t,n=Laya.Pool.getItemByCreateFun("prefab",a.create,a),Laya.stage.addChild(n),n.x=Laya.stage.width/2,n.y=Laya.stage.height/2,n.zOrder=50,e._ExecutionNode&&f.move(n,e._ExecutionNode.x,e._ExecutionNode.y,800,()=>{f.fadeOut(n,1,0,200,0,()=>{f.upDwon_Shake(e._ExecutionNode,10,80,0,null),i&&i()})},100)}))},e.createConsumeEx=function(t){let a=Laya.Pool.getItemByClass("label",Laya.Label);a.name="label",Laya.stage.addChild(a),a.text="-2",a.fontSize=40,a.bold=!0,a.color="#59245c",a.x=e._ExecutionNode.x+100,a.y=e._ExecutionNode.y-a.height/2+4,a.zOrder=100,f.fadeOut(a,0,1,200,150,()=>{f.leftRight_Shake(e._ExecutionNode,15,60,0,null),f.fadeOut(a,1,0,600,400,()=>{})})};e.ExecutionNode=class extends h._ObjectBase{constructor(){super(...arguments),this.time=0,this.countNum=59,this.timeSwitch=!0}lwgOnAwake(){this.Num=this._Owner.getChildByName("Num"),this.CountDown=this._Owner.getChildByName("CountDown"),this.CountDown_board=this._Owner.getChildByName("CountDown_board"),this.countNum=59,this.CountDown.text="00:"+this.countNum,this.CountDown_board.text=this.CountDown.text;let t=new Date;t.getDate()!==e._addExDate.value?e._execution.value=15:t.getHours()==e._addExHours.value?(console.log(t.getMinutes(),e._addMinutes.value),e._execution.value+=t.getMinutes()-e._addMinutes.value,e._execution.value>15&&(e._execution.value=15)):e._execution.value=15,this.Num.value=e._execution.value.toString(),e._addExDate.value=t.getDate(),e._addExHours.value=t.getHours(),e._addMinutes.value=t.getMinutes()}countDownAddEx(){if(this.time++,this.time%60==0){if(this.countNum--,this.countNum<0){this.countNum=59,e._execution.value+=1,this.Num.value=e._execution.value.toString();let t=new Date;e._addExHours.value=t.getHours(),e._addMinutes.value=t.getMinutes()}this.countNum>=10&&this.countNum<=59?(this.CountDown.text="00:"+this.countNum,this.CountDown_board.text=this.CountDown.text):this.countNum>=0&&this.countNum<10&&(this.CountDown.text="00:0"+this.countNum,this.CountDown_board.text=this.CountDown.text)}}lwgOnUpdate(){Number(this.Num.value)>=15?this.timeSwitch&&(e._execution.value=15,this.Num.value=e._execution.value.toString(),this.CountDown.text="00:00",this.CountDown_board.text=this.CountDown.text,this.countNum=60,this.timeSwitch=!1):(this.timeSwitch=!0,this.countDownAddEx())}}}(v=e.Execution||(e.Execution={}))}(s||(s={}));let h=s.Admin,c=(h._SceneBase,h._ObjectBase,h._SceneName),_=s.Platform,d=s.SceneAnimation,u=s.Adaptive,m=s.StorageAdmin,g=s.DataAdmin,p=s.EventAdmin,y=s.DateAdmin,f=s.TimerAdmin,w=(s.Execution,s.Gold,s.Setting),C=s.AudioAdmin,S=s.Click,L=s.Color,b=s.Effects2D,v=s.Effects3D,P=s.Dialogue,I=s.Animation2D,x=s.Animation3D,B=s.Tools,k=s.LwgPreLoad,T=(s.LwgPreLoad._PreLoadScene,s._LwgInit),N=s._LwgInit._LwgInitScene;var A;!function(e){let t,a;!function(e){e.start="_Game_start",e.showStepBtn="_Game_showStepBtn",e.lastStep="_Game_lastStep",e.nextStep="_Game_nextStep",e.compelet="_Game_compelet",e.playAni1="_Game_playAni1",e.playAni2="_Game_playAni2",e.restoreZOder="_Game_restoreZoder",e.colseScene="_Game_colseScene",e.victory="_Game_victory",e.Photo="_Game_Photo",e.turnRight="_Game_turnRight",e.turnLeft="_Game_turnLeft",e.generalRefresh="_Game_generalRefresh"}(t=e._Event||(e._Event={})),function(e){e.action1="action1",e.action2="action2"}(a=e._Animation||(e._Animation={})),e._init=function(){};e.Game=class extends h._SceneBase{}}(A||(A={}));var O,D,M,V,R,X;A.Game;class G{static _dialogOpenPopup(e,t,a){e.scene.zOrder=Laya.stage.numChildren-1;return e.scale(.5,.5),I.bombs_Appear(e,0,1,1.2,0,300,()=>{a&&a()}),t&&(t.alpha=0,I.fadeOut(t,0,1,200,200)),300}static _dialogOpenFadeOut(e,t,a){return t&&I.fadeOut(t,0,1,300,0,()=>{a&&a()}),I.fadeOut(e,0,1,250,0,()=>{!t&&a&&a()}),300}static _dialogCloseFadeOut(e,t,a){return I.fadeOut(e,1,0,180,150,()=>{a&&a()}),t&&I.fadeOut(t,1,0,180),330}static _charactersEffect(e,t,a){for(let i=0;i<t.length;i++){const n=t.charAt(i);f._frameOnce(10*i,this,()=>{e.text+=n,i==t.length-1&&a&&a()})}}static _scaleHint(e){f._loop(1e3,this,()=>{I.swell_shrink(e,1,1.05,300)})}static _fadeHint(e){I.fadeOut(e,0,.6,1500,0,()=>{I.fadeOut(e,.6,0,800,0,()=>{f._frameOnce(30,this,()=>{this._fadeHint(e)})})})}}!function(e){e._list={scene3D:{MakeClothes:{url:"https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/_Lwg3D/_Scene/LayaScene_3DDressUp/Conventional/3DDressUp.ls",Scene:null}},pic2D:{Effects:"res/atlas/lwg/Effects.png"},prefab2D:{NativeRoot:{url:"Prefab/NativeRoot.json",prefab:new Laya.Prefab},BtnAgain:{url:"Prefab/BtnAGainTow.json",prefab:new Laya.Prefab},BtnBack:{url:"Prefab/BtnBack3.json",prefab:new Laya.Prefab},BtnRollback:{url:"Prefab/BtnRollback.json",prefab:new Laya.Prefab},diy_bottom_002_final:{url:"Prefab/diy_bottom_002_final.json",prefab:new Laya.Prefab},diy_bottom_003_final:{url:"Prefab/diy_bottom_003_final.json",prefab:new Laya.Prefab},diy_bottom_004_final:{url:"Prefab/diy_bottom_004_final.json",prefab:new Laya.Prefab},diy_bottom_005_final:{url:"Prefab/diy_bottom_005_final.json",prefab:new Laya.Prefab},diy_bottom_006_final:{url:"Prefab/diy_bottom_006_final.json",prefab:new Laya.Prefab},diy_dress_001_final:{url:"Prefab/diy_dress_001_final.json",prefab:new Laya.Prefab},diy_dress_002_final:{url:"Prefab/diy_dress_002_final.json",prefab:new Laya.Prefab},diy_dress_003_final:{url:"Prefab/diy_dress_003_final.json",prefab:new Laya.Prefab},diy_dress_004_final:{url:"Prefab/diy_dress_004_final.json",prefab:new Laya.Prefab},diy_dress_005_final:{url:"Prefab/diy_dress_005_final.json",prefab:new Laya.Prefab},diy_dress_006_final:{url:"Prefab/diy_dress_006_final.json",prefab:new Laya.Prefab},diy_dress_007_final:{url:"Prefab/diy_dress_007_final.json",prefab:new Laya.Prefab},diy_dress_008_final:{url:"Prefab/diy_dress_008_final.json",prefab:new Laya.Prefab},diy_top_003_final:{url:"Prefab/diy_top_003_final.json",prefab:new Laya.Prefab},diy_top_004_final:{url:"Prefab/diy_top_004_final.json",prefab:new Laya.Prefab},diy_top_005_final:{url:"Prefab/diy_top_005_final.json",prefab:new Laya.Prefab},diy_top_006_final:{url:"Prefab/diy_top_006_final.json",prefab:new Laya.Prefab},diy_top_007_final:{url:"Prefab/diy_top_007_final.json",prefab:new Laya.Prefab},diy_top_008_final:{url:"Prefab/diy_top_008_final.json",prefab:new Laya.Prefab}},texture:{},texture2D:{bgStart:{url:"https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Bg/bgStart.jpg",texture2D:null}},scene2D:{Start:"Scene/Start.json",Guide:"Scene/Guide.json",PreLoadStep:"Scene/PreLoadCutIn.json",MakePattern:"Scene/MakePattern.json",MakeTailor:"Scene/MakeTailor.json"},json:{GeneralClothes:{url:"_LwgData/_DressingRoom/GeneralClothes.json",dataArr:new Array},DIYClothes:{url:"_LwgData/_MakeTailor/DIYClothes.json",dataArr:new Array},DIYClothesDiff:{url:"_LwgData/_MakeTailor/DIYClothesDiff.json",dataArr:new Array},MakePattern:{url:"_LwgData/_MakePattern/MakePattern.json",dataArr:new Array},Ranking:{url:"_LwgData/_Ranking/Ranking.json",dataArr:new Array},CheckIn:{url:"_LwgData/_CheckIn/CheckIn.json",dataArr:new Array}}}}(O||(O={})),function(e){e.Start={texture2D:{bgStart:{url:"https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Bg/bgStart.jpg",texture2D:null}}},e.MakePattern={texture2D:{bgMakePattern:{url:"https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Bg/bgMakePattern.jpg",texture2D:null},bgPhoto:{url:"https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Bg/bgPhoto.png",texture2D:null}}},e.DressingRoom={texture2D:{bgDressingRoom:{url:"https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Bg/bgDressingRoom.jpg",texture2D:null}}}}(D||(D={})),function(e){class t{constructor(){this.aniName={Stand:"Stand",Pose1:"Pose1",Pose2:"Pose2",DispalyCloth:"DispalyCloth",Walk:"Walk"}}static _ins(){return this.ins||(this.ins=new t,this.ins._Owner=O._list.scene3D.MakeClothes.Scene,Laya.stage.addChild(this.ins._Owner),this.ins._Role=this.ins._Owner.getChildByName("Role"),this.ins._RoleFPos=new Laya.Vector3(this.ins._Role.transform.position.x,this.ins._Role.transform.position.y,this.ins._Role.transform.position.z),this.ins._Root=this.ins._Role.getChildByName("Root"),this.ins._DIY=this.ins._Root.getChildByName("DIY"),this.ins._General=this.ins._Root.getChildByName("General"),this.ins._DBottoms=this.ins._DIY.getChildByName("Bottoms"),this.ins._DTop=this.ins._DIY.getChildByName("Top"),this.ins._DDress=this.ins._DIY.getChildByName("Dress"),this.ins._GBottoms=this.ins._General.getChildByName("Bottoms"),this.ins._GTop=this.ins._General.getChildByName("Top"),this.ins._GDress=this.ins._General.getChildByName("Dress"),this.ins._RoleAni=this.ins._Role.getComponent(Laya.Animator),this.ins._MainCamara=this.ins._Owner.getChildByName("Main Camera"),this.ins._MirrorCamera=this.ins._Owner.getChildByName("MirrorCamera"),this.ins._Mirror=this.ins._Owner.getChildByName("Mirror"),this.ins._Bg1=this.ins._Owner.getChildByName("Bg1"),this.ins._bg1Mat=this.ins._Bg1.meshRenderer.material,this.ins._Bg2=this.ins._Owner.getChildByName("Bg2"),this.ins._BtnDress=this.ins._Owner.getChildByName("BtnDress"),this.ins._BtnTop=this.ins._Owner.getChildByName("BtnTop"),this.ins._BtnBottoms=this.ins._Owner.getChildByName("BtnBottoms"),this.ins._BtnDressingRoom=this.ins._Owner.getChildByName("BtnDressingRoom"),this.ins._DIYHanger=this.ins._Owner.getChildByName("DIYHanger"),this.ins.fillLight_Right1=this.ins._Owner.getChildByName("fillLight_Right1"),this.ins.fillLight_Right2=this.ins._Owner.getChildByName("fillLight_Right2"),this.ins.fillLight_Left1=this.ins._Owner.getChildByName("fillLight_Left1"),this.ins.fillLight_Left2=this.ins._Owner.getChildByName("fillLight_Left2"),this.ins.fillLight_Back1=this.ins._Owner.getChildByName("fillLight_Back1"),this.ins.fillLight_Bottom1=this.ins._Owner.getChildByName("fillLight_Bottom1"),this.ins.fillLight_Bottom2=this.ins._Owner.getChildByName("fillLight_Bottom2"),this.ins.fillLight_Left1.intensity=.15,this.ins.fillLight_Right1.intensity=.15,this.ins.fillLight_Bottom2.active=!1,this.ins.fillLight_Left2.intensity=.4,this.ins.fillLight_Right2.intensity=.4),this.ins}playDispalyAni(){this._RoleAni.play(this.aniName.Stand),this._RoleAni.play(this.aniName.DispalyCloth),Laya.timer.clearAll(this._Role),f._once(3200,this._Role,()=>{this._RoleAni.crossFade(this.aniName.Stand,.3)})}playPoss1Ani(){this._RoleAni.crossFade(this.aniName.Pose1,.3),Laya.timer.clearAll(this._Role),f._once(3200,this._Role,()=>{this._RoleAni.crossFade(this.aniName.Stand,.3)})}playPoss2Ani(){this._RoleAni.crossFade(this.aniName.Pose2,.3),Laya.timer.clearAll(this._Role),f._once(3200,this._Role,()=>{this._RoleAni.crossFade(this.aniName.Stand,.3)})}playStandAni(){Laya.timer.clearAll(this),Laya.timer.clearAll(this._Role),this._RoleAni.crossFade(this.aniName.Stand,.3)}playRandomPose(){f._frameLoop(500,this,()=>{0==B._Number.randomOneHalf()?e._Scene._ins().playPoss1Ani():e._Scene._ins().playPoss2Ani()},!0)}get btnDressPos(){return B._3D.posToScreen(this._BtnDress.transform.position,this._MainCamara)}get btnTopPos(){return B._3D.posToScreen(this._BtnTop.transform.position,this._MainCamara)}get btnBottomsPos(){return B._3D.posToScreen(this._BtnBottoms.transform.position,this._MainCamara)}get btnDressingRoomPos(){return B._3D.posToScreen(this._BtnDressingRoom.transform.position,this._MainCamara)}cameraToSprite(t){e._Scene._ins().mirrorSurface=!1;const a=new Laya.Sprite;return a.zOrder=-1,t.addChild(a).size(Laya.stage.width,Laya.stage.height),B._Draw.cameraToSprite(this._MainCamara,a),a}openStartAni(e){e(),this.playRandomPose(),this._DIYHanger.active=!1,this._Role.active=!0,this._MirrorCamera.active=!1}intoStart(e){this.playStandAni(),this._Owner.active=!0,this._DIYHanger.active=!1,this.fillLight_Left1.active=!1,this.fillLight_Right1.active=!1,this._MirrorCamera.active=!1,this._bg1Mat.albedoTexture="preload"==e?O._list.texture2D.bgStart.texture2D:D.Start.texture2D.bgStart.texture2D}intogeDressingRoom(){e._Scene._ins().playStandAni(),this._MirrorCamera.active=!0,this._bg1Mat.albedoTexture=D.DressingRoom.texture2D.bgDressingRoom.texture2D}get mirrorSurface(){return this._mirrorSurface}set mirrorSurface(e){this._mirrorSurface=e}openMirror(e){this.mirrorSurface=!0,f._clearAll([this._Mirror]),f._frameLoop(1,this._Mirror,()=>{this.mirrorSurface&&(this._MirrorCamera.renderTarget=new Laya.RenderTexture(e.width,e.height),this._MirrorCamera.renderingOrder=-1,this._MirrorCamera.clearFlag=Laya.CameraClearFlags.Sky,this.mirrortex&&this.mirrortex.destroy(),this.mirrortex=new Laya.Texture(this._MirrorCamera.renderTarget,Laya.Texture.DEF_UV),e.graphics.drawTexture(this.mirrortex))})}closeMirror(){this.mirrorSurface=!1}intoMakePattern(){this._Owner.active=!0,this.fillLight_Left1.active=!0,this.fillLight_Right1.active=!0,this._bg1Mat.albedoTexture=D.MakePattern.texture2D.bgMakePattern.texture2D}intoMakeTailor(){e._Scene._ins()._Owner.active=!1}photoBg(){this._bg1Mat.albedoTexture=D.MakePattern.texture2D.bgPhoto.texture2D}displayDress(){this._GBottoms.active=this._GTop.active=this._DBottoms.active=this._DTop.active=!1}displayTopAndBotton(){this._GDress.active=this._DDress.active=!1}}e._Scene=t;class a{constructor(){}static _ins(){return this.ins||(this.ins=new a),this.ins}remake(a,i){this.name=i,t._ins()._DIYHanger.active=!0,t._ins()._Role.active=!1;const n=t._ins()._DIYHanger.getChildByName(a);B._Node.showExcludedChild3D(e._Scene._ins()._DIYHanger,[n.name]),this.Present=n.getChildByName(i),B._Node.showExcludedChild3D(n,[this.Present.name]),this.Present.transform.localRotationEulerY=180,this.Front=this.Present.getChildByName(`${this.Present.name}_0`),this.frontMat=this.Front.meshRenderer.material,this.Reverse=this.Present.getChildByName(`${this.Present.name}_1`),this.reverseMat=this.Reverse.meshRenderer.material,this.ModelTap=this.Present.getChildByName("ModelTap"),this.ModelTap.transform.position=new Laya.Vector3(this.Present.transform.position.x,this.ModelTap.transform.position.y,this.Present.transform.position.z),this.hanger=this.Present.getChildByName("hanger"),this.hanger.active=!0;let s=this.Front.meshRenderer.bounds.getCenter(),o=this.Front.meshRenderer.bounds.getExtent(),r=new Laya.Vector3(s.x,s.y+o.y,s.z),l=new Laya.Vector3(s.x,s.y-o.y,s.z),h=B._3D.posToScreen(r,t._ins()._MainCamara),c=B._3D.posToScreen(l,t._ins()._MainCamara);this.texHeight=c.y-h.y}addTexture2D(e){this.frontMat.albedoTexture&&this.frontMat.albedoTexture.destroy(),this.frontMat.albedoTexture=e[0],this.reverseMat.albedoTexture&&this.reverseMat.albedoTexture.destroy(),this.reverseMat.albedoTexture=e[1]}rotate(e){1==e?this.Present.transform.localRotationEulerY++:this.Present.transform.localRotationEulerY--}}e.DIYCloth=a}(M||(M={})),function(e){class t{static get _complete(){return m._bool("_Guide_complete").value}static set _complete(e){m._bool("_Guide_complete").value=e}static get MakePatternState(){return this["/MakePatternState"]?this["/MakePatternState"]:"ChooseClassify"}static set MakePatternState(e){this["/MakePatternState"]=e}}t.MmakeTailorPulldownSwicth=!1,t.MmakeTailorBtnComSwicth=!1,t.MakePatternStateType={ChooseClassify:"ChooseClassify",Pattern1:"Pattern1",Frame1:"Frame1",TurnFace:"TurnFace",Frame2:"Frame2",Pattern2:"Pattern2",BtnCom:"BtnCom",closeGuide:"closeGuide"},t.CheckInCloseBtn=!1,e._Guide=t;class a extends g._Table{constructor(){super(...arguments),this._classify={DIY:"DIY",General:"General"},this._part={Dress:"Dress",Top:"Top",Bottoms:"Bottoms",FaceMask:"FaceMask",Accessories:"Accessories",Shoes:"Shoes",Hair:"Hair"},this._otherPro={putOn:"putOn",part:"part"}}static _ins(){return this.ins||(this.ins=new a("ClothesGeneral",O._list.json.GeneralClothes.dataArr,!0)),this.ins}getDIYTexBasicUrl(e){return`https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/DIYTexbasic/${e.substr(0,e.length-5)}basic.png`}getGeneralIcon(e){return`https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Icon/General/${e}.png`}collectDIY(){let e=i._ins()._getArrByNoProperty(i._ins()._otherPro.icon,"");const t=B._ObjArray.arrCopy(e);return B._ObjArray.modifyProValue(t,this._property.classify,"DIY"),this._addObjectArr(t),t}changeAfterMaking(){this.collectDIY(),this.accurateChange(i._ins()._getPitchProperty("part"),i._ins()._pitchName)}changeClass(e,t,a,n){const s=M._Scene._ins()._Root.getChildByName(e);for(let a=0;a<s.numChildren;a++){const o=s.getChildAt(a);o.active=!1;for(let a=0;a<t.length;a++){const s=t[a];if(s[this._otherPro.part]===o.name){o.active=!0;for(let t=0;t<o.numChildren;t++){const a=o.getChildAt(t);if(a.name===s[this._property.name]){a.active=!0;const t=n?40:15;if("DIY"===e){const e=this.getDIYTexBasicUrl(a.name),n=new Laya.Sprite;n.visible=!1,Laya.stage.addChild(n),n.zOrder=1e3,n.size(512,512),n.scale(1,-1),n.pos(0,512);const s=new Laya.Image;s.skin=e,n.addChild(s),s.size(512,512),s.pos(0,0);const o=m._array(`${a.name}/${i._ins()._otherPro.texF}`).value;for(let e=0;e<o.length;e++){const t=o[e],a=new Laya.Image;n.addChild(a),a.skin=`Pattern/${t.name}.png`,a.x=t.x,a.y=t.y,a.anchorX=t.anchorX,a.anchorY=t.anchorY,a.width=t.width,a.height=t.height,a.height=t.height,a.rotation=t.rotation,a.zOrder=t.zOrder}const r=a.getChildByName(`${a.name}_0`).skinnedMeshRenderer.material;f._frameOnce(t,this,()=>{r.albedoTexture&&r.albedoTexture.destroy(),r.albedoTexture=n.drawToTexture(n.width,n.height,n.x,n.y+n.height),n.removeSelf()});const l=new Laya.Sprite;l.visible=!1,Laya.stage.addChild(l),l.zOrder=1e3,l.size(512,512),l.scale(1,-1);const h=new Laya.Image;h.skin=e,l.addChild(h),h.size(512,512),l.pos(512,0);const c=m._array(`${a.name}/${i._ins()._otherPro.texR}`).value;for(let e=0;e<c.length;e++){const t=c[e],a=new Laya.Image;l.addChild(a),a.skin=`Pattern/${t.name}.png`,a.x=t.x,a.y=t.y,a.anchorX=t.anchorX,a.anchorY=t.anchorY,a.width=t.width,a.height=t.height,a.height=t.height,a.rotation=t.rotation,a.zOrder=t.zOrder}const _=a.getChildByName(`${a.name}_1`).skinnedMeshRenderer.material;f._frameOnce(t,this,()=>{_.albedoTexture&&_.albedoTexture.destroy(),_.albedoTexture=l.drawToTexture(l.width,l.height,l.x,l.y+l.height),l.removeSelf()})}}else a.active=!1}}}}a&&M._Scene._ins().playDispalyAni()}changeClothStart(){this.collectDIY();const e=this._getArrByProperty(this._otherPro.putOn,!0);this.changeClass(this._classify.DIY,e,!1,!0),this.changeClass(this._classify.General,e,!1,!0),this.startSpecialSet()}changeCloth(){const e=this._getArrByProperty(this._otherPro.putOn,!0);this.changeClass(this._classify.DIY,e,!0),this.changeClass(this._classify.General,e,!0)}startSpecialSet(){m._bool("DressState").value?M._Scene._ins()._GBottoms.active=M._Scene._ins()._GTop.active=M._Scene._ins()._DBottoms.active=M._Scene._ins()._DTop.active=!1:M._Scene._ins()._GDress.active=M._Scene._ins()._DDress.active=!1}specialSet(e){e===this._part.Dress?m._bool("DressState").value=!0:e!==this._part.Top&&e!==this._part.Bottoms||(m._bool("DressState").value=!1),m._bool("DressState").value?M._Scene._ins().displayDress():M._Scene._ins().displayTopAndBotton()}accurateChange(e,t){const n=a._ins()._getArrByProperty("part",e);for(let e=0;e<n.length;e++){const a=n[e];t===a.name?a.putOn=!0:a.putOn=!1}i._ins()._setProperty(i._ins()._pitchName,"putOn",!0),a._ins().changeCloth(),a._ins().specialSet(e),a._ins()._refreshAndStorage()}}e._AllClothes=a;class i extends g._Table{constructor(){super(...arguments),this._classify={Dress:"Dress",Top:"Top",Bottoms:"Bottoms",ads:"ads"},this._otherPro={color:"color",icon:"icon",diffX:"diffX",diffY:"diffY",texR:"texR",texF:"texF"}}static _ins(){return this.ins||(this.ins=new i("DIYClothes",O._list.json.DIYClothes.dataArr,!0)),this.ins}getPitchTexBasicUrl(){return`https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/DIYTexbasic/${this._pitchName.substr(0,this._pitchName.length-5)}basic.png`}getDIYCutIcon(e){return`https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Icon/DIY/${e.substr(0,e.length-5)}cut.png`}getColor(){let e=this._getPitchObj();return[e[`${this._otherPro.color}1`],e[`${this._otherPro.color}2`]]}getClothesArr(){if(!this.ClothesArr){this.ClothesArr=[];const e=i._ins()._arr;for(let t=0;t<e.length;t++)if("ads"!==`${e[t].name}`){let a=this.createClothes(`${e[t].name}`);this.ClothesArr.push(a)}}return this.ClothesArr}createClothes(e,t){const a=B._Node.createPrefab(O._list.prefab2D[e].prefab),i=new Laya.Sprite;return i.width=Laya.stage.width,i.height=Laya.stage.height,i.pivotX=i.width/2,i.pivotY=i.height/2,i.x=Laya.stage.width/2,i.y=Laya.stage.height/2,i.addChild(a),i.name=e,t&&(t.addChild(i),i.zOrder=20),i}}e._DIYClothes=i;class n extends g._Table{constructor(){super(...arguments),this._otherPro={rankNum:"rankNum",fansNum:"fansNum",iconSkin:"iconSkin"},this._classify={other:"other",self:"self"}}static _ins(){if(!this.ins){if(this.ins=new n("RankingData",O._list.json.Ranking.dataArr,!0),!this.ins._arr[0].iconSkin)for(let e=0;e<this.ins._arr.length;e++){const t=this.ins._arr[e];t.iconSkin=`Game/UI/Ranking/IconSkin/avatar_${t[this.ins._property.index]}.png`}this.ins._pitchName="玩家",this.ins._sortByProperty(this.ins._otherPro.fansNum,this.ins._otherPro.rankNum)}return this.ins}}e._Ranking=n;class s{constructor(){this._photo={arr:[],take:(e,t)=>{this._photo.arr[t]&&this._photo.arr[t].destroy(),this._photo.arr[t]=e.drawToTexture(Laya.stage.width,Laya.stage.height,0,0)},clear:()=>{for(let e=0;e<this._photo.arr.length;e++){const t=this._photo.arr[e];t&&t.destroy()}this._photo.arr=[],Laya.Resource.destroyUnusedResources()}},this._brief={getThree:()=>B._Array.randomGetOut(this._brief.all,3),getOne:()=>B._Array.randomGetOut(this._brief.all),all:["世界很烦，但我要很可爱","生活就是见招拆招","忠于自己，热爱生活","我很有个性，但我不想签名","T^T\t","你最怕什么","宁缺毋滥","围脖红人","剪裁大师","剪裁王"]},this._mainBody={getOne:()=>(this._mainBody.present=B._Array.randomGetOne(this._mainBody.all),this._mainBody.present),present:null,all:["不管几岁，反正少女心万岁≧▽≦","此处可爱贩卖机  24小时正常营业\t","欢迎光临我的手工小店，我会制作更多大家喜欢的衣服哦","现在一定有个很可爱的人，在看我的这句话","辛辛苦苦做了好久，结果很满意，好喜欢哦","大家觉得我这套衣服怎么样","闲来无事，做了一套衣服，感觉还不错","我觉得吧，这次发挥的一般，下次会更好，敬请期待","浮游于这个世界所产生的热能 也比不过喜欢你的热忱\t","时间会把对你最好的人留在最后，毕竟喜欢是一阵风，而爱是细水长流","人生难免遇上些许不如意，翻过这一页就会发现生活处处有美好","也许，只有制作衣服的时候，才会让自己的心静下来","讲道理，我觉得我的手艺还不错，我是不是可以考虑开一家店了？","技术还不太行，需要多多磨炼，再努力做几件衣服吧~","今天心情好，早早地起来做衣服了，我是可爱的小裁缝~啦啦啦~","给妈妈做了件衣服，妈妈说好喜欢~","还有什么可以比做自己喜欢的事更加让人开心的呢~","一些些自己的小设计，就可以让一件衣服焕发生机","也许只是一瞬间的灵感，我将会付之于行动来实现它","对于剪裁和搭配的热情，我不会输给任何人的~","加油，我会成为最好的设计师的，我会爆火！~","坚持不懈，认真对待自己的，努力成为最好的设计师！~","感谢大家的支持，我会努力的"]},this._reply={getTow:()=>B._Array.randomGetOut(this._reply.all,2),all:["加油，坚持，我看好你哦","好好看，我也想要","那么请问在哪里可以买到呢","有一说一，真的还可以","感觉，你做的越来越好了","我也想和你一样拥有如此灵巧的双手","真的好看，加油","我的天，这也太美了吧","OMG，买他买他！~","沙发~~","点赞这条回复，你会好运连连","求翻牌，你这也太美了吧","太适合仙女了吧","我也想学学，能教教我吗","感觉你能火，坚持，加油","感觉没有什么可以难倒你","我想和你一样心灵手巧","我的天，这是真的太好看了"," U1S1，是真漂亮~","我觉得你还可以更优秀~","不是我杠精，你这个真的，真可以，没的杠","好看是真好看，难也是真的难","感觉我学不会，咋办，好美","仙女穿起来也太好看了吧","花痴脸~这也太美了","坚持，我看好你哦，感觉你能火","天哪，这也太美了吧"]},this._photoIndex=0}static _ins(){return this.ins||(this.ins=new s),this.ins}get _attentionNum(){return m._num("_MakePattern/attention",null,180).value}set _attentionNum(e){m._num("_MakePattern/attention").value=e}get _completeNum(){return m._num("_MakePattern/completeNum").value}set _completeNum(e){m._num("_MakePattern/completeNum").value=e}get _forwardedNum(){return m._num("Tweeting/forwarded",null,B._Number.randomOneBySection(75,125,!0)).value}set _forwardedNum(e){m._num("Tweeting/forwarded").value=e}get _commentNum(){return m._num("Tweeting/Comment",null,B._Number.randomOneBySection(100,150,!0)).value}set _commentNum(e){m._num("Tweeting/Comment").value=e}get _likeNum(){return m._num("Tweeting/like",null,B._Number.randomOneBySection(200,250,!0)).value}set _likeNum(e){m._num("Tweeting/like").value=e}}e._Tweeting=s;class o extends g._Table{constructor(){super(...arguments),this._otherPro={checkAddition:"checkAddition",otherRewardType:"otherRewardType",otherRewardNum:"otherRewardNum",otherCompelet:"otherCompelet"}}static _ins(){return this.ins||(this.ins=new o("CheckIn",O._list.json.CheckIn.dataArr,!0)),this.ins}get _immediately(){return m._num("_CheckIn/immediately").value}set _immediately(e){m._num("_CheckIn/immediately").value=e}get _checkInNum(){return m._num("_CheckIn/checkInNum").value}set _checkInNum(e){m._num("_CheckIn/checkInNum").value=e}get _lastCheckDate(){return m._num("_CheckIn/lastCheckDate").value}set _lastCheckDate(e){m._num("_CheckIn/lastCheckDate").value=e}get _todayCheckIn(){return this._lastCheckDate==y._date.date}}e._CheckIn=o;class r extends g._Table{constructor(){super(...arguments),this._classify={newYear:"newYear",basic:"basic",cat:"cat",pink:"pink",expression:"expression"}}static _ins(){return this.ins||(this.ins=new r("_Pattern",O._list.json.MakePattern.dataArr,!0),this.ins._pitchClassify=this.ins._classify.newYear,this.ins.newYearArr=this.ins._getArrByClassify(this.ins._classify.newYear),this.ins.newYearArr.push({},{}),this.ins.basicArr=this.ins._getArrByClassify(this.ins._classify.basic),this.ins.basicArr.push({},{}),this.ins.catArr=this.ins._getArrByClassify(this.ins._classify.cat),this.ins.catArr.push({},{}),this.ins.pinkArr=this.ins._getArrByClassify(this.ins._classify.pink),this.ins.pinkArr.push({},{}),this.ins.expressionArr=this.ins._getArrByClassify(this.ins._classify.expression),this.ins.expressionArr.push({},{})),this.ins}}e._Pattern=r;class l extends g._Table{constructor(){super(...arguments),this._otherPro={fDiffX:"fDiffX",fDiffY:"fDiffY",rDiffX:"rDiffX",rDiffY:"rDiffY"}}static _ins(){return this.ins||(this.ins=new l("_DIYClothesDiff",O._list.json.DIYClothesDiff.dataArr,!1)),this.ins}get fDiffX(){return e._PatternDiff._ins()._getProperty(M.DIYCloth._ins().name,"fDiffX")}get fDiffY(){return e._PatternDiff._ins()._getProperty(M.DIYCloth._ins().name,"fDiffY")}get rDiffX(){return e._PatternDiff._ins()._getProperty(M.DIYCloth._ins().name,"rDiffX")}get rDiffY(){return e._PatternDiff._ins()._getProperty(M.DIYCloth._ins().name,"rDiffY")}}e._PatternDiff=l}(V||(V={})),function(e){let t,a;!function(e){e.closeGuide="GuidecloseGuide",e.vanishGuide="GuidevanishGuide",e.StartBtnDress="GuideStartBtnDress",e.MakeTailorPulldown="GuideMakeTailorPulldown",e.MakeTailorChangeCloth="GuideMakeTailorChangeCloth",e.MakeTailorBtnCom="GuideMakeTailorBtnCom",e.MakeTailorStartTailor="GuideMakeTailorStartTailor",e.MakeTailorNewTailor="GuideMakeTailorNewTailor",e.MakeTailorCloseTailor="GuideMakeTailorCloseTailor",e.MakeTailorOpenTailor="GuideMakeTailorOpenTailor",e.MakePatternChooseClassify="GuideMakePatternChooseClassify",e.MakePatternPattern1="GuideMakePatternPattern1",e.MakePatternFrame1="GuideMakePatternFrame1",e.MakePatternTurnFace="GuideMakePatternTurnFace",e.MakePatternFrame2="GuideMakePatternFrame2",e.MakePatternPattern2="GuideMakePatternPattern2",e.MakePatternBtnCom="GuideMakePatternBtnCom",e.TweetingBtnChoosePhoto="GuideTweetingBtnChoosePhoto",e.TweetingChoosePhoto="GuideTweetingChoosePhoto",e.TweetingBtnSend="GuideTweetingBtnSend",e.TweetingBtnDoubleFans="GuideTweetingBtnDoubleFans",e.RankingCloseBtn="GuideRankingCloseBtn",e.PersonalInfoBtn="GuidePersonalInfoBtn",e.PersonalInfoWriteName="GuidePersonalInfoWriteName",e.PersonalInfoCloseBtn="GuidePersonalInfoCloseBtn",e.DelayBtnCheckIn="StartDelayBtnCheckIn",e.BtnCheckIn="GuideBtnCheckIn",e.CheckInGetReward="GuideCheckInGetReward",e.CheckInCloseBtn="GuideCheckInBtnClose",e.StartOtherBtnClick="GuideStartOtherBtnClick"}(t=e.Guide||(e.Guide={})),function(e){e.photo="Startphoto",e.updateRanking="StartupdateRanking",e.BtnPersonalInfo="StartBtnPersonalInfo"}(a=e.Start||(e.Start={}))}(R||(R={})),function(e){e.Guide=class extends h._SceneBase{constructor(){super(...arguments),this.btnComX=Laya.stage.width-250,this.btnComY=70,this.bgType={present:"present",vanish:"vanish",appear:"appear"},this._stepTailor=0,this.posArr=[[Laya.stage.width/2+110,140],[Laya.stage.width/2-110,Laya.stage.height/2-220],[Laya.stage.width/2+100,Laya.stage.height/2-200],[Laya.stage.width/2+200,Laya.stage.height-150]],this.nameArr=["Line01","Line02","Line03","Line04"],this.presentName=null}lwgOpenAni(){return 200}lwgOnAwake(){this._ImgVar("Hand").scale(0,0),this._ImgVar("Slide").scale(0,0),this.handDiffX=this.handDiffX,this.handDiffY=this.handDiffY}clickEffcet(){b._Aperture._continuous(this._Owner,[this._ImgVar("Hand").x,this._ImgVar("Hand").y+28],[6,6],null,null,[b._SkinUrl.圆形小光环],null,this._ImgVar("Hand").zOrder-1,[1.2,1.2],[.6,.6],[.01,.01])}boreholeCircle(e,t,a,i){for(let t=0;t<e.length;t++){const a=10;let n=15;const s=e[t],o=(e[t][2]-n)/a;f._frameNumLoop(1,a,this,()=>{n+=o,s[2]=n,B._Draw.reverseCircleMask(this._ImgVar("Background"),e,!0)},()=>{i&&i()},!0)}t&&this._ImgVar("Hand").pos(t,a-30)}boreholeRoundrect(e,t,a,i){t&&this._ImgVar("Hand").pos(t,a);for(let t=0;t<e.length;t++){let a=0,n=0,s=0;const o=e[t],r=20,l=(o[2]-a)/r,h=(o[3]-n)/r,c=(o[4]-s)/r;f._frameNumLoop(1,r,this,()=>{a+=l,n+=h,s+=c,o[2]=a,o[3]=n,o[4]=s,B._Draw.reverseRoundrectMask(this._ImgVar("Background"),e,!0)},()=>{i&&i()},!0)}t&&this._ImgVar("Hand").pos(t,a)}handAppear(e,t){I.scale(this._ImgVar("Hand"),0,0,1,1,200,e||0,()=>{t&&t()}),this._ImgVar("Handpic").rotation=-17}bgAppear(e,t){B._Node.destroyAllChildren(this._ImgVar("Background")),this._ImgVar("Handpic").rotation=-17,I.fadeOut(this._ImgVar("Background"),0,1,300,e||0,()=>{t&&t()})}handVanish(e,t){this._ImgVar("Handpic").rotation=-17,I.scale(this._ImgVar("Hand"),1,1,0,0,300,e||0,()=>{t&&t()})}bgVanish(e,t){I.fadeOut(this._ImgVar("Background"),1,0,300,e||0,()=>{t&&t()})}handMove(e,t,a,i){this.handClear();const n=t-30,s=new Laya.Point(this._ImgVar("Hand").x,this._ImgVar("Hand").y).distance(e,n);switch(I.move(this._ImgVar("Hand"),e,n,s,()=>{a&&a()}),this._ImgVar("Hand").scale(1,1),I.move(this._ImgVar("Handpic"),75,56,s),i){case this.bgType.vanish:this.bgVanish();break;case this.bgType.appear:this.bgAppear()}}handClear(){this.lineStop(),f._clearAll([this._ImgVar("Hand")]),I._clearAll([this._ImgVar("Hand")]),this._AniVar("Frame").stop(),this._AniVar("Click").stop(),this._AniVar("ClickOne").stop(),this._ImgVar("Hand").visible=!0,this._ImgVar("Handpic").pos(75,56),this._ImgVar("Handpic").scale(1,1),this._ImgVar("Handpic").rotation=-17}slideUpAppear(e,t,a,i,n,s){this.bgAppear(s||0,()=>{this.boreholeRoundrect([[e,t,a,i,n]],null,null,()=>{this._ImgVar("Hand").scale(0,0),this._ImgVar("Slide").scale(1,1),this._ImgVar("Slide").pos(e,t),this._AniVar("SlideUp").play()})})}noMoveRoundrect(e,t,a,i,n,s,o,r){this.bgAppear(s||0,()=>{this.boreholeRoundrect([[e,t,a,i,n]],o||e,r||t-30,()=>{this.handAppear(null,()=>{this._AniVar("Click").play()})})})}moveRoundrectNoBg(e,t,a,i,n,s){this.boreholeRoundrect([[e,t,a,i,n]],null,null,()=>{this.handMove(e,t,()=>{this._AniVar("Click").play()})})}noMoveCircle(e,t,a){this.bgAppear(0,()=>{this.boreholeCircle([[e,t,a]],e,t,()=>{this.handAppear(200,()=>{this._AniVar("Click").play()})})})}moveCircleBg(e,t,a){this.bgAppear(0,()=>{this.boreholeCircle([[e,t,a]],null,null,()=>{this.handMove(e,t,()=>{this._AniVar("Click").play()})})})}moveCircleNoBg(e,t,a){this.boreholeCircle([[e,t,a]],null,null,()=>{this.handMove(e,t,()=>{this._AniVar("Click").play()})})}getGuideScissorTime(e,t){return B._Node.getNodeGP(this._Scissor).distance(e,t)}scissorTailor(e){if(!this._Scissor||this._closeLine)return;this._ImgVar("Hand").pos(this._Scissor.x,this._Scissor.y);const t=Number(this.presentName.substr(4)),a=this.posArr[t-1];var i=()=>{this._AniVar("Click").play(0,!1),I.move(this._ImgVar("Hand"),a[0],a[1],this.getGuideScissorTime(a[0],a[1]),()=>{this._AniVar(this.presentName).play(0,!1)},1500)};e?i():f._loop(6e3,this._ImgVar("Hand"),()=>{this.handAppear(0,()=>{i()})},!0)}startScissorTailor(e){e&&(this._Scissor=e),this.presentName="Line01",this._ImgVar("Hand").scale(1,1),I.move(this._ImgVar("Hand"),this._Scissor.x,this._Scissor.y,this.getGuideScissorTime(this._ImgVar("Hand").x,this._ImgVar("Hand").y),()=>{this.scissorTailor(!0),f._once(5e3,this._ImgVar("Hand"),()=>{this.scissorTailor()})})}lineStop(){this._AniVar("Line01").stop(),this._AniVar("Line02").stop(),this._AniVar("Line03").stop(),this._AniVar("Line04").stop()}newScissorTailor(e){if(this.handClear(),this.nameArr.length>1){for(let t=0;t<this.nameArr.length;t++)if(e===this.nameArr[t]){this.nameArr.splice(t,1);break}this.presentName=this.nameArr[0],this.scissorTailor()}else this.presentName=null,this._ImgVar("Hand").visible=!1,this._Owner.close()}pattenAni(e,t,a,i){this.handMove(e,t,()=>{this._ImgVar("Hand").pos(e,t),f._loop(3100,this._ImgVar("Hand"),()=>{this.handAppear(null,()=>{f._once(200,this,()=>{this._AniVar("ClickOne").play(0,!1)}),I.move(this._ImgVar("Hand"),a,i,700,()=>{this.handVanish(300,()=>{this._ImgVar("Hand").pos(e,t)})},1e3)})},!0)})}lwgEvent(){this._AniVar("Click").on(Laya.Event.LABEL,this,e=>{"effect"===e&&this.clickEffcet()}),this._AniVar("ClickOne").on(Laya.Event.LABEL,this,e=>{"effect"===e&&this.clickEffcet()}),this._AniVar("Frame").on(Laya.Event.LABEL,this,e=>{"effect"===e&&this.clickEffcet()});for(let e=0;e<4;e++)this._AniVar(`Line0${e+1}`).on(Laya.Event.LABEL,this,e=>{"com"===e&&(this._ImgVar("Hand").pos(this._Scissor.x,this._Scissor.y),this._ImgVar("Hand").scale(0,0),this._ImgVar("Handpic").scale(1,1))});this._evReg(R.Guide.StartBtnDress,(e,t)=>{this.noMoveCircle(e,t,80)}),this._evReg(R.Guide.MakeTailorPulldown,()=>{const e=Laya.stage.width-95,t=Laya.stage.height/2;this.slideUpAppear(e,t,165,450,20)}),this._evReg(R.Guide.MakeTailorChangeCloth,()=>{const e=this._ImgVar("Slide").localToGlobal(new Laya.Point(this._ImgVar("SlideHand").x,this._ImgVar("SlideHand").y));this._ImgVar("Hand").pos(e.x,e.y),this._ImgVar("Hand").scale(1,1),this._ImgVar("Slide").scale(0,0);const t=Laya.stage.width-95;this.moveCircleNoBg(t,370,80)}),this._evReg(R.Guide.MakeTailorBtnCom,()=>{this._AniVar("Click").stop(),this.boreholeCircle([[this.btnComX,this.btnComY,80],[Laya.stage.width/2,Laya.stage.height/2,350]],null,null,()=>{this.handMove(this.btnComX,this.btnComY,()=>{this._AniVar("Click").play()})})}),this._evReg(R.Guide.MakeTailorStartTailor,e=>{this.bgVanish(),this.handClear(),this.startScissorTailor(e)}),this._evReg(R.Guide.MakeTailorNewTailor,e=>{this.newScissorTailor(e)}),this._evReg(R.Guide.MakeTailorCloseTailor,()=>{this.presentName&&(this._closeLine=!0,this.handClear(),this._ImgVar("Hand").scale(0,0))}),this._evReg(R.Guide.MakeTailorOpenTailor,()=>{this.presentName&&(this._closeLine=!1,this.handClear(),this.scissorTailor())}),this._evReg(R.Guide.MakePatternChooseClassify,()=>{V._Guide.MakePatternState=V._Guide.MakePatternStateType.ChooseClassify;const e=Laya.stage.width-53;this.noMoveCircle(e,270,60)}),this._evReg(R.Guide.MakePatternPattern1,()=>{V._Guide.MakePatternState=V._Guide.MakePatternStateType.Pattern1,this.handClear();const e=Laya.stage.width-152;this.pattenAni(e,280,Laya.stage.width/2,280),this.bgVanish()});var e=()=>{const e=this._Wireframe.getChildByName("WConversion"),t=this._Wireframe.localToGlobal(new Laya.Point(e.x,e.y));this.handMove(t.x,t.y,()=>{this._AniVar("Frame").play()})};this._AniVar("Frame").on(Laya.Event.LABEL,this,t=>{"com"===t&&this._Wireframe&&e()}),this._evReg(R.Guide.MakePatternFrame1,t=>{V._Guide.MakePatternState=V._Guide.MakePatternStateType.Frame1,t&&(this._Wireframe=t),e()}),this._evReg(R.Guide.MakePatternTurnFace,(e,t)=>{V._Guide.MakePatternState=V._Guide.MakePatternStateType.TurnFace,this._AniVar("Frame").stop(),this.handClear(),this.moveCircleBg(e,t,80)}),this._evReg(R.Guide.MakePatternPattern2,()=>{V._Guide.MakePatternState=V._Guide.MakePatternStateType.Pattern2,this.handClear(),this._AniVar("Click").stop();const e=Laya.stage.width-152;this.bgVanish(0,()=>{this.handMove(e,420,()=>{this.pattenAni(e,420,Laya.stage.width/2,420)})})}),this._evReg(R.Guide.MakePatternFrame2,t=>{V._Guide.MakePatternState=V._Guide.MakePatternStateType.Frame2,t&&(this._Wireframe=t),e()}),this._evReg(R.Guide.MakePatternBtnCom,(e,t)=>{V._Guide.MakePatternState=V._Guide.MakePatternStateType.BtnCom,this._AniVar("Frame").stop(),this._ImgVar("Handpic").scale(1,1),this.moveCircleBg(e,t,80)}),this._evReg(R.Guide.TweetingBtnChoosePhoto,(e,t,a,i)=>{this.noMoveRoundrect(e,t,Laya.stage.width-320-260,290,20,500,a,i)}),this._evReg(R.Guide.TweetingChoosePhoto,(e,t)=>{this.noMoveRoundrect(e,t,260,260,20)}),this._evReg(R.Guide.TweetingBtnSend,(e,t)=>{this.moveRoundrectNoBg(e,t,220,120,20)}),this._evReg(R.Guide.TweetingBtnDoubleFans,(e,t)=>{this.noMoveRoundrect(e,t,230,120,20)}),this._evReg(R.Guide.RankingCloseBtn,(e,t)=>{this.noMoveCircle(e,t,80)}),this._evReg(R.Guide.PersonalInfoBtn,(e,t)=>{this.noMoveCircle(e,t,80)}),this._evReg(R.Guide.PersonalInfoWriteName,(e,t)=>{this.noMoveCircle(e,t,80)}),this._evReg(R.Guide.PersonalInfoCloseBtn,(e,t)=>{this.noMoveCircle(e,t,80)}),this._evReg(R.Guide.BtnCheckIn,(e,t)=>{this.noMoveCircle(e,t,80)}),this._evReg(R.Guide.CheckInGetReward,(e,t)=>{this.noMoveCircle(e,t,80)}),this._evReg(R.Guide.CheckInCloseBtn,(e,t)=>{this.moveCircleBg(e,t,80)}),this._evReg(R.Guide.vanishGuide,()=>{this._AniVar("Click").stop(),this.handVanish(),this.bgVanish()}),this._evReg(R.Guide.closeGuide,()=>{this._closeScene()})}lwgCloseAni(){return G._dialogCloseFadeOut(this._ImgVar("Hand"),this._ImgVar("Background"))}lwgOnDisable(){this._ImgVar("Background").destroy()}}}(X||(X={}));var E;X.Guide;!function(e){function _getClassArr(t){let i=[];switch(t){case a.everyday:i=e._everydayTask;break;case a.perpetual:i=e._perpetualTask}return i}let t,a,i,n,s;e._allClassifyArr=[],e._todayDate={get date(){return Laya.LocalStorage.getItem("Task_todayDate")?Number(Laya.LocalStorage.getItem("Task_todayDate")):null},set date(e){Laya.LocalStorage.setItem("Task_todayDate",e.toString())}},e._getProperty=function(e,t,a){let i=null,n=_getClassArr(e);for(let e=0;e<n.length;e++){const s=n[e];if(s.name===t){i=s[a];break}}return null!==i?i:(console.log(t+"找不到属性:"+a,i),null)},e._setProperty=function(t,a,i,n){let s=_getClassArr(t);for(let e=0;e<s.length;e++){const t=s[e];if(t.name===a){t[i]=n;break}}let o={};o[t]=s,Laya.LocalStorage.setJSON(t,JSON.stringify(o)),e._TaskList&&e._TaskList.refresh()},e._getClassArr=_getClassArr,e._doDetection=function(t,a,i){i||(i=1);let n=e._getProperty(t,a,e._Property.resCondition),s=e._getProperty(t,a,e._Property.condition);return-1!==e._getProperty(t,a,e._Property.get)?s<=n+i?(e._setProperty(t,a,e._Property.resCondition,s),e._setProperty(t,a,e._Property.get,1),e._TaskList&&e._TaskList.refresh(),!0):(e._setProperty(t,a,e._Property.resCondition,n+i),e._TaskList&&e._TaskList.refresh(),!1):-1},function(e){e.name="name",e.explain="explain",e.CompeletType="CompeletType",e.condition="condition",e.resCondition="resCondition",e.rewardType="rewardType",e.rewardNum="rewardNum",e.arrange="arrange",e.time="time",e.get="get"}(t=e._Property||(e._Property={})),function(e){e.everyday="Task_Everyday",e.perpetual="Task_Perpetual"}(a=e._Classify||(e._Classify={})),function(e){e.getAward="Task_getAward",e.adsGetAward_Every="Task_adsGetAward_Every",e.useSkins="Task_useSkins",e.victory="Task_victory",e.adsTime="Task_adsTime",e.victoryBox="Task_victoryBox"}(i=e._Event||(e._Event={})),function(e){e.ads="ads",e.victory="victory",e.useSkins="useSkins",e.treasureBox="treasureBox"}(n=e._CompeletType||(e._CompeletType={})),function(e){e["观看广告获得金币"]="观看广告获得金币",e["每日服务10位客人"]="每日服务10位客人",e["每日观看两个广告"]="每日观看两个广告",e["每日使用5种皮肤"]="每日使用5种皮肤",e["每日开启10个宝箱"]="每日开启10个宝箱"}(s=e._Name||(e._Name={})),e._init=function(){};e._TaskBase=class extends h._SceneBase{moduleOnAwake(){e._allClassifyArr=[e._everydayTask],e._TaskTap=this._Owner.TaskTap,e._TaskList=this._Owner.TaskList}moduleOnEnable(){this.lwgTapCreate(),this.lwgListCreate()}lwgTapCreate(){e._TaskList.selectHandler=new Laya.Handler(this,this.lwgTapSelect)}lwgTapSelect(e){}lwgListCreate(){e._TaskList.selectEnable=!0,e._TaskList.vScrollBarSkin="",e._TaskList.selectHandler=new Laya.Handler(this,this.lwgListScelet),e._TaskList.renderHandler=new Laya.Handler(this,this.lwgListUpdate),e._allClassifyArr[0]&&(e._TaskList.array=e._allClassifyArr[0],this.lwgAddItemComponent())}lwgListScelet(e){}lwgListUpdate(e,t){}lwgAddItemComponent(){for(let t=0;t<e._TaskList.cells.length;t++){const a=e._TaskList.cells[t];a.getComponent(o)||a.addComponent(o)}}};e.Task=class extends e._TaskBase{};class o extends h._ObjectBase{}e.TaskItem=o}(E||(E={}));var Y,$;E.Task;class H{static ShowBanner(){let e=new TJ.ADS.Param;e.place=TJ.ADS.Place.BOTTOM|TJ.ADS.Place.CENTER,TJ.ADS.Api.ShowBanner(e)}static CloseBanner(){let e=new TJ.ADS.Param;e.place=TJ.ADS.Place.BOTTOM|TJ.ADS.Place.CENTER,TJ.ADS.Api.RemoveBanner(e)}static ShowNormal(){TJ.API.AdService.ShowNormal(new TJ.API.AdService.Param)}static showNormal2(){TJ.API.AdService.ShowNormal(new TJ.API.AdService.Param)}static ShowReward(e,t=500){if(_._Ues.value!=_._Tpye.WebTest&&_._Ues.value!=_._Tpye.OPPOTest&&_._Ues.value!=_._Tpye.Research){if(H.CanShowCD){C._stopMusic(),console.log("?????");let a=new TJ.ADS.Param;a.extraAd=!0;let i=!1;a.cbi.Add(TJ.Define.Event.Reward,()=>{i=!0,C._playMusic(C._voiceUrl.bgm,0,1e3),null!=e&&(e(),p._notify(E._Event.adsTime))}),a.cbi.Add(TJ.Define.Event.Close,()=>{i||(C._playMusic(C._voiceUrl.bgm,0,1e3),console.log("观看完整广告才能获取奖励哦！"),h._openScene(c.AdsHint,null,()=>{console.log(h._SceneControl.AdsHint),h._SceneControl.AdsHint.AdsHint.setCallBack(e)}))}),a.cbi.Add(TJ.Define.Event.NoAds,()=>{C._playMusic(C._voiceUrl.bgm,0,1e3),P.createHint_Middle("暂时没有广告，过会儿再试试吧！")}),TJ.ADS.Api.ShowReward(a),H.CanShowCD=!1,setTimeout(()=>{H.CanShowCD=!0},t)}}else e()}static Event(e,t){console.log("Param:>"+e+"Value:>"+t);let a=new TJ.GSA.Param;a.id=null==t?e:e+t,console.log(a.id),TJ.GSA.Api.Event(a)}static initShare(){TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.WX_AppRt&&(this.wx.onShareAppMessage(()=>({title:this.shareContent,imageUrl:this.shareImgUrl,query:""})),this.wx.showShareMenu({withShareTicket:!0,success:null,fail:null,complete:null}))}static lureShare(){TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.WX_AppRt&&this.wx.shareAppMessage({title:this.shareContent,imageUrl:this.shareImgUrl,query:""})}static VibrateShort(){w._shake.switch&&TJ.API.Vibrate.Short()}static Vibratelong(){w._shake.switch&&TJ.API.Vibrate.Long()}static TAPoint(e,t){let a=new TJ.API.TA.Param;switch(a.id=t,e){case Y.BtnShow:TJ.API.TA.Event_Button_Show(a);break;case Y.BtnClick:TJ.API.TA.Event_Button_Click(a);break;case Y.PageShow:TJ.API.TA.Event_Page_Show(a);break;case Y.PageEnter:TJ.API.TA.Event_Page_Enter(a);break;case Y.PageLeave:TJ.API.TA.Event_Page_Leave(a);break;case Y.LevelStart:TJ.API.TA.Event_Level_Start(a),console.log("本关开始打点");break;case Y.LevelFail:TJ.API.TA.Event_Level_Fail(a),console.log("本关失败打点");break;case Y.LevelFinish:TJ.API.TA.Event_Level_Finish(a),console.log("本关胜利打点")}}}H.CanShowCD=!0,H.wx=Laya.Browser.window.wx,H.shareImgUrl="http://image.tomatojoy.cn/6847506204006681a5d5fa0cd91ce408",H.shareContent="涂鸦小画手",function(e){e[e.BtnShow=0]="BtnShow",e[e.BtnClick=1]="BtnClick",e[e.PageShow=2]="PageShow",e[e.PageEnter=3]="PageEnter",e[e.PageLeave=4]="PageLeave",e[e.LevelStart=5]="LevelStart",e[e.LevelFinish=6]="LevelFinish",e[e.LevelFail=7]="LevelFail"}(Y||(Y={}));class F{static _interfacePointJet(){f._frameNumLoop(5,15,this,()=>{for(let e=0;e<5;e++)b._Particle._downwardSpray(Laya.stage,new Laya.Point(1*Laya.stage.width/4,-100),[10,30],[10,30],[0,90],[b._SkinUrl.矩形1],null),b._Particle._downwardSpray(Laya.stage,new Laya.Point(3*Laya.stage.width/4,-100),[10,30],[10,30],[90,180],[b._SkinUrl.矩形1],null),b._Particle._downwardSpray(Laya.stage,new Laya.Point(-100,Laya.stage.height/4),[10,30],[10,30],[0,90],[b._SkinUrl.矩形1],null),b._Particle._downwardSpray(Laya.stage,new Laya.Point(Laya.stage.width+100,Laya.stage.height/4),[10,30],[10,30],[90,180],[b._SkinUrl.矩形1],null)})}static _completeCross(){for(let e=0;e<4;e++){let t=7*e+5,a=new Laya.Point(-200,Laya.stage.height),i={},n=()=>{a.x+=20,a.x>Laya.stage.width&&Laya.timer.clearAll(i),a.y-=t,b._Particle._fallingVertical(Laya.stage,new Laya.Point(a.x,a.y),[0,0],null,null,[0,360],[b._SkinUrl.花2],[[255,222,0,1],[255,24,0,1]],null,[100,200],[.8,1.5],[.05,.1])};f._frameLoop(1,i,()=>{n()});let s=new Laya.Point(Laya.stage.width+200,Laya.stage.height),o={},r=()=>{s.x-=20,s.x<0&&Laya.timer.clearAll(o),s.y-=t,b._Particle._fallingVertical(Laya.stage,new Laya.Point(s.x,s.y),[0,0],null,null,[0,360],[b._SkinUrl.花2],[[255,222,0,1],[255,24,0,1]],null,[100,200],[.8,1.5],[.05,.1])};f._frameLoop(1,o,()=>{r()})}}static _completeSidelingCross(){let e=Laya.stage.width,t=2.5*Laya.stage.height,a=new Laya.Image;a.width=100,a.height=t,a.rotation=40,B._Node.changePivot(a,0,t/2),a.pos(0,0),Laya.stage.addChild(a),a.zOrder=1e3;for(let t=0;t<20;t++){let i=new Laya.Point(0,a.height/20*t),n=new Laya.Point(Laya.stage.width,a.height/20*t),s={},o=()=>{i.x+=40,i.x>e&&Laya.timer.clearAll(s),n.x-=40,n.x>e&&Laya.timer.clearAll(s),t%2==0?b._Particle._fallingVertical(a,new Laya.Point(i.x,i.y),[0,0],null,null,[0,360],[b._SkinUrl.星星8],[[255,222,0,1],[255,24,0,1]],null,[100,200],[.8,1.5],[.05,.1]):b._Particle._fallingVertical_Reverse(a,new Laya.Point(n.x,n.y),[0,0],null,null,[0,360],[b._SkinUrl.星星8],[[255,222,0,1],[255,24,0,1]],null,[-100,-200],[-.8,-1.5],[-.05,-.1])};f._frameNumLoop(2,50,s,()=>{o()})}}static _fireworksCelebrate(e){const t=new Laya.Point(Laya.stage.width/2,0);f._frameNumRandomLoop(1,3,150,this,()=>{b._Particle._fallingRotate(Laya.stage,t,[Laya.stage.width,0],[10,30],[10,30],[b._SkinUrl.矩形1,b._SkinUrl.矩形2,b._SkinUrl.矩形3],null,[300,Laya.stage.height],[1,8])});const a=new Laya.Point(Laya.stage.width/2,Laya.stage.height/2-50);f._frameNumRandomLoop(10,25,16,this,()=>{const e=B._Number.randomOneInt(10,20),t=B._Number.randomOneInt(100,300),i=B._Point.randomPointByCenter(a,500,150)[0];for(let a=0;a<2*e;a++)b._Particle._sprayRound(Laya.stage,i,null,[20,40],null,[b._SkinUrl.花4],null,[t,t],[30,30]);for(let a=0;a<2*e;a++)b._Particle._sprayRound(Laya.stage,i,null,[20,40],null,[b._SkinUrl.花4],null,[50,t-20],[30,30])},()=>{e&&e()})}static _oneFireworks(e){const t=B._Number.randomOneInt(10,20),a=B._Number.randomOneInt(100,300);for(let i=0;i<2*t;i++)b._Particle._sprayRound(Laya.stage,e,null,[20,40],null,[b._SkinUrl.花4],null,[a,a],[30,30]);for(let i=0;i<2*t;i++)b._Particle._sprayRound(Laya.stage,e,null,[20,40],null,[b._SkinUrl.花4],null,[50,a-20],[30,30])}static _circleFlowe(e){const t=B._Number.randomOneInt(500,500),a=new Laya.Point(Laya.stage.width/2,Laya.stage.height/2);for(let i=0;i<90;i++)b._Particle._sprayRound(e,a,null,[20,40],null,[b._SkinUrl.花4],null,[t,t],[35,35],null,null,5);for(let i=0;i<180;i++)b._Particle._sprayRound(e,a,null,[20,40],null,[b._SkinUrl.花4],null,[100,t-20],[35,35],null,null,5)}static _bothBlinkOnSprite(e,t){const a={};return f._frameRandomLoop(30,50,a,()=>{b._Glitter._blinkStar(e,new Laya.Point(t.x-350,t.y),[150,100],[b._SkinUrl.星星1],null,[80,80])},!0),f._frameRandomLoop(30,50,a,()=>{b._Glitter._blinkStar(e,new Laya.Point(t.x+350,t.y),[150,100],[b._SkinUrl.星星1],null,[80,80])},!0),a}static _circleExplode(e,t,a){f._once(a||0,this,()=>{const a=B._Number.randomOneInt(30,30);for(let i=0;i<40;i++)b._Particle._sprayRound(e,t,null,[20,40],null,[b._SkinUrl.星星8],null,[a,a],[5,5],null,null,5);C._playSound()})}}!function(e){e.PreLoad=class extends k._PreLoadScene{constructor(){super(...arguments),this.count=0}lwgOnAwake(){H.TAPoint(Y.PageShow,"loadpage")}lwgOnStart(){this._ImgVar("LoGo").scale(0,0),this._ImgVar("Progress").scale(0,0),this._ImgVar("Anti").alpha=0,this._LabelVar("TextTip1").alpha=0,f._once(600,this,()=>{F._circleFlowe(this._Owner)}),f._once(600,this,()=>{L._changeOnce(this._ImgVar("BG"),[100,50,0,1],100/3)}),f._frameLoop(100,this,()=>{f._once(600,this,()=>{L._changeOnce(this._ImgVar("LoGo"),[5,40,10,1],50)})}),I.bombs_Appear(this._ImgVar("LoGo"),0,1,1.2,0,500,()=>{F._bothBlinkOnSprite(this._Owner,this._ImgVar("LoGo")),I.bombs_Appear(this._ImgVar("Progress"),0,1,1.2,0,150,()=>{f._frameNumLoop(2,30,this,()=>{this.count++,this.progressDisplay()},()=>{I.fadeOut(this._LabelVar("TextTip1"),0,1,200,0,()=>{f._frameLoop(100,this,()=>{this._LabelVar("TextTip2").text="",f._frameNumLoop(10,6,this,()=>{this._LabelVar("TextTip2").text+="."})},!0)}),this._evNotify(k._Event.importList,[O._list])},!0),I.fadeOut(this._ImgVar("Anti"),0,1,400,200)},400),f._once(400,this,()=>{C._playSound(C._voiceUrl.btn)})},600)}progressDisplay(){this._ImgVar("ProgressBar").mask.x=-this._ImgVar("ProgressBar").width+this._ImgVar("ProgressBar").width/100*this.count}lwgStepComplete(){this._ImgVar("ProgressBar").mask.x+=5}lwgAllComplete(){return f._frameLoop(5,this,()=>{this._ImgVar("ProgressBar").mask.x<0&&(this._ImgVar("ProgressBar").mask.x+=40,this._ImgVar("ProgressBar").mask.x>0&&(this._ImgVar("ProgressBar").mask.x=0))}),V._AllClothes._ins().changeClothStart(),M._Scene._ins().intoStart("preload"),2e3}lwgCloseAni(){return d._shutters.Close._paly(d._shutters.Close._type.randomCroAndVer,this._Owner),1500}lwgOnDisable(){H.TAPoint(Y.PageLeave,"loadpage")}}}($||($={}));var U;$.PreLoad;!function(e){let t;!function(e){e.animation1="_PreLoadCutIn_animation1",e.preLoad="_PreLoadCutIn_preLoad",e.animation2="_PreLoadCutIn_animation2",e.fromBtnBack="_PreLoadCutIn_fromBtnBack"}(t=e._Event||(e._Event={})),e._fromBack=!1,e._init=function(){p._register(t.fromBtnBack,e,()=>{e._fromBack=!0})};e.PreLoadCutIn=class extends k._PreLoadScene{lwgOpenAniAfter(){p._notify(t.animation1)}lwgEvent(){this._evReg(t.animation1,()=>{let e=0;f._frameNumLoop(1,30,this,()=>{e++,this._LabelVar("Schedule").text=`${e}%`},()=>{let e=D[h._PreLoadCutIn.openName];e=e||{},p._notify(k._Event.importList,[e])})})}lwgStepComplete(){}lwgAllComplete(){switch(h._PreLoadCutIn.openName){case"MakePattern":M.DIYCloth._ins().remake(V._DIYClothes._ins()._pitchClassify,V._DIYClothes._ins()._pitchName),M._Scene._ins().intoMakePattern(),this._ImgVar("Front").loadImage(V._DIYClothes._ins().getPitchTexBasicUrl(),Laya.Handler.create(this,()=>{M.DIYCloth._ins().addTexture2D((()=>{let e=this._ImgVar("Front");const t=this._ImgVar("Front").drawToTexture(e.width,e.height,e.x,e.y+e.height);return[t,t]})())}));break;case"MakeTailor":M._Scene._ins().intoMakeTailor(),V._DIYClothes._ins().ClothesArr=null,V._DIYClothes._ins().getClothesArr();break;case"Start":"MakePattern"!==h._PreLoadCutIn.closeName||e._fromBack?M._Scene._ins().intoStart():this.iconPhoto();break;case"DressingRoom":M._Scene._ins().intogeDressingRoom()}return f._frameOnce(30,this,()=>{this._LabelVar("Schedule").text="100%"}),1e3}lwgOnDisable(){e._fromBack=!1}iconPhoto(){if(TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.OPPO_AppRt)M._Scene._ins().intoStart(),V._DIYClothes._ins()._setPitchProperty(V._DIYClothes._ins()._otherPro.icon,"have"),V._AllClothes._ins().changeAfterMaking();else{M._Scene._ins().photoBg(),M.DIYCloth._ins().hanger.active=!1,M.DIYCloth._ins().Present.transform.localRotationEulerY=180;const e=new Laya.Sprite;this._Owner.addChild(e).size(126,146),B._Draw.cameraToSprite(M._Scene._ins()._MainCamara,e),f._frameOnce(5,this,()=>{const t=B._Draw.screenshot(e,.5);V._DIYClothes._ins()._setPitchProperty(V._DIYClothes._ins()._otherPro.icon,t),V._AllClothes._ins().changeAfterMaking(),M._Scene._ins().intoStart()})}}}}(U||(U={}));var J,z;U.PreLoadCutIn;!function(e){e._name={get value(){return m._str("playerName",null,"You").value},set value(e){m._str("playerName").value=e}};e.PersonalInfo=class extends h._SceneBase{lwgOnAwake(){H.TAPoint(Y.BtnShow,"changename"),this._TextInputVar("NameValue").text=e._name.value;const t=V._Ranking._ins()._getPitchObj();this._LabelVar("RankValue").text=t[V._Ranking._ins()._otherPro.rankNum],this._LabelVar("FansValue").text=t[V._Ranking._ins()._otherPro.fansNum]}lwgOpenAni(){return G._dialogOpenFadeOut(this._ImgVar("Background"),this._ImgVar("Content"),()=>{!V._Guide._complete&&this._openScene("Guide",!1,!1,()=>{const e=this._ImgVar("Name").localToGlobal(new Laya.Point(this._ImgVar("NameValue").x,this._ImgVar("NameValue").y));this._evNotify(R.Guide.PersonalInfoWriteName,[e.x,e.y])},this._Owner.zOrder+1),f._frameLoop(200,this,()=>{this._AniVar("ani1").play(0,!1),this._AniVar("ani1").on(Laya.Event.LABEL,this,e=>{"comp"===e&&L._changeOnce(this._ImgVar("Head"),[50,10,10,1],40)})},!0)})}BtnCloseClick(){this._btnUp(this._ImgVar("BtnClose"),()=>{!V._Guide._complete&&this._evNotify(R.Guide.vanishGuide),this._closeScene()})}lwgButton(){this._btnFour(this._ImgVar("NameValue"),()=>{this._ImgVar("BtnWrite").scale(.85,.85)},()=>{this._ImgVar("BtnWrite").scale(.85,.85)},()=>{this._ImgVar("BtnWrite").scale(1,1)},()=>{this._ImgVar("BtnWrite").scale(1,1)}),this._TextInputVar("NameValue").on(Laya.Event.FOCUS,this,()=>{!V._Guide._complete&&this._evNotify(R.Guide.vanishGuide)}),this._TextInputVar("NameValue").on(Laya.Event.INPUT,this,()=>{}),this._TextInputVar("NameValue").on(Laya.Event.BLUR,this,()=>{if(this._TextInputVar("NameValue").text.length<=5?this._TextInputVar("NameValue").fontSize=30:6===this._TextInputVar("NameValue").text.length?this._TextInputVar("NameValue").fontSize=27:this._TextInputVar("NameValue").fontSize=24,e._name.value=this._TextInputVar("NameValue").text,!V._Guide._complete){this.BtnCloseClick();const e=this._ImgVar("Content").localToGlobal(new Laya.Point(this._ImgVar("BtnClose").x,this._ImgVar("BtnClose").y));this._evNotify(R.Guide.PersonalInfoCloseBtn,[e.x,e.y])}}),V._Guide._complete&&this.BtnCloseClick()}lwgCloseAni(){return G._dialogCloseFadeOut(this._ImgVar("Content"),this._ImgVar("Background"),()=>{!V._Guide._complete&&this._evNotify(R.Guide.DelayBtnCheckIn)})}lwgOnDisable(){H.TAPoint(Y.BtnClick,"changename")}}}(J||(J={})),function(e){e._whereFrom="Start";class t extends g._Item{$render(){this.$data[V._Ranking._ins()._property.classify]===V._Ranking._ins()._classify.self?(this._ImgChild("Board").skin="Game/UI/Ranking/x_di.png",this._LableChild("Name").text=J._name.value):(this._ImgChild("Board").skin="Game/UI/Ranking/w_di.png",this._LableChild("Name").text=this.$data[V._Ranking._ins()._property.name]),this._LableChild("RankNum").text=String(this.$data[V._Ranking._ins()._otherPro.rankNum]),this._LableChild("FansNum").text=String(this.$data[V._Ranking._ins()._otherPro.fansNum]),this._LableChild("Icon").getChildAt(0).skin=this.$data[V._Ranking._ins()._otherPro.iconSkin]}}e.RankingItem=t;e.Ranking=class extends h._SceneBase{lwgOnAwake(){H.TAPoint(Y.PageShow,"rankpage"),V._Ranking._ins()._List=this._ListVar("List"),"Tweeting"===e._whereFrom&&V._Ranking._ins()._addProValueForAll(V._Ranking._ins()._otherPro.fansNum,()=>B._Number.randomOneInt(100,150)),this._evNotify(R.Start.updateRanking),V._Ranking._ins()._listRenderScript=t}lwgOpenAni(){return"Tweeting"===e._whereFrom?G._dialogOpenPopup(this._ImgVar("Content"),this._ImgVar("Background")):G._dialogOpenFadeOut(this._ImgVar("Content"),this._ImgVar("Background")),200}lwgOpenAniAfter(){"Tweeting"===e._whereFrom&&(F._fireworksCelebrate(()=>{!V._Guide._complete&&this._openScene("Guide",!1,!1,()=>{this.BtnCloseClick();const e=this._ImgVar("Content").localToGlobal(new Laya.Point(this._ImgVar("BtnClose").x,this._ImgVar("BtnClose").y));this._evNotify(R.Guide.RankingCloseBtn,[e.x,e.y])},this._Owner.zOrder+1)}),e._whereFrom="Start")}lwgOnStart(){1===V._Ranking._ins()._getProperty(V._Ranking._ins()._pitchName,V._Ranking._ins()._otherPro.rankNum)?V._Ranking._ins()._List.scrollTo(0):"Tweeting"===e._whereFrom?(V._Ranking._ins()._listScrollToLast(),V._Ranking._ins()._listTweenToPitchChoose(-1,1500)):(V._Ranking._ins()._listScrollToLast(),V._Ranking._ins()._listTweenToPitchChoose(-1,600))}BtnCloseClick(){this._btnUp(this._ImgVar("BtnClose"),()=>{this._closeScene(),V._Guide._complete||(this._evNotify(R.Guide.closeGuide),this._evNotify(R.Start.BtnPersonalInfo))})}lwgButton(){V._Guide._complete&&this.BtnCloseClick()}lwgCloseAni(){return G._dialogCloseFadeOut(this._ImgVar("Content"),this._ImgVar("Background"),()=>{V._Guide._complete&&!V._CheckIn._ins()._todayCheckIn&&this._openScene("CheckIn",!1)})}lwgOnDisable(){H.TAPoint(Y.PageLeave,"rankpage")}}}(z||(z={}));var j;z.Ranking;!function(e){e._init=function(){};e.Start=class extends h._SceneBase{lwgOnAwake(){H.TAPoint(Y.PageShow,"mainpage"),H.TAPoint(Y.BtnShow,"symaker"),H.TAPoint(Y.BtnShow,"lyqmaker"),H.TAPoint(Y.BtnShow,"xzmaker"),H.TAPoint(Y.BtnShow,"change"),B._Node.childrenVisible2D(this._ImgVar("BtnParent"),!1),M._Scene._ins().openStartAni(()=>{this._ImgVar("BtnTop").pos(M._Scene._ins().btnTopPos.x,M._Scene._ins().btnTopPos.y),this._ImgVar("BtnDress").pos(M._Scene._ins().btnDressPos.x,M._Scene._ins().btnDressPos.y),this._ImgVar("BtnBottoms").pos(M._Scene._ins().btnBottomsPos.x,M._Scene._ins().btnBottomsPos.y),this._ImgVar("BtnDressingRoom").pos(M._Scene._ins().btnDressingRoomPos.x,M._Scene._ins().btnDressingRoomPos.y);for(let e=0;e<this._ImgVar("BtnParent").numChildren;e++)this._ImgVar("BtnParent").getChildAt(e).visible=!1})}lwgOpenAniAfter(){for(let t=0;t<this._ImgVar("BtnParent").numChildren;t++){const a=this._ImgVar("BtnParent").getChildAt(t);a.visible=!0;const i=200*t;I.bombs_Appear(a,0,1,1.2,0,200,()=>{t===this._ImgVar("BtnParent").numChildren-1&&f._once(500,this,()=>{"MakePattern"==e._whereFrom?(this._evNotify(R.Start.photo),e._whereFrom=null):V._Guide._complete?!V._CheckIn._ins()._todayCheckIn&&this._openScene("CheckIn",!1):this._openScene("Guide",!1,!1,()=>{this.BtnDressClick(),this._evNotify(R.Guide.StartBtnDress,[this._ImgVar("BtnDress").x,this._ImgVar("BtnDress").y])})})},i),F._circleExplode(this._Owner,new Laya.Point(a.x,a.y),i)}}lwgOnStart(){this._evNotify(R.Start.updateRanking)}lwgEvent(){this._evReg(R.Guide.DelayBtnCheckIn,()=>{this.BtnCheckIn(),this._evNotify(R.Guide.BtnCheckIn,[this._ImgVar("BtnCheckIn").x,this._ImgVar("BtnCheckIn").y])}),this._evReg(R.Guide.StartOtherBtnClick,()=>{this.lwgButton()}),this._evReg(R.Start.updateRanking,()=>{let e=V._Ranking._ins()._getPitchObj();this._LabelVar("RankNum").text=`${e[V._Ranking._ins()._otherPro.rankNum]}/50`}),this._evReg(R.Start.photo,()=>{const e=M._Scene._ins().cameraToSprite(this._Owner);f._frameOnce(10,this,()=>{V._Tweeting._ins()._photo.take(this._Owner,2),e.destroy(),f._frameOnce(10,this,()=>{this._openScene("Tweeting_Main",!1)})})}),this._evReg(R.Start.BtnPersonalInfo,()=>{f._once(1e3,this,()=>{this._openScene("Guide",!1,!1,()=>{this.BtnPersonalInfoClick(),this._evNotify(R.Guide.PersonalInfoBtn,[this._ImgVar("BtnPersonalInfo").x,this._ImgVar("BtnPersonalInfo").y])})})})}BtnDressClick(){this._btnUp(this._ImgVar("BtnDress"),()=>{this._evNotify(R.Guide.closeGuide);let e=0;V._Guide._complete&&(e=300),f._once(e,this,()=>{this.openMakeTailor("Dress")}),H.TAPoint(Y.BtnClick,"lyqmaker")})}BtnPersonalInfoClick(){this._btnUp(this._ImgVar("BtnPersonalInfo"),()=>{!V._Guide._complete&&this._evNotify(R.Guide.vanishGuide),this._openScene("PersonalInfo",!1)})}BtnCheckIn(){this._btnUp(this._ImgVar("BtnCheckIn"),()=>{!V._Guide._complete&&this._evNotify(R.Guide.vanishGuide),this._openScene("CheckIn",!1)})}openMakeTailor(e){V._DIYClothes._ins()._pitchClassify=e,M._Scene._ins().cameraToSprite(this._Owner),this._openScene("MakeTailor",!0,!0)}lwgButton(){if(!V._Guide._complete)return;this.BtnDressClick();const e=V._DIYClothes._ins();this._btnUp(this._ImgVar("BtnTop"),()=>{e._pitchClassify=e._classify.Top,this.openMakeTailor("Top"),H.TAPoint(Y.BtnClick,"symaker")}),this._btnUp(this._ImgVar("BtnBottoms"),()=>{e._pitchClassify=e._classify.Bottoms,this.openMakeTailor("Bottoms"),H.TAPoint(Y.BtnClick,"xzmaker")}),this.BtnPersonalInfoClick(),this._btnUp(this._ImgVar("BtnRanking"),()=>{z._whereFrom="Start",this._openScene("Ranking",!1)}),this._btnUp(this._ImgVar("BtnDressingRoom"),()=>{H.TAPoint(Y.BtnClick,"change"),M._Scene._ins().cameraToSprite(this._Owner),this._openScene("DressingRoom",!0,!0)}),this.BtnCheckIn()}lwgOnDisable(){H.TAPoint(Y.PageLeave,"mainpage")}}}(j||(j={}));var W,Z;j.Start;!function(e){class t extends Laya.Script3D{get _cameraPos(){return this.__cameraPos?this.__cameraPos:this.__cameraPos=new Laya.Vector3(this._MainCamera.transform.localPositionX,this._MainCamera.transform.localPositionY,this._MainCamera.transform.localPositionZ)}get _MainCamera(){if(this.__MainCamera)return this.__MainCamera;if(this.owner.getChildByName("Main Camera"))return this.__MainCamera=this.owner.getChildByName("Main Camera");for(let e=0;e<this.owner.numChildren;e++){const t=this.owner.getChildAt(e);if(typeof t==typeof Laya.Camera)return this.__MainCamera=t}}set _MainCamera(e){this.__MainCamera=e}_Child(e){return this[`_child${e}`]?this[`_child${e}`]:this.owner.getChildByName(e)?this[`_child${e}`]=this.owner.getChildByName(e):void console.log(`不存在子节点${e}`)}getChildComponent(e,t){if(this[`_child${e}${t}`])return this[`_child${e}${t}`];{let a=this.owner.getChildByName(e);if(a){if(a[t])return this[`_child${e}${t}`]=a[t];console.log(`${e}子节点没有${t}组件`)}else console.log(`不存在子节点${e}`)}}_childTrans(e){return this.getChildComponent(e,"transform")}_childMRenderer(e){return this.getChildComponent(e,"meshRenderer")}getFindComponent(e,t){if(this[`_child${e}${t}`])return this[`_child${e}${t}`];{let a=B._Node.findChild3D(this.owner,e);if(a){if(a[t])return this[`_child${e}${t}`]=a[t];console.log(`${e}场景内节点没有${t}组件`)}else console.log(`场景内不存在子节点${e}`)}}_find(e){if(this[`_FindNode${e}`])return this[`_FindNode${e}`];{let t=B._Node.findChild3D(this.owner,e);if(t)return this[`_FindNode${e}`]=t;console.log(`不存在节点${e}`)}}_findMRenderer(e){return this.getFindComponent(e,"meshRenderer")}_findTrans(e){return this.getFindComponent(e,"transform")}lwgOnAwake(){}lwgEvent(){}_evReg(e,t){p._register(e,this,t)}_evNotify(e,t){p._notify(e,t)}lwgOnEnable(){}lwgOnStart(){}lwgOnUpdate(){}lwgOnDisable(){}}e._Scene3DBase=class extends t{constructor(){super(),this._cameraFp=new Laya.Vector3}get _Owner(){return this.owner}onAwake(){this._calssName=this.__proto__.constructor.name,this._MainCamera&&(this._cameraFp.x=this._MainCamera.transform.localPositionX,this._cameraFp.y=this._MainCamera.transform.localPositionY,this._cameraFp.z=this._MainCamera.transform.localPositionZ),this.lwgOnAwake()}onEnable(){this._Owner[this._calssName]=this,this.lwgEvent(),this.lwgOnEnable(),this.lwgOpenAni()}onStart(){this.lwgOnStart()}lwgOpenAni(){}lwgVanishAni(){}onUpdate(){this.lwgOnUpdate()}onDisable(){this.lwgOnDisable(),Laya.timer.clearAll(this),Laya.Tween.clearAll(this),p._offCaller(this)}};e._Object3D=class extends t{constructor(){super()}get _Owner(){return this.owner}_locScale(){return this._Owner.transform.localScale}_locPos(){return this._Owner.transform.localPosition}_pos(){return this._Owner.transform.position}_locEuler(){return this._Owner.transform.localRotationEuler}get _Parent(){return this.owner.parent}get _transform(){return this._Owner.transform}get _Scene3D(){return this.owner.scene}get _Rig3D(){return this._Owner.__Rigidbody3D||(this._Owner.__Rigidbody3D=this._Owner.getComponent(Laya.Rigidbody3D)),this._Owner.__Rigidbody3D}onAwake(){this.lwgOnAwake()}onEnable(){this.lwgEvent(),this.lwgOnEnable()}onUpdate(){this.lwgOnUpdate()}onDisable(){this.lwgOnDisable(),Laya.Tween.clearAll(this),Laya.timer.clearAll(this),p._offCaller(this)}}}(W||(W={})),function(e){let t;!function(e){e.posCalibration="posCalibration",e.addTexture2D="addTexture2D"}(t=e._Event||(e._Event={}));e.MakeUp=class extends h._SceneBase{constructor(){super(...arguments),this.Make={switch:!0,frontPos:null,endPos:null,DrawSp:null,present:null,color:null,size:20,draw:(e,t,a,i,n)=>{},getTex:e=>e.drawToTexture(e.width,e.height,e.x,e.y)}}lwgOnStart(){e._Scene3D.getComponent(a)?e._Scene3D.getComponent(a).lwgOnStart():e._Scene3D.addComponent(a),this._evNotify(t.addTexture2D,[this._ImgVar("Glasses1").name,this.Make.getTex(this._ImgVar("Glasses1")).bitmap]),this._evNotify(t.addTexture2D,[this._ImgVar("Glasses2").name,this.Make.getTex(this._ImgVar("Glasses2")).bitmap])}lwgEvent(){this._evReg(t.posCalibration,(e,t)=>{this._ImgVar("Glasses1").pos(e.x-this._ImgVar("Glasses1").width/2,e.y-this._ImgVar("Glasses1").height/2),this._ImgVar("Glasses2").pos(t.x-this._ImgVar("Glasses2").width/2,t.y-this._ImgVar("Glasses1").height/2)})}lwgButton(){for(let e=0;e<this._ImgVar("Case").numChildren;e++){const t=this._ImgVar("Case").getChildAt(e);this._btnUp(t,e=>{this.Make.color=t.getChildAt(0).text,this.Make.switch=!0})}for(let e=0;e<this._ImgVar("Glasses").numChildren;e++){const a=this._ImgVar("Glasses").getChildAt(e);let i=new Laya.Sprite;i.width=a.width,i.height=a.height,i.name="DrawBoard",a.addChild(i),this._btnFour(a,e=>{this.Make.switch&&(this.Make.frontPos=a.globalToLocal(new Laya.Point(e.stageX,e.stageY)),this.Make.present=a,this.Make.DrawSp=new Laya.Sprite,a.getChildByName("DrawBoard").addChild(this.Make.DrawSp))},e=>{this.Make.DrawSp&&this.Make.present==a&&(this.Make.endPos=a.globalToLocal(new Laya.Point(e.stageX,e.stageY)),this.Make.DrawSp.graphics.drawCircle(this.Make.endPos.x,this.Make.endPos.y,this.Make.size/2,this.Make.color),this.Make.DrawSp.graphics.drawLine(this.Make.frontPos.x,this.Make.frontPos.y,this.Make.endPos.x,this.Make.endPos.y,this.Make.color,this.Make.size),this.Make.frontPos=this.Make.endPos,this._evNotify(t.addTexture2D,[a.name,this.Make.getTex(a).bitmap]))},e=>{let t=a.getChildByName("DrawBoard");if(t){let e=a.addChild((new Laya.Sprite).pos(0,0));e.width=t.width,e.height=t.height,e.name="DrawBoard",e.texture=t.drawToTexture(t.width,t.height,t.x,t.y),t.removeSelf()}},e=>{},null)}this._btnUp(this._ImgVar("BtnNext"),()=>{this._openScene("Start",!0,!0)})}onStageMouseDown(e){this.Make.switch=!0,this.Make.color}onStageMouseMove(e){}onStageMouseUp(){}lwgCloseAni(){return 10}};class a extends W._Scene3DBase{lwgOnAwake(){}lwgOnStart(){let e=B._3D.posToScreen(this._Child("Glasses1").transform.position,this._MainCamera),a=B._3D.posToScreen(this._Child("Glasses2").transform.position,this._MainCamera);this._evNotify(t.posCalibration,[e,a])}lwgEvent(){this._evReg(t.addTexture2D,(e,t)=>{let a=this._Child(e).meshRenderer.material;a.albedoTexture.destroy(),a.albedoTexture=t})}}e.MakeUp3D=a}(Z||(Z={}));var q,K,Q,ee;Z.MakeUp3D;!function(e){e.BackHint=class extends h._SceneBase{constructor(){super(...arguments),this.closeAniType=null}lwgOpenAni(){return G._dialogOpenFadeOut(this._ImgVar("Content"),this._ImgVar("Background"))}lwgButton(){this._btnUp(this._ImgVar("BtnLeave"),()=>{this._evNotify(U._Event.fromBtnBack),G._dialogCloseFadeOut(this._ImgVar("Content"),this._ImgVar("Background"),()=>{this._Owner.close(),e._fromScene[e._fromScene.name]._openScene("Start",!0,!0)})});var t=()=>{this.closeAniType=100,e._3dToSp&&e._3dToSp.destroy(),G._dialogCloseFadeOut(this._ImgVar("Content"),this._ImgVar("Background"),()=>{this._Owner.close()})};this._btnUp(this._ImgVar("BtnContinue"),()=>{t()}),this._btnUp(this._ImgVar("BtnClose"),()=>{t()})}lwgCloseAni(){return this.closeAniType}}}(q||(q={}));class te{constructor(e){this.time=100,this.delay=100,this.scale=1.4,e&&(this.Scene=e,this.Operation=e.Operation,this.BtnAgain=B._Node.createPrefab(O._list.prefab2D.BtnAgain.prefab,e,[200,79]),S._on(S._Use.value,this.BtnAgain,this,null,null,()=>{H.TAPoint(Y.BtnShow,"next_lose"),this.btnAgainClick&&this.btnAgainClick()}),this.BtnComplete=e.BtnComplete,S._on(S._Use.value,this.BtnComplete,this,null,null,e=>{e.stopPropagation(),this.btnCompleteClick&&this.btnCompleteClick()}),this.BtnBack=B._Node.createPrefab(O._list.prefab2D.BtnBack.prefab,e,[77,79]),S._on(S._Use.value,this.BtnBack,this,null,null,()=>{V._Guide._complete&&(H.TAPoint(Y.BtnShow,"back_main"),M._Scene._ins()._Owner.active&&(q._3dToSp=M._Scene._ins().cameraToSprite(this.Scene)),q._fromScene=this.Scene,h._openScene("BackHint"))}),this.BtnRollback=B._Node.createPrefab(O._list.prefab2D.BtnRollback.prefab,e,[200,79]),S._on(S._Use.value,this.BtnRollback,this,null,null,()=>{V._Guide._complete&&this.btnRollbackClick&&this.btnRollbackClick()}),this.Operation.pos(Laya.stage.width+500,20),this.BtnComplete.scale(0,0),this.BtnBack.scale(0,0),this.BtnAgain.scale(0,0),this.BtnRollback.scale(0,0),H.TAPoint(Y.BtnShow,"back_main"),H.TAPoint(Y.BtnShow,"next_lose"),this.BtnTurnFace=this.Scene.BtnTurnFace,this.BtnTurnFace&&(H.TAPoint(Y.BtnShow,"Amian"),H.TAPoint(Y.BtnShow,"Bmian"),this.BtnTurnFace.scale(0,0)),this.BtnRollback.zOrder=this.BtnAgain.zOrder=this.BtnBack.zOrder=this.BtnComplete.zOrder=this.Operation.zOrder=45,this.moveTargetX=Laya.stage.width-this.Operation.width+50)}btnRollbackAppear(e,t){I.bombs_Appear(this.BtnRollback,0,1,this.scale,0,2*this.time,()=>{e&&e()},t||0)}btnRollbackVinish(e,t){I.bombs_Vanish(this.BtnRollback,0,0,0,4*this.time,()=>{e&&e()},t||0)}btnAgainAppear(e,t){I.bombs_Appear(this.BtnAgain,0,1,this.scale,0,2*this.time,()=>{e&&e()},t||0)}btnAgainVinish(e,t){I.bombs_Vanish(this.BtnAgain,0,0,0,4*this.time,()=>{e&&e()},t||0)}btnBackAppear(e,t){I.bombs_Appear(this.BtnBack,0,1,this.scale,0,2*this.time,()=>{e&&e()},t||0)}btnBackVinish(e,t){I.bombs_Vanish(this.BtnBack,0,0,0,4*this.time,()=>{e&&e()},t||0)}btnCompleteAppear(e,t){F._circleExplode(this.Operation,new Laya.Point(this.BtnComplete.x,this.BtnComplete.y),t),I.bombs_Appear(this.BtnComplete,0,1,this.scale,0,2*this.time,()=>{e&&e()},t||0)}btnCompleteVinish(e,t){I.bombs_Vanish(this.BtnComplete,0,0,0,4*this.time,()=>{e&&e()},t||0)}btnTurnFaceAppear(e,t){this.BtnTurnFace&&(F._circleExplode(this.Operation,new Laya.Point(this.BtnTurnFace.x,this.BtnTurnFace.y),t),I.bombs_Appear(this.BtnTurnFace,0,1,this.scale,0,2*this.time,()=>{e&&e()}))}btnTurnFaceVinish(e,t){this.BtnTurnFace&&I.bombs_Vanish(this.BtnTurnFace,0,0,0,4*this.time,()=>{e&&e()},t||0)}operationAppear(e,t){"MakeTailor"===this.Scene.name&&I.fadeOut(this.Scene.BG2,this.Scene.BG2.alpha,1,500),I.move(this.Operation,this.moveTargetX-40,this.Operation.y,4*this.time,()=>{I.move(this.Operation,this.moveTargetX,this.Operation.y,this.time,()=>{e&&e()})},t||0)}operationVinish(e,t){"MakeTailor"===this.Scene.name&&I.fadeOut(this.Scene.BG2,this.Scene.BG2.alpha,0,500),I.bombs_Vanish(this.BtnComplete,0,0,0,4*this.time,()=>{I.move(this.Operation,this.moveTargetX-40,this.Operation.y,this.time,()=>{I.move(this.Operation,Laya.stage.width+500,this.Operation.y,4*this.time,()=>{e&&e()})})},t||0)}}!function(e){let t;!function(e){e.scissorTrigger="_MakeTailor_ scissorTrigger",e.completeEffcet="_MakeTailor_completeAni",e.changeClothes="_MakeTailor_changeClothes",e.scissorAppear="_MakeTailor_scissorAppear",e.scissorPlay="_MakeTailor_scissorPlay",e.scissorStop="_MakeTailor_scissorStop",e.scissorRotation="_MakeTailor_scissorRotation",e.scissorAgain="_MakeTailor_scissorSitu",e.scissorRemove="_MakeTailor_scissorRemove"}(t=e._Event||(e._Event={}));class a extends g._Table{constructor(){super(...arguments),this.moveTime=600}static _ins(){return this.ins||(this.ins=new a("DIY_Task")),this.ins}again(e){const t=V._DIYClothes._ins().getClothesArr(),a=V._DIYClothes._ins()._pitchName?V._DIYClothes._ins()._pitchName:t[0].name;for(let i=0;i<t.length;i++){const n=t[i];n.name===a&&(this.LastClothes=n,t[i]=this.Clothes=V._DIYClothes._ins().createClothes(a,e),this.LineParent=this.Clothes.getChildAt(0).getChildByName("LineParent"),this.setData())}this.clothesMove(),I.move_rotate(this.LastClothes,45,new Laya.Point(1.5*Laya.stage.width,1.5*Laya.stage.height),this.moveTime,0,()=>{this.LastClothes.removeSelf()})}clothesMove(){this.Clothes.pos(0,1.5*-Laya.stage.height),this.Clothes.rotation=45,I.move_rotate(this.Clothes,0,new Laya.Point(Laya.stage.width/2,Laya.stage.height/2),700)}changeClothes(e){const t=V._DIYClothes._ins().getClothesArr(),a=V._DIYClothes._ins()._pitchName?V._DIYClothes._ins()._pitchName:t[0].name,i=V._DIYClothes._ins()._lastPitchName;for(let n=0;n<t.length;n++){const s=t[n];s.name==a?(s.removeSelf(),this.Clothes=t[n]=V._DIYClothes._ins().createClothes(a,e),this.LineParent=this.Clothes.getChildAt(0).getChildByName("LineParent"),this.setData()):s.name==i?this.LastClothes=s:s.removeSelf()}this.clothesMove(),this.LastClothes&&I.move_rotate(this.LastClothes,-45,new Laya.Point(1.5*Laya.stage.width,1.5*-Laya.stage.height),this.moveTime,0,()=>{this.LastClothes.removeSelf()})}setData(){this._arr=[];for(let e=0;e<this.LineParent.numChildren;e++){const t=this.LineParent.getChildAt(e);if(t.numChildren>0){let e={};e.Line=t,e[this._property.name]=t.name,e[this._property.conditionNum]=t.numChildren,e[this._property.degreeNum]=0,this._arr.push(e)}}}}e._TaskClothes=a;class i extends h._ObjectBase{constructor(){super(...arguments),this.Ani={vanishP:new Laya.Point(Laya.stage.width+500,0),shearSpeed:3,range:40,dir:"up",dirType:{up:"up",down:"down"},paly:()=>{f._clearAll([this.Ani]),I._clearAll([this.Ani]),f._frameLoop(1,this.Ani,()=>{this._SceneImg("S2").rotation>this.Ani.range?this.Ani.dir="up":this._SceneImg("S2").rotation<=0&&(this.Ani.dir="down"),"up"==this.Ani.dir?(this._SceneImg("S1").rotation+=4*this.Ani.shearSpeed,this._SceneImg("S2").rotation-=4*this.Ani.shearSpeed):"down"==this.Ani.dir&&(this._SceneImg("S1").rotation-=this.Ani.shearSpeed,this._SceneImg("S2").rotation+=this.Ani.shearSpeed)})},stop:()=>{f._frameOnce(30,this.Ani,()=>{f._clearAll([this.Ani]),I._clearAll([this.Ani]),I.rotate(this._SceneImg("S1"),-this.Ani.range/3,100),I.rotate(this._SceneImg("S2"),this.Ani.range/3,100)})},event:()=>{this._evReg(t.scissorAppear,()=>{I.move_rotate(this._Owner,this._fRotation+360,this._fPoint,800,0,()=>{this._Owner.rotation=this._fRotation,this.Move.switch=!0,V._Guide._complete||this._evNotify(R.Guide.MakeTailorStartTailor,[this._Owner])})}),this._evReg(t.scissorPlay,()=>{this.Ani.paly()}),this._evReg(t.scissorStop,()=>{this.Ani.stop()}),this._evReg(t.scissorRemove,e=>{this.Move.switch=!1;I.move_rotate(this._Owner,this._Owner.rotation+360,new Laya.Point(Laya.stage.width/2,Laya.stage.height/2),300,100,()=>{this._Owner.rotation=0,I.move_rotate(this._Owner,-30,new Laya.Point(this._Owner.x-250,this._Owner.y- -120),300,150,()=>{I.move_rotate(this._Owner,0==B._Number.randomOneHalf()?720:-720,new Laya.Point(this._Owner.x+1500,this._Owner.y+-600),600,100,()=>{e&&e(),this._Owner.rotation=0,this._Owner.pos(this.Ani.vanishP.x,this.Ani.vanishP.y)})})})}),this._evReg(t.scissorAgain,()=>{I.move_rotate(this._Owner,this._fRotation,this._fPoint,600,100,()=>{a._ins().again(this._Scene)})}),this._evReg(t.scissorRotation,e=>{f._clearAll([this._Owner]);let t,a=(t=Math.abs(e-this._Owner.rotation)<180?e-this._Owner.rotation:-(360-(e-this._Owner.rotation)))/10;f._frameNumLoop(1,10,this._Owner,()=>{this._Owner.rotation+=a})})},effcts:()=>{const e=B._Number.randomOneInt(3,6),t=V._DIYClothes._ins().getColor()[0],a=V._DIYClothes._ins().getColor()[1];B._Number.randomOneHalf();for(let i=0;i<e;i++)b._Particle._spray(this._Scene,this._point,[10,30],null,[0,360],[b._SkinUrl.三角形1],[t,a],[20,90],null,null,[1,3],[.1,.2],this._Owner.zOrder-1)}},this.Move={switch:!1,touchP:null,diffP:null}}lwgOnAwake(){this._Owner.pos(this.Ani.vanishP.x,this.Ani.vanishP.y)}lwgEvent(){this.Ani.event()}lwgButton(){this._btnFour(Laya.stage,e=>{this.Move.switch&&(this._evNotify(t.scissorPlay),this.Move.touchP=new Laya.Point(e.stageX,e.stageY),V._Guide._complete||this._evNotify(R.Guide.MakeTailorCloseTailor,[this._Owner]))},e=>{this.Move.touchP&&this.Move.switch&&(this.Move.diffP=new Laya.Point(e.stageX-this.Move.touchP.x,e.stageY-this.Move.touchP.y),this._Owner.x+=this.Move.diffP.x,this._Owner.y+=this.Move.diffP.y,B._Node.tieByStage(this._Owner),this.Move.touchP=new Laya.Point(e.stageX,e.stageY),this._evNotify(t.scissorPlay))},e=>{this._evNotify(t.scissorStop),this.Move.touchP=null,V._Guide._complete||this._evNotify(R.Guide.MakeTailorOpenTailor,[this._Owner])})}onTriggerEnter(e,a){!e.cut&&this.Move.switch&&(e.cut=!0,this._evNotify(t.scissorPlay),this._evNotify(t.scissorStop),p._notify(t.scissorTrigger,[e.owner]),this.Ani.effcts())}}class n extends g._Item{$awake(){}$button(){this._btnUp(this._Owner,()=>{if((V._Guide._complete||"diy_dress_002_final"===this.$name)&&"ads"!==this.$name){if(this.$complete)this.$name!==V._DIYClothes._ins()._pitchName&&(V._DIYClothes._ins()._setPitch(this.$name),this._evNotify(t.changeClothes));else switch(this.$unlockWay){case V._DIYClothes._ins()._unlockWay.check:P.createHint_Middle("请前往签到页面获取");break;case V._DIYClothes._ins()._unlockWay.customs:P.createHint_Middle(`制作${this.$conditionNum}件才能衣服获取哦！`);break;case V._DIYClothes._ins()._unlockWay.ads:H.ShowReward(()=>{V._DIYClothes._ins()._checkCondition(this.$name)&&(P.createHint_Middle("恭喜获得一件新服装！"),V._DIYClothes._ins()._setPitch(this.$name),this._evNotify(t.changeClothes))});break;case V._DIYClothes._ins()._unlockWay.free:P.createHint_Middle("免费获得")}V._Guide._complete||"diy_dress_002_final"!=this.$name||(V._Guide.MmakeTailorBtnComSwicth=!0,this._evNotify(R.Guide.MakeTailorBtnCom))}})}$render(){if("ads"==this.$name)this._BoxChild("NativeRoot")||B._Node.createPrefab(O._list.prefab2D.NativeRoot.prefab,this._Owner),this._ImgChild("Mask").visible=this._LableChild("UnlockWay").visible=this._ImgChild("AdsSign").visible=this._ImgChild("Icon").visible=this._ImgChild("Board").visible=!1;else{if(this.$complete)this._ImgChild("Mask").visible=this._ImgChild("AdsSign").visible=this._LableChild("UnlockWay").visible=!1;else{if(this.$unlockWay===V._DIYClothes._ins()._unlockWay.ads)this._ImgChild("AdsSign").visible=!0,this._LableChild("UnlockWay").visible=!1,this._ImgChild("Mask").visible=!1;else switch(this._ImgChild("AdsSign").visible=!1,this._LableChild("UnlockWay").visible=!0,this.$unlockWay){case V._DIYClothes._ins()._unlockWay.check:this._LableChild("UnlockWay").text="签到",this._LableChild("UnlockWay").fontSize=30;break;case V._DIYClothes._ins()._unlockWay.customs:this._LableChild("UnlockWay").text=`制作衣服 (${V._Tweeting._ins()._completeNum} /${this.$conditionNum})`,this._LableChild("UnlockWay").fontSize=25}this._ImgChild("Mask").visible=!0}this._ImgChild("Icon").gray=!this.$complete,this._BoxChild("NativeRoot")&&this._BoxChild("NativeRoot").destroy(),this._ImgChild("Icon").visible=this._ImgChild("Board").visible=!0,this._ImgChild("Icon").skin=V._DIYClothes._ins().getDIYCutIcon(this.$name),this._ImgChild("Board").skin="Lwg/UI/ui_orthogon_green.png",this.$pitch?this._ImgChild("Board").skin="Game/UI/Common/xuanzhong.png":this._ImgChild("Board").skin=null}}}e.MakeTailor=class extends h._SceneBase{lwgOnAwake(){H.TAPoint(Y.PageShow,"jiancaipage"),this._ImgVar("BG1").skin="https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Bg/MakeTailorBG1.png",this._ImgVar("BG2").skin="https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Bg/MakeTailorBG2.png",this._ImgVar("Scissor").addComponent(i),V._DIYClothes._ins()._listRenderScript=n,V._DIYClothes._ins()._List=this._ListVar("List");const e=V._DIYClothes._ins()._getArrByPitchClassify();V._DIYClothes._ins()._listArray=e,V._DIYClothes._ins()._setPitch(e[0][V._DIYClothes._ins()._property.name]),V._Guide._complete||(V._DIYClothes._ins()._List.scrollBar.touchScrollEnable=!1)}lwgOnStart(){this.UI=new te(this._Owner),f._frameOnce(40,this,()=>{this.UI.operationAppear(()=>{this.UI.btnAgainVinish(null,200),this.UI.btnCompleteAppear(null,400)}),this.UI.btnBackAppear(()=>{!V._Guide._complete&&this._openScene("Guide",!1,!1,()=>{V._Guide.MmakeTailorPulldownSwicth=!0,this._evNotify(R.Guide.MakeTailorPulldown)})})}),this.UI.BtnRollback.visible=!1,f._frameOnce(20,this,()=>{a._ins().changeClothes(this._Owner)})}lwgButton(){this.UI.btnCompleteClick=(()=>{(V._Guide._complete||V._Guide.MmakeTailorBtnComSwicth)&&(this.UI.operationVinish(()=>{this.UI.btnAgainAppear()},200),f._frameOnce(30,this,()=>{this._evNotify(t.scissorAppear)}))}),V._Guide._complete?this.UI.btnAgainClick=(()=>{this._evNotify(t.scissorRemove,[()=>{a._ins().again(this._Owner)}]),S._switch=!1,f._frameOnce(60,this,()=>{this.UI.operationAppear(()=>{this.UI.btnAgainVinish(null,200),this.UI.btnCompleteAppear()}),S._switch=!0})}):this._btnFour(V._DIYClothes._ins()._List,()=>{V._Guide.MmakeTailorPulldownSwicth&&(this.Pulldown||(this.Pulldown=1))},()=>{this.Pulldown&&this.Pulldown++},()=>{V._Guide.MmakeTailorPulldownSwicth&&this.Pulldown&&this.Pulldown>2&&V._DIYClothes._ins()._List.tweenTo(4,200,Laya.Handler.create(this,()=>{V._Guide.MmakeTailorPulldownSwicth=!1,this._evNotify(R.Guide.MakeTailorChangeCloth)})),this.Pulldown=1},null)}lwgEvent(){this._evReg(t.changeClothes,()=>{a._ins().changeClothes(this._Owner)}),this._evReg(t.scissorTrigger,e=>{const i=e.parent,n=a._ins()._checkCondition(i.name);e.visible=!1;let s=i.getChildByName("Eraser");if(s||(s=new Laya.Sprite,i.addChild(s)),"destination-out"!==s.blendMode&&(s.blendMode="destination-out"),"bitmap"!==i.cacheAs&&(i.cacheAs="bitmap"),s.graphics.drawCircle(e.x,e.y,15,"#000000"),n){V._Guide._complete||this._evNotify(R.Guide.MakeTailorNewTailor,[i.name]);for(let t=0;t<a._ins().Clothes.getChildAt(0).numChildren;t++){const i=a._ins().Clothes.getChildAt(0).getChildAt(t);if(i.name.substr(5,2)==e.parent.name.substr(4,2)){let e=1500,t=B._Number.randomOneInt(1e3)+1e3,a=B._Number.randomOneInt(1e3)+1e3;switch(i.name.substr(8)){case"U":t=0,a=-a;break;case"LU":t=-t,a=-a;break;case"L":t=-t,a=0;break;case"R":t=t,a=0;break;case"RU":a=-a;break;case"D":t=0;break;case"RD":break;case"LD":t=-t}I.move_rotate(i,0,new Laya.Point(i.x+t/30,i.y+a/30),e/6,0,()=>{let n=B._Number.randomOneBySection(180),s=B._Number.randomOneBySection(-180);I.move_rotate(i,0==B._Number.randomOneHalf()?n:s,new Laya.Point(i.x+t,i.y+a),e,0,()=>{I.fadeOut(i,1,0,200)})})}}a._ins()._checkAllCompelet()&&(B._Node.removeAllChildren(a._ins().LineParent),this._evNotify(t.scissorRemove),f._frameOnce(80,this,()=>{this._evNotify(t.completeEffcet)}),f._frameOnce(280,this,()=>{V._Tweeting._ins()._photo.take(this._Owner,0),this._openScene("MakePattern",!0,!0)}))}const o=e.parent.localToGlobal(new Laya.Point(e.x,e.y));"A"==e.name?this._ImgVar("Scissor").x<=o.x?this._evNotify(t.scissorRotation,[e.rotation]):this._evNotify(t.scissorRotation,[180+e.rotation]):this._ImgVar("Scissor").y>=o.y?this._evNotify(t.scissorRotation,[e.rotation]):this._evNotify(t.scissorRotation,[180+e.rotation])}),this._evReg(t.completeEffcet,()=>{switch(this.UI.btnBackVinish(),this.UI.btnAgainVinish(),C._playVictorySound(null,null,null,.5),B._Array.randomGetOne([0,1,2])){case 0:this.heartShapedPathEffcet();break;case 1:F._completeCross();break;case 2:F._completeSidelingCross()}})}lwgOnDisable(){H.TAPoint(Y.PageLeave,"jiancaipage")}heartShapedPathEffcet(){this._AniVar("complete").play(0,!1);let e={};f._frameLoop(1,e,()=>{let e=this._ImgVar("EFlower").parent.localToGlobal(new Laya.Point(this._ImgVar("EFlower").x,this._ImgVar("EFlower").y));b._Particle._fallingVertical(this._Owner,new Laya.Point(e.x,e.y-40),[0,0],null,null,[0,360],[b._SkinUrl.花2],[[255,222,0,1],[255,222,0,1]],null,[100,200],[.8,1.5],[.05,.1]),b._Particle._fallingVertical(this._Owner,new Laya.Point(e.x,e.y),[0,0],null,null,[0,360],[b._SkinUrl.花2],[[255,222,0,1],[255,24,0,1]],null,[100,200],[.8,1.5],[.05,.1])}),this._AniVar("complete").on(Laya.Event.COMPLETE,this,()=>{f._clearAll([e])})}}}(K||(K={})),function(e){e._screenShootByRatio=function(e,t,a,i,n,s,o){if(TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.OPPO_AppRt){const r=t?t*window.__canvas.width:0,l=a?a*window.__canvas.height:0;window.__canvas.toTempFilePath({x:r,y:l,width:i?i*window.__canvas.width-r:window.__canvas.width,height:n?n*window.__canvas.height-l:window.__canvas.height,fileType:s||"png",quality:o||1,success:t=>{e&&e(t),console.log(".............................截图成功",t.tempFilePath)},fail:e=>{console.log("？？？？？？？？？？？？？？？？",e.number),console.log("xxxxxxxxxxxxxxxxxxxxxxxxxxxxx",e.errMsg)},complete:()=>{}})}},e._screenShoot=function(e,t,a,i,n,s,o){if(TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.OPPO_AppRt){const r=t*Laya.stage.clientScaleX,l=a*Laya.stage.clientScaleY,h=i*Laya.stage.clientScaleX,c=n*Laya.stage.clientScaleY;window.__canvas.toTempFilePath({x:r,y:l,width:h,height:c,fileType:s||"png",quality:o||1,success:t=>{e&&e(t),console.log(".............................截图成功",t.tempFilePath)},fail:e=>{console.log("？？？？？？？？？？？？？？？？",e.number),console.log("xxxxxxxxxxxxxxxxxxxxxxxxxxxxx",e.errMsg)},complete:()=>{}})}},e._picSave=function(e,t,a){if(TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.OPPO_AppRt){var i=Laya.Browser.window.qg.getFileSystemManager();let s=m._array(t,null,[1,`${t}.png`]).value,o=Laya.Browser.window.qg.env.USER_DATA_PATH+s[0]+s[1],r=Laya.Browser.window.qg.env.USER_DATA_PATH+(s[0]+1)+s[1];var n=()=>{i.saveFile({tempFilePath:e,filePath:r,success:function(e){console.log("-------------------------图片保存成功",e.savedFilePath),m._array(t).value=[s[0]+1,s[1]],a&&a(e)},fail:function(){console.log("xxxxxxxxxxxxxxxxxxxxxxxxx保存图片失败")},complete:function(){}})};i.access({path:o,success:()=>{i.removeSavedFile({filePath:o,success:()=>{console.log("---------------------------删除保存的图片成功！"),n()}})},fail:()=>{console.log("xxxxxxxxxxxxxxxxxxxxxxxxxxxx没有保存这个文件！"),n()},complete:()=>{}})}},e._getStoragePic=function(e){if(TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.OPPO_AppRt){let t=m._array(e).value;if(t.length>0)return Laya.Browser.window.qg.env.USER_DATA_PATH+t[0]+t[1]}}}(Q||(Q={}));class ae{static _showCloth(e){const t=this._showClothParent;t&&t.destroy();this._showClothParent=(()=>{const t=[0,.1,.8],a=[.015,.015],i=[[.06,.06,0],[.06,.06,0]],n=new Laya.Sprite3D;return e.addChild(n),f._frameNumLoop(5,1,this,()=>{for(let e=0;e<2;e++){let s=1===e?10:-10;const o=v._Particle._spiral(n,t,i,null,null,null,[1.3,1.3],a,[s,s]);o.frame.func=(()=>{v._Particle._fade(n,[o.box.transform.position.x,o.box.transform.position.y,o.box.transform.position.z],null,10,.03,.03)})}}),f._frameNumLoop(1,15,this,()=>{for(let e=0;e<1;e++)v._Particle._starsShine(M._Scene._ins()._Owner,[0,.5,.8],[[0,0,0],[.4,.6,.4]])}),n})()}}!function(e){let t;!function(e){e.changeCloth="_DressingRoom_ChangeCloth"}(t=e._Event||(e._Event={}));class a extends g._Item{get $icon(){return this.$data?this.$data.icon:null}set $icon(e){this.$data.icon=e}get $putOn(){return this.$data?this.$data.putOn:null}set $putOn(e){this.$data.putOn=e}$button(){this._btnUp(this._Owner,e=>{"ads"!==this.$name&&(V._AllClothes._ins()._getProperty(this.$name,V._AllClothes._ins()._property.complete)?(V._AllClothes._ins().accurateChange(this.$data.part,this.$name),ae._showCloth(M._Scene._ins()._Owner)):H.ShowReward(()=>{V._AllClothes._ins()._checkCondition(this.$name)&&(P.createHint_Middle("恭喜获得新服装！"),V._AllClothes._ins().accurateChange(this.$data.part,this.$name))}))},null)}$render(){"ads"===this.$name?(!this._BoxChild("NativeRoot")&&B._Node.createPrefab(O._list.prefab2D.NativeRoot.prefab,this._Owner),this._ImgChild("Mask").visible=this._ImgChild("Icon").visible=this._ImgChild("Board").visible=!1):(this._BoxChild("NativeRoot")&&this._BoxChild("NativeRoot").destroy(),this._ImgChild("Icon").visible=this._ImgChild("Board").visible=!0,this.$putOn?this._ImgChild("Board").skin="Game/UI/Common/xuanzhong.png":this._ImgChild("Board").skin=null,this.$classify===V._AllClothes._ins()._classify.DIY?TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.OPPO_AppRt?(this._ImgChild("Icon").skin=Q._getStoragePic(this.$name),this._ImgChild("Icon").size(110,130),this._ImgChild("Icon").scale(1,1)):this._ImgChild("Icon").skin=this.$icon:(this._ImgChild("Icon").size(null,null),this._ImgChild("Icon").scale(.9,.9),this._ImgChild("Icon").skin=V._AllClothes._ins().getGeneralIcon(this.$name))),this.$complete?this._ImgChild("Mask").visible=this._ImgChild("AdsSign").visible=!1:this._ImgChild("Mask").visible=this._ImgChild("AdsSign").visible=!0}}e.DressingRoom=class extends h._SceneBase{lwgOnAwake(){H.TAPoint(Y.PageShow,"changepage"),M._Scene._ins().openMirror(this._ImgVar("MirrorSurface"));const e=V._AllClothes._ins().collectDIY();V._AllClothes._ins()._List=this._ListVar("List"),V._AllClothes._ins()._listRenderScript=a,V._AllClothes._ins()._listArray=V._AllClothes._ins()._getArrByClassify(V._AllClothes._ins()._classify.DIY),e.length>0?this.switchClassify(this._ImgVar("DIY")):this.switchClassify(this._ImgVar("Dress"))}lwgAdaptive(){this._SpriteVar("Mirror").x=.234*Laya.stage.width}lwgOnStart(){V._AllClothes._ins()._List.refresh(),this.UI=new te(this._Owner),f._frameOnce(10,this,()=>{this.UI.operationAppear(()=>{this.UI.btnCompleteAppear(null,400)}),this.UI.btnBackAppear(null,200)}),this.UI.btnCompleteClick=(()=>{this.UI.operationVinish(()=>{M._Scene._ins().closeMirror(),M._Scene._ins().cameraToSprite(this._Owner),Laya.Resource.destroyUnusedResources(),this._openScene("Start",!0,!0),this.UI.btnBackVinish()},200)})}switchClassify(e){let t=[];for(let a=0;a<this._ImgVar("Part").numChildren;a++){const i=this._ImgVar("Part").getChildAt(a),n=i.getChildAt(0);if(e===i)if(i.skin="Game/UI/Common/kuang_fen.png",n.skin=`Game/UI/DressingRoom/PartIcon/${i.name}_s.png`,"DIY"===e.name)t=V._AllClothes._ins()._getArrByClassify(e.name);else{let a=V._AllClothes._ins()._getArrByClassify(V._AllClothes._ins()._classify.General);for(let i=0;i<a.length;i++){const n=a[i];n[V._AllClothes._ins()._otherPro.part]===e.name&&t.push(n)}}else i.skin="Game/UI/Common/kuang_bai.png",n.skin=`Game/UI/DressingRoom/PartIcon/${i.name}.png`;V._AllClothes._ins()._listArray=t}}lwgButton(){for(let e=0;e<this._ImgVar("Part").numChildren;e++){const t=this._ImgVar("Part").getChildAt(e);this._btnUp(t,()=>{this.switchClassify(t)},"no")}}lwgOnDisable(){H.TAPoint(Y.PageLeave,"changepage")}}}(ee||(ee={}));var ie;ee.DressingRoom;!function(e){let t;!function(e){e.close="_MakePattern_close",e.createImg="_MakePattern_createImg"}(t=e._Event||(e._Event={}));class a extends g._Item{constructor(){super(...arguments),this.diffX=0,this.create=!1}$button(){this._btnFour(this._ImgChild("Icon"),e=>{if(!this.$complete)switch(this.$unlockWay){case V._Pattern._ins()._unlockWay.check:P.createHint_Middle("请前往签到页面获取");break;case V._Pattern._ins()._unlockWay.customs:P.createHint_Middle(`制作${this.$conditionNum}件衣服才能获取！`);break;case V._Pattern._ins()._unlockWay.ads:H.ShowReward(()=>{V._Pattern._ins()._checkCondition(this.$name)&&(P.createHint_Middle("恭喜获得新贴图！"),V._Pattern._ins()._setProperty(this.$name,V._Pattern._ins()._property.complete,!0))})}"ads"!==this.$name&&this.$name&&this.$complete?(this.Cancal=!1,this.create=!1,this.diffX=0,this.fX=e.stageX,this._evNotify(t.close)):this.Cancal=!0},e=>{this.Cancal||this.create||(this.diffX=this.fX-e.stageX,this.diffX>=5&&(this._evNotify(t.createImg,[this.$name,this._gPoint]),this.create=!0))},()=>{this.Cancal||(this.create=!0,this._evNotify(t.close))},()=>{this.Cancal||(this.create=!0)})}$render(){if("ads"===this.$name)!this._BoxChild("NativeRoot")&&B._Node.createPrefab(O._list.prefab2D.NativeRoot.prefab,this._Owner),this._LableChild("Mask").visible=this._LableChild("UnlockWay").visible=this._ImgChild("AdsSign").visible=this._ImgChild("Icon").visible=!1;else{if(this.$complete)this._LableChild("Mask").visible=this._ImgChild("AdsSign").visible=this._LableChild("UnlockWay").visible=!1;else{if(this.$unlockWay===V._Pattern._ins()._unlockWay.ads)this._ImgChild("AdsSign").visible=!0,this._LableChild("UnlockWay").visible=!1;else switch(this._LableChild("AdsSign").visible=!1,this._LableChild("UnlockWay").visible=!0,this.$unlockWay){case V._Pattern._ins()._unlockWay.check:this._LableChild("UnlockWay").text="签到",this._LableChild("UnlockWay").fontSize=30;break;case V._Pattern._ins()._unlockWay.customs:this._LableChild("UnlockWay").text=`制作衣服 (${V._Tweeting._ins()._completeNum} /${this.$conditionNum})`,this._LableChild("UnlockWay").fontSize=25}this._LableChild("Mask").visible=!0}this._ImgChild("Icon").visible=!0,this._ImgChild("Icon").gray=!this.$complete,this._BoxChild("NativeRoot")&&this._BoxChild("NativeRoot").destroy(),this.$name?this._ImgChild("Icon").skin=`Pattern/${this.$name}.png`:(this._LableChild("Mask").visible=this._LableChild("UnlockWay").visible=this._ImgChild("AdsSign").visible=this._ImgChild("Icon").visible=!1,this._ImgChild("Icon").skin=null)}}}e._Item=a;e.MakePattern=class extends h._SceneBase{constructor(){super(...arguments),this.Tex={Img:null,DisImg:null,imgSize:[128,128],wireframeSize:[120,150],touchP:null,diffP:null,dir:"Front",dirType:{Front:"Front",Reverse:"Reverse"},state:"none",stateType:{none:"none",move:"move",scale:"scale",rotate:"rotate",addTex:"addTex"},zOderindex:0,createImg:(e,t)=>{this.Tex.DisImg&&this.Tex.DisImg.destroy(),this.Tex.DisImg=new Laya.Image,this.Tex.Img=new Laya.Image;let a=this._SpriteVar("Ultimately").globalToLocal(t);this.Tex.Img.skin=this.Tex.DisImg.skin=`Pattern/${e}.png`,this.Tex.Img.x=this.Tex.DisImg.x=a.x,this.Tex.Img.y=this.Tex.DisImg.y=a.y,this.Tex.Img.name=e,this.Tex.Img.width=this.Tex.DisImg.width=this.Tex.imgSize[0],this.Tex.Img.height=this.Tex.DisImg.height=this.Tex.imgSize[1],this.Tex.Img.anchorX=this.Tex.Img.anchorY=this.Tex.DisImg.anchorX=this.Tex.DisImg.anchorY=.5,this._SpriteVar("Dispaly").addChild(this.Tex.DisImg),this._SpriteVar("Dispaly").visible=!0,this.Tex.zOderindex++,this.Tex.Img.zOrder=this.Tex.zOderindex},getTex:()=>{let e=this._ImgVar(this.Tex.dirType.Front),t=this._ImgVar(this.Tex.dirType.Reverse);return[e.drawToTexture(e.width,e.height,e.x,e.y+e.height),t.drawToTexture(t.width,t.height,t.x,t.y+t.height)]},fDiffX:0,fDiffY:0,rDiffX:0,rDiffY:0,setImgPos:()=>{let e=this.Tex.setPosArr(),t=[],a=[];for(let i=0;i<e.length;i++){const n=B._3D.rayScanning(M._Scene._ins()._MainCamara,M._Scene._ins()._Owner,new Laya.Vector2(e[i].x,e[i].y),"model");n&&(a.push(n),t.push(e[i]))}if(0!==t.length){const e=a[a.length-1];this._SpriteVar(this.Tex.dir).addChild(this.Tex.Img);let t=this._ImgVar(this.Tex.dir).width,i=this._ImgVar(this.Tex.dir).height,n=B._Point.pointByAngle(M.DIYCloth._ins().ModelTap.transform.position.x-e.point.x,M.DIYCloth._ins().ModelTap.transform.position.z-e.point.z);this.Tex.dir==this.Tex.dirType.Front?this.Tex.Img.x=t-t/180*(n+90):this.Tex.Img.x=-t/180*(n-90);let s=1-(e.point.y-M.DIYCloth._ins().ModelTap.transform.position.y)/B._3D.getMeshSize(this.Tex.dir===this.Tex.dirType.Front?M.DIYCloth._ins().Front:M.DIYCloth._ins().Reverse).y;return this.Tex.Img.y=s*i,this.Tex.dir===this.Tex.dirType.Front?(this.Tex.Img.x+=this.Tex.fDiffX,this.Tex.Img.y+=this.Tex.fDiffY):(this.Tex.Img.x+=this.Tex.rDiffX,this.Tex.Img.y+=this.Tex.rDiffY),!0}return!1},setPosArr:()=>{let e=this._ImgVar("Wireframe").x,t=this._ImgVar("Wireframe").y;return this._ImgVar("Wireframe").width,this._ImgVar("Wireframe").height,[new Laya.Point(e,t)]},checkInside:()=>{let e=this.Tex.setPosArr(),t=!1;for(let a=0;a<e.length;a++)B._3D.rayScanning(M._Scene._ins()._MainCamara,M._Scene._ins()._Owner,new Laya.Vector2(e[a].x,e[a].y),"model")&&(t=!0);return t},getDisGP:()=>this.Tex.DisImg?this._SpriteVar("Dispaly").localToGlobal(new Laya.Point(this.Tex.DisImg.x,this.Tex.DisImg.y)):null,disMove:()=>{this.Tex.DisImg.x+=this.Tex.diffP.x,this.Tex.DisImg.y+=this.Tex.diffP.y;let e=this.Tex.getDisGP();this._ImgVar("Wireframe").pos(e.x,e.y)},move:e=>{this.Tex.disMove(),this._ImgVar("Wireframe").visible=!1,this.Tex.checkInside()&&(this.Tex.setImgPos(),this._ImgVar("Wireframe").visible=!0,this.Tex.state=this.Tex.stateType.addTex,this._SpriteVar("Dispaly").visible=!1)},addTex:e=>{this.Tex.disMove(),this.Tex.setImgPos()||(this._ImgVar("Wireframe").visible=!1,this.Tex.state=this.Tex.stateType.move,this.Tex.Img.x=Laya.stage.width,this._SpriteVar("Dispaly").visible=!0),M.DIYCloth._ins().addTexture2D(this.Tex.getTex())},scale:e=>{if(!this.Tex.Img)return;const t=this._ImgVar("Wireframe").globalToLocal(new Laya.Point(e.stageX,e.stageY));this._ImgVar("Wireframe").width=this._ImgVar("WConversion").x=t.x,this._ImgVar("Wireframe").height=this._ImgVar("WConversion").y=t.y;const a=this._Owner.localToGlobal(new Laya.Point(this._ImgVar("Wireframe").x,this._ImgVar("Wireframe").y));this.Tex.Img.rotation=this.Tex.DisImg.rotation=this._ImgVar("Wireframe").rotation=B._Point.pointByAngle(e.stageX-a.x,e.stageY-a.y)+45;const i=this._ImgVar("Wireframe").width-this.Tex.wireframeSize[0],n=this._ImgVar("Wireframe").height-this.Tex.wireframeSize[1];this.Tex.DisImg.width=this.Tex.Img.width=this.Tex.imgSize[0]+i,this.Tex.DisImg.height=this.Tex.Img.height=this.Tex.imgSize[1]+n,M.DIYCloth._ins().addTexture2D(this.Tex.getTex())},rotate:e=>{V._Guide._complete&&(this.Tex.diffP.x>0?M.DIYCloth._ins().rotate(1):M.DIYCloth._ins().rotate(0))},again:()=>{B._Node.removeAllChildren(this._SpriteVar("Front")),B._Node.removeAllChildren(this._SpriteVar("Reverse")),this.Tex.turnFace(),M.DIYCloth._ins().addTexture2D(this.Tex.getTex())},none:()=>{},operation:e=>{this.Tex.touchP&&(this.Tex.diffP=new Laya.Point(e.stageX-this.Tex.touchP.x,e.stageY-this.Tex.touchP.y),this.Tex[this.Tex.state](e),this.Tex.touchP=new Laya.Point(e.stageX,e.stageY))},frameRestore:()=>{this._ImgVar("Wireframe").rotation=0,this._ImgVar("Wireframe").visible=!1,this._ImgVar("Wireframe").width=this.Tex.wireframeSize[0],this._ImgVar("Wireframe").height=this.Tex.wireframeSize[1],this._ImgVar("WConversion").x=this._ImgVar("Wireframe").width,this._ImgVar("WConversion").y=this._ImgVar("Wireframe").height,this.Tex.Img=null},close:()=>{this.Tex.frameRestore(),this.Tex.DisImg&&this.Tex.DisImg.destroy(),this.Tex.Img=null,this.Tex.Img&&this.Tex.Img.destroy(),this.Tex.Img=null,this.Tex.state=this.Tex.stateType.none,this.Tex.touchP=null,M.DIYCloth._ins().addTexture2D(this.Tex.getTex())},turnFace:e=>{let t,a;this.Tex.dir==this.Tex.dirType.Front?(t=2*Math.abs(M.DIYCloth._ins().Present.transform.localRotationEulerY-180),a=180):(t=2*Math.abs(M.DIYCloth._ins().Present.transform.localRotationEulerY),a=0),x.rotateTo(M.DIYCloth._ins().Present,new Laya.Vector3(0,a,0),t,this,null,()=>{e&&e()})},btn:()=>{this._btnFour(this._ImgVar("WConversion"),e=>{e.stopPropagation(),this.Tex.state=this.Tex.stateType.scale},null,e=>{e.stopPropagation(),this.Tex.state=this.Tex.stateType.addTex,V._Guide._complete||(V._Guide.MakePatternState===V._Guide.MakePatternStateType.Frame1?this._evNotify(R.Guide.MakePatternTurnFace,[this._ImgVar("BtnTurnFace")._lwg.gPoint.x,this._ImgVar("BtnTurnFace")._lwg.gPoint.y]):V._Guide.MakePatternState===V._Guide.MakePatternStateType.Frame2&&this._evNotify(R.Guide.MakePatternBtnCom,[this._ImgVar("BtnComplete")._lwg.gPoint.x,this._ImgVar("BtnComplete")._lwg.gPoint.y]))}),this._btnUp(this._ImgVar("BtnTurnFace"),e=>{if(!V._Guide._complete){if(V._Guide.MakePatternState!==V._Guide.MakePatternStateType.TurnFace)return;this._evNotify(R.Guide.MakePatternPattern2)}e.stopPropagation(),this.Tex.frameRestore(),this.Tex.dir===this.Tex.dirType.Front?(this.Tex.dir=this.Tex.dirType.Reverse,this._ImgVar("BtnTurnFace").skin="Game/UI/MakePattern/fan.png",H.TAPoint(Y.BtnClick,"Amian")):(this.Tex.dir=this.Tex.dirType.Front,this._ImgVar("BtnTurnFace").skin="Game/UI/MakePattern/zheng.png",H.TAPoint(Y.BtnClick,"Bmian")),this.Tex.turnFace(),this._ImgVar("Wireframe").visible=!1,this.Tex.state=this.Tex.stateType.rotate}),V._Guide._complete&&(this._btnUp(this._ImgVar("WClose"),e=>{e.stopPropagation(),this.Tex.close()}),this._btnFour(this._ImgVar("BtnL"),e=>{this.Tex.frameRestore(),this.Tex.state=this.Tex.stateType.rotate,f._frameLoop(1,this._ImgVar("BtnL"),()=>{M.DIYCloth._ins().rotate(0)})},null,()=>{Laya.timer.clearAll(this._ImgVar("BtnL"))},()=>{Laya.timer.clearAll(this._ImgVar("BtnL"))}),this._btnFour(this._ImgVar("BtnR"),e=>{this.Tex.frameRestore(),this.Tex.state=this.Tex.stateType.rotate,f._frameLoop(1,this._ImgVar("BtnR"),()=>{M.DIYCloth._ins().rotate(1)})},null,()=>{Laya.timer.clearAll(this._ImgVar("BtnR"))},()=>{Laya.timer.clearAll(this._ImgVar("BtnR"))}))}}}lwgOnAwake(){H.TAPoint(Y.PageShow,"tiehuapage"),H.TAPoint(Y.LevelStart,`level_${M.DIYCloth._ins().Present.name}`),V._Pattern._ins()._List=this._ListVar("List"),V._Pattern._ins()._getProperty("newYear1",V._Pattern._ins()._property.complete)||!V._Guide._complete?(this.switchClassify("newYear"),V._Pattern._ins()._listArray=V._Pattern._ins().newYearArr):(this.switchClassify("basic"),V._Pattern._ins()._listArray=V._Pattern._ins().basicArr),V._Pattern._ins()._List.scrollBar.touchScrollEnable=!1,V._Pattern._ins()._listRenderScript=a,this.Tex.fDiffX=V._PatternDiff._ins().fDiffX,this.Tex.fDiffY=V._PatternDiff._ins().fDiffY,this.Tex.rDiffX=V._PatternDiff._ins().rDiffX,this.Tex.rDiffY=V._PatternDiff._ins().rDiffY}lwgOpenAniAfter(){f._frameOnce(60,this,()=>{!V._Guide._complete&&this._openScene("Guide",!1,!1,()=>{this._evNotify(R.Guide.MakePatternChooseClassify)})})}lwgAdaptive(){this._adaWidth([this._ImgVar("BtnR"),this._ImgVar("BtnL")])}lwgOnStart(){const e=V._DIYClothes._ins().getPitchTexBasicUrl();this._ImgVar("Front").loadImage(e,Laya.Handler.create(this,()=>{this._ImgVar("Reverse").loadImage(e,Laya.Handler.create(this,()=>{M.DIYCloth._ins().addTexture2D(this.Tex.getTex())}))})),I.fadeOut(this._ImgVar("BtnL"),0,1,200,200),I.fadeOut(this._ImgVar("BtnR"),0,1,200,200),this.UI=new te(this._Owner),this.UI.BtnAgain.pos(86,630),f._frameOnce(10,this,()=>{this.UI.operationAppear(()=>{this.UI.btnCompleteAppear(null,400),this.UI.btnTurnFaceAppear(null,200)}),this.UI.btnBackAppear(null,200),this.UI.btnRollbackAppear(null,600),this.UI.btnAgainAppear(null,800)}),this._SpriteVar("Front").y=this._ImgVar("Reverse").y=this._SpriteVar("Front").height=this._ImgVar("Reverse").height=M.DIYCloth._ins().texHeight}switchClassify(e){if(V._Guide._complete||"basic"===e)for(let t=0;t<this._ImgVar("Part").numChildren;t++){const a=this._ImgVar("Part").getChildAt(t),i=a.getChildAt(0);e===a.name?(V._Guide._complete||V._Guide.MakePatternState===V._Guide.MakePatternStateType.ChooseClassify&&this._evNotify(R.Guide.MakePatternPattern1),a.scale(1.1,1.1),V._Pattern._ins()._listArray=V._Pattern._ins()[`${a.name}Arr`],V._Pattern._ins()._pitchClassify=a.name,a.skin="Game/UI/Common/kuang_fen.png",i.color="#fdfff4",i.stroke=5):(a.skin="Game/UI/Common/kuang_bai.png",a.scale(1,1),i.color="#a84f47",i.stroke=0)}}lwgButton(){for(let e=0;e<this._ImgVar("Part").numChildren;e++){const t=this._ImgVar("Part").getChildAt(e);this._btnUp(t,()=>{this.switchClassify(t.name)},"no")}this.Tex.btn(),this.UI.btnCompleteClick=(()=>{if(!V._Guide._complete){if(V._Guide.MakePatternState!==V._Guide.MakePatternStateType.BtnCom)return;this._evNotify(R.Guide.closeGuide)}this.Tex.frameRestore(),this.Tex.dir=this.Tex.dirType.Front,this.Tex.turnFace(()=>{M._Scene._ins().cameraToSprite(this._Owner),f._frameOnce(5,this,()=>{V._Tweeting._ins()._photo.take(this._Owner,1)}),this.texStorage(),I.fadeOut(this._ImgVar("BtnL"),1,0,200),I.fadeOut(this._ImgVar("BtnR"),1,0,200),this.UI.operationVinish(()=>{this.UI.btnBackVinish(null,200),this.UI.btnBackVinish(),this.UI.btnRollbackVinish(),this.UI.btnAgainVinish(()=>{});var e=()=>{M._Scene._ins().cameraToSprite(this._Owner),j._whereFrom="MakePattern",this._openScene("Start",!0,!0)};TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.OPPO_AppRt?Q._screenShootByRatio(t=>{Q._picSave(t.tempFilePath,M.DIYCloth._ins().name),e()},.28,null,.72,null,null,.1):e()},200)})}),V._Guide._complete&&(this.UI.btnRollbackClick=(()=>{M._Scene._ins().cameraToSprite(this._Owner),this._openScene("MakeTailor",!0,!0)}),this.UI.btnAgainClick=(()=>{this.Tex.again()}))}lwgEvent(){this._evReg(t.createImg,(e,t)=>{this.Tex.state=this.Tex.stateType.move,this.Tex.createImg(e,t),this.Tex.turnFace()}),this._evReg(t.close,()=>{V._Guide._complete&&(this.Tex.close(),this.Tex.state=this.Tex.stateType.none)})}texStorage(){const e=[];var t=e=>({name:e.name,x:e.x,y:e.y,width:e.width,height:e.height,rotation:e.rotation,anchorX:e.anchorX,anchorY:e.anchorY,zOrder:e.zOrder});for(let a=0;a<this._SpriteVar("Front").numChildren&&!(a>20);a++){const i=this._SpriteVar("Front").getChildAt(a);e.push(t(i))}const a=[];for(let e=0;e<this._SpriteVar("Reverse").numChildren&&!(e<20);e++){const i=this._SpriteVar("Reverse").getChildAt(e);a.push(t(i))}m._array(`${M.DIYCloth._ins().name}/${V._DIYClothes._ins()._otherPro.texF}`).value=e,m._array(`${M.DIYCloth._ins().name}/${V._DIYClothes._ins()._otherPro.texR}`).value=a,z._whereFrom=this._Owner.name}onStageMouseDown(e){if(this.Tex.touchP=new Laya.Point(e.stageX,e.stageY),e.stageX>Laya.stage.width-this.UI.Operation.width)this.slideFY=e.stageY;else{if(!V._Guide._complete)return;new Laya.Point(e.stageX,e.stageY).distance(this._ImgVar("Wireframe").x,this._ImgVar("Wireframe").y)>this._ImgVar("Wireframe").width/2+50?this._ImgVar("Wireframe").visible=!1:this.Tex.Img?this._ImgVar("Wireframe").visible=!0:this._ImgVar("Wireframe").visible=!1}}onStageMouseMove(e){if(this.Tex.operation(e),e.stageX>Laya.stage.width-this.UI.Operation.width){if(!V._Guide._complete)return;if(this.slideFY){let t=this.slideFY-e.stageY,a=V._Pattern._ins()._List.startIndex;Math.abs(t)>25&&(t>0&&V._Pattern._ins()._List.tweenTo(a+1,100),t<0&&V._Pattern._ins()._List.tweenTo(a-1,100),this.slideFY=null)}}else this.slideFY=null}onStageMouseUp(e){this.slideFY=null,e.stageX>Laya.stage.width-this.UI.Operation.width?this._evNotify(t.close):this.Tex.checkInside()?V._Guide._complete||(V._Guide.MakePatternState===V._Guide.MakePatternStateType.Pattern1?this._evNotify(R.Guide.MakePatternFrame1,[this._ImgVar("Wireframe")]):V._Guide.MakePatternState===V._Guide.MakePatternStateType.Pattern2&&this._evNotify(R.Guide.MakePatternFrame2,[this._ImgVar("Wireframe")])):this.Tex.close()}lwgOnDisable(){H.TAPoint(Y.PageLeave,"tiehuapage"),H.TAPoint(Y.LevelFinish,`level_${M.DIYCloth._ins().Present.name}`)}}}(ie||(ie={}));var ne,se;ie.MakePattern;!function(e){let t={arr:[],take:(e,a)=>{t.arr[a]&&t.arr[a].destroy(),t.arr[a]=e.drawToTexture(Laya.stage.width,Laya.stage.height,0,0)},clear:()=>{for(let e=0;e<t.arr.length;e++){const a=t.arr[e];a&&a.destroy()}t.arr=[],Laya.Resource.destroyUnusedResources()}};e._attention={get value(){return m._num("_MakePattern/attention",null,180).value},set value(e){m._num("_MakePattern/attention").value=e}},e._completeNum={get value(){return m._num("_MakePattern/completeNum").value},set value(e){m._num("_MakePattern/completeNum").value=e}},e._forwarded={get num(){return m._num("Tweeting/forwarded",null,B._Number.randomOneBySection(75,125,!0)).value},set num(e){m._num("Tweeting/forwarded").value=e}},e._comment={get num(){return m._num("Tweeting/Comment",null,B._Number.randomOneBySection(100,150,!0)).value},set num(e){m._num("Tweeting/Comment").value=e}},e._like={get num(){return m._num("Tweeting/like",null,B._Number.randomOneBySection(200,250,!0)).value},set num(e){m._num("Tweeting/like").value=e}},e._brief={getThree:()=>B._Array.randomGetOut(e._brief.all,3),getOne:()=>B._Array.randomGetOut(e._brief.all),all:["世界很烦，但我要很可爱","生活就是见招拆招","忠于自己，热爱生活","我很有个性，但我不想签名","T^T\t","你最怕什么","宁缺毋滥","围脖红人","剪裁大师","剪裁王"]},e._mainBody={getOne:()=>B._Array.randomGetOne(e._mainBody.all),all:["不管几岁，反正少女心万岁≧▽≦","此处可爱贩卖机  24小时正常营业\t","欢迎光临我的手工小店，我会制作更多大家喜欢的衣服哦","现在一定有个很可爱的人，在看我的这句话","辛辛苦苦做了好久，结果很满意，好喜欢哦","大家觉得我这套衣服怎么样","闲来无事，做了一套衣服，感觉还不错","我觉得吧，这次发挥的一般，下次会更好，敬请期待","浮游于这个世界所产生的热能 也比不过喜欢你的热忱\t","时间会把对你最好的人留在最后，毕竟喜欢是一阵风，而爱是细水长流","人生难免遇上些许不如意，翻过这一页就会发现生活处处有美好","也许，只有制作衣服的时候，才会让自己的心静下来","讲道理，我觉得我的手艺还不错，我是不是可以考虑开一家店了？","技术还不太行，需要多多磨炼，再努力做几件衣服吧~","今天心情好，早早地起来做衣服了，我是可爱的小裁缝~啦啦啦~","给妈妈做了件衣服，妈妈说好喜欢~","还有什么可以比做自己喜欢的事更加让人开心的呢~","一些些自己的小设计，就可以让一件衣服焕发生机","也许只是一瞬间的灵感，我将会付之于行动来实现它","对于剪裁和搭配的热情，我不会输给任何人的~","加油，我会成为最好的设计师的，我会爆火！~","坚持不懈，认真对待自己的，努力成为最好的设计师！~","感谢大家的支持，我会努力的"]},e._reply={getTow:()=>B._Array.randomGetOut(e._reply.all,2),all:["加油，坚持，我看好你哦","好好看，我也想要","那么请问在哪里可以买到呢","有一说一，真的还可以","感觉，你做的越来越好了","我也想和你一样拥有如此灵巧的双手","真的好看，加油","我的天，这也太美了吧","OMG，买他买他！~","沙发~~","点赞这条回复，你会好运连连","求翻牌，你这也太美了吧","太适合仙女了吧","我也想学学，能教教我吗","感觉你能火，坚持，加油","感觉没有什么可以难倒你","我想和你一样心灵手巧","我的天，这是真的太好看了"," U1S1，是真漂亮~","我觉得你还可以更优秀~","不是我杠精，你这个真的，真可以，没的杠","好看是真好看，难也是真的难","感觉我学不会，咋办，好美","仙女穿起来也太好看了吧","花痴脸~这也太美了","坚持，我看好你哦，感觉你能火","天哪，这也太美了吧"]};e.Tweeting=class extends h._SceneBase{constructor(){super(...arguments),this.Main={Owner:null,PlayerName:null,AttentionNum:null,FansNum:null,AroductionNum:null,Publishontent:null,BtnChoosePhotos:null,MainBody:null,Body:null,Hot:null,Head:null,Content:null,Bg:null,init:()=>{H.TAPoint(Y.BtnShow,"photo_choose"),this.Main.Owner=this._BoxVar("Main"),this.Main.Content=this.Main.Owner.getChildByName("Content"),this.Main.Bg=this.Main.Owner.getChildByName("Bg"),this.Main.MainBody=this.Main.Content.getChildByName("MainBody"),this.Main.Body=this.Main.MainBody.getChildByName("Body"),this.Main.Body.text=e._mainBody.getOne(),this._LabelVar("PlayerName").text=J._name.value,this.Main.Head=this.Main.Content.getChildByName("Head"),this.Main.Head.getChildByName("PlayerIcon").getChildByName("Icon").skin="Game/UI/Ranking/IconSkin/Ava.png",e._attention.value+=B._Number.randomOneInt(50,100),this.Main.Head.getChildByName("AttentionNum").text=e._attention.value.toString(),this.Main.Head.getChildByName("FansNum").text=V._Ranking._ins()._getPitchProperty(V._Ranking._ins()._otherPro.fansNum),e._completeNum.value++,this.Main.Head.getChildByName("CompleteNum").text=e._completeNum.value.toString(),this.Main.Hot=this.Main.Content.getChildByName("Hot");const a=B._Number.randomCountBySection(20,50,3);a.sort();const i=e._brief.getThree(),n=B._Number.randomCountBySection(1,20,3);for(let e=0;e<3;e++){const t=this.Main.Hot.getChildByName(`Rank${e+1}`),s=t.getChildByName("Name"),o=t.getChildByName("Tag"),r=t.getChildByName("Brief"),l=t.getChildByName("Heat"),h=t.getChildByName("HeadIcon").getChildByName("Icon"),c=V._Ranking._ins()._arr[e];s.text=c[V._Ranking._ins()._property.name],o.skin=`Game/UI/Tweeting/Main/${e+1}.png`,r.text=i[e],l.text=`本周热度 ${a[e]}万`,h.skin=`Game/UI/Tweeting/Head/${n[e]}.jpg`}this.Main.BtnChoosePhotos=this.Main.Content.getChildByName("BtnChoosePhotos");for(let e=0;e<3;e++){const a=this.Main.BtnChoosePhotos.getChildByName(`Photo${e+1}`).getChildAt(0);t.arr[e]&&(a.texture=t.arr[e])}this._btnUp(this.Main.BtnChoosePhotos,()=>{H.TAPoint(Y.BtnClick,"photo_choose"),this.ChoosePhotos.init(),this.ChoosePhotos.open()},"null"),this.Main.open()},open:()=>{this.Main.Head.pos(this._Owner.width-(this.Main.Head.width+57),this.Main.Head.y),this.Main.Head.scale(0,0),this.Main.Hot.pos(this._Owner.width-(this.Main.Hot.width+41),this.Main.Hot.y),this.Main.Hot.scale(0,0),this.Main.BtnChoosePhotos.size(this._Owner.width-this.Main.BtnChoosePhotos.x-(this._Owner.width-this.Main.Hot.x)-30,this.Main.BtnChoosePhotos.height),this.Main.BtnChoosePhotos.scale(0,0);const e=this.Main.BtnChoosePhotos.getChildByName("PhotoAds"),t=this.Main.BtnChoosePhotos.getChildByName("Photo1"),a=this.Main.BtnChoosePhotos.getChildByName("Photo2"),i=this.Main.BtnChoosePhotos.getChildByName("Photo3");e.x=this.Main.BtnChoosePhotos.width/2-260-30,t.x=this.Main.BtnChoosePhotos.width/2-130-10,a.x=this.Main.BtnChoosePhotos.width/2+10,i.x=this.Main.BtnChoosePhotos.width/2+130+30,this.Main.MainBody.size(this._Owner.width-this.Main.BtnChoosePhotos.x-(this._Owner.width-this.Main.Hot.x)-50,this.Main.MainBody.height),this.Main.MainBody.scale(0,0),this._ImgVar("BtnSet").size(0,0);const n=this.Main.Content.getChildByName("Top");n.size(this._Owner.width-100,n.height),n.scale(0,0),G._dialogOpenFadeOut(this.Main.Content,null,()=>{I.scale(n,0,0,1,1,1.5*this.baseTime,1*this.baseDelay),I.scale(this._ImgVar("BtnSet"),0,0,1,1,1.5*this.baseTime,2*this.baseDelay),I.scale(this.Main.MainBody,0,0,1,1,1.5*this.baseTime,3*this.baseDelay),I.scale(this.Main.Head,0,0,1,1,1.5*this.baseTime,4*this.baseDelay),I.scale(this.Main.Hot,0,0,1,1,1.5*this.baseTime,5*this.baseDelay),B._Node.changePivot(this.Main.BtnChoosePhotos,this.Main.BtnChoosePhotos.width/2,this.Main.BtnChoosePhotos.height/2),I.bombs_Appear(this.Main.BtnChoosePhotos,0,1,1.08,0,2*this.baseTime,()=>{f._once(300,this,()=>{!V._Guide._complete&&this._openScene("Guide",!1,!1,()=>{const e=this.Main.BtnChoosePhotos.localToGlobal(new Laya.Point(a.x+65,a.y+65)),t=this.Main.Content.localToGlobal(new Laya.Point(this.Main.BtnChoosePhotos.x,this.Main.BtnChoosePhotos.y));this._evNotify(R.Guide.TweetingBtnChoosePhoto,[t.x,t.y,e.x,e.y])})}),G._fadeHint(this.Main.BtnChoosePhotos.getChildByName("HintPic"))},7*this.baseDelay)})}},this.baseTime=150,this.baseDelay=200,this.ChoosePhotos={Owner:null,Content:null,Bg:null,BtnSend:null,photoIndex:0,init:()=>{this.ChoosePhotos.Owner=this._BoxVar("ChoosePhotos"),this.ChoosePhotos.Content=this.ChoosePhotos.Owner.getChildByName("Content"),this.ChoosePhotos.Bg=this.ChoosePhotos.Owner.getChildByName("Bg"),this.ChoosePhotos.BtnSend=this.ChoosePhotos.Content.getChildByName("BtnSend");const e=[this.ChoosePhotos.Content.getChildByName("Photo1"),this.ChoosePhotos.Content.getChildByName("Photo2"),this.ChoosePhotos.Content.getChildByName("Photo3")];for(let a=0;a<e.length;a++){const i=e[a],n=i.getChildByName("Pic");t.arr[a]&&(n.texture=t.arr[a]),this._btnUp(i,()=>{for(let t=0;t<e.length;t++){const a=e[t],n=a.getChildByName("Tick");if(i==a){a.scale(1.05,1.05),this.ChoosePhotos.photoIndex=t,n.visible=!0;const e=this.ChoosePhotos.Content.localToGlobal(new Laya.Point(this.ChoosePhotos.BtnSend.x,this.ChoosePhotos.BtnSend.y));!V._Guide._complete&&this._evNotify(R.Guide.TweetingBtnSend,[e.x,e.y])}else a.scale(1,1),n.visible=!1}this.ChoosePhotos.BtnSend.skin="Game/UI/Tweeting/ChoosePhotos/anniu_fasong.png"},"null")}this._btnUp(this.ChoosePhotos.BtnSend,()=>{"Game/UI/Tweeting/ChoosePhotos/anniu_fasong.png"==this.ChoosePhotos.BtnSend.skin?(this.ChoosePhotos.close(),!V._Guide._complete&&this._evNotify(R.Guide.vanishGuide)):P.createHint_Middle("还未选择照片哦！")})},open:()=>{this.ChoosePhotos.Owner.visible=!0,G._dialogOpenPopup(this.ChoosePhotos.Content,this.ChoosePhotos.Bg,()=>{const e=this.ChoosePhotos.Content.getChildByName("Photo1"),t=this.ChoosePhotos.Content.localToGlobal(new Laya.Point(e.x,e.y));!V._Guide._complete&&this._evNotify(R.Guide.TweetingChoosePhoto,[t.x,t.y])})},close:()=>{G._dialogCloseFadeOut(this.ChoosePhotos.Content,this.ChoosePhotos.Bg,()=>{this.ChoosePhotos.Owner.removeSelf(),this.Dynamic.open()})}},this.Dynamic={Owner:null,Content:null,Head:null,Photo:null,Brief:null,Body:null,PlayerName:null,Middle:null,Collect:null,Forwarded:null,Comment:null,Like:null,Bottom:null,Reply1:null,Reply1Body:null,Reply2:null,Reply2Body:null,init:()=>{this.Dynamic.Owner=this._BoxVar("Dynamic"),this.Dynamic.Owner.visible=!0,this.Dynamic.Content=this.Dynamic.Owner.getChildByName("Content"),this.Dynamic.Head=this.Dynamic.Content.getChildByName("Head"),this.Dynamic.Head.width=this._Owner.width-160,this.Dynamic.Head.getChildByName("HeadIcon").getChildAt(0).skin="Game/UI/Ranking/IconSkin/Ava.png",this.Dynamic.Photo=this.Dynamic.Head.getChildByName("Photo"),this.Dynamic.Brief=this.Dynamic.Head.getChildByName("Brief"),this.Dynamic.Brief.text=e._brief.getOne()[0].toString(),this.Dynamic.PlayerName=this.Dynamic.Head.getChildByName("PlayerName"),this.Dynamic.PlayerName.text=J._name.value,this.Dynamic.Middle=this.Dynamic.Content.getChildByName("Middle"),this.Dynamic.Middle.width=this._Owner.width-160,this.Dynamic.Collect=this.Dynamic.Middle.getChildByName("Collect"),this.Dynamic.Collect.x=0*(this.Dynamic.Middle.width-240)/4+120,e._forwarded.num+=50,this.Dynamic.Forwarded=this.Dynamic.Middle.getChildByName("Forwarded"),this.Dynamic.Forwarded.getChildAt(0).text=e._forwarded.num.toString(),this.Dynamic.Forwarded.x=1*(this.Dynamic.Middle.width-240)/4+120,e._comment.num+=50,this.Dynamic.Comment=this.Dynamic.Middle.getChildByName("Comment"),this.Dynamic.Comment.getChildAt(0).text=e._comment.num.toString(),this.Dynamic.Comment.x=2*(this.Dynamic.Middle.width-240)/4+120,e._like.num+=100,this.Dynamic.Like=this.Dynamic.Middle.getChildByName("Like"),this.Dynamic.Like.getChildAt(0).text=e._like.num.toString(),this.Dynamic.Like.x=3*(this.Dynamic.Middle.width-240)/4+120,this.Dynamic.Bottom=this.Dynamic.Content.getChildByName("Bottom"),this.Dynamic.Bottom.width=this._Owner.width-160;const t=B._Number.randomCountBySection(1,20,2),a=V._Ranking._ins()._randomCountObj(2);for(let e=0;e<2;e++){const i=this.Dynamic.Bottom.getChildByName(`Reply${e+1}`);i.getChildByName("HeadIcon").getChildAt(0).skin=`Game/UI/Tweeting/Head/${t[e]}.jpg`,i.y+=500;const n=i.getChildByName("Body"),s=i.getChildByName("Time");0==e?(this.Dynamic.Reply1=i,n.text=`${a[0].name}: `,s.text=`${y._date.month}月${y._date.date}日    ${y._date.hours}:${y._date.minutes-1>0?0:y._date.minutes-1}`,this.Dynamic.Reply1Body=n):(s.text=`${y._date.month}月${y._date.date}日    ${y._date.hours}:${y._date.minutes}`,this.Dynamic.Reply2=i,n.text=`${a[1].name}: `,this.Dynamic.Reply2Body=n)}this.Dynamic.Head.scale(0,0),this.Dynamic.Middle.scale(0,0),this.Dynamic.Bottom.scale(0,0)},open:()=>{this.Dynamic.init(),this.Dynamic.Photo.texture=t.arr[this.ChoosePhotos.photoIndex],G._dialogOpenFadeOut(this.Dynamic.Content,null,()=>{I.scale(this.Dynamic.Head,0,0,1,1,2*this.baseTime,1.5*this.baseDelay,()=>{this.Dynamic.bodyTextAppear(()=>{I.scale(this.Dynamic.Middle,0,0,1,1,2*this.baseTime,1.5*this.baseDelay,()=>{I.scale(this.Dynamic.Bottom,0,0,1,1,2*this.baseTime,1.5*this.baseDelay,()=>{this.Dynamic.replyAppear()})})})})})},bodyTextAppear:e=>{const t=this.Dynamic.Head.getChildByName("Body");G._charactersEffect(t,this.Main.Body.text,()=>{e()})},replyAppear:()=>{const t=e._reply.getTow();I.move(this.Dynamic.Reply1,this.Dynamic.Reply1.x,this.Dynamic.Reply1.y-500,500,()=>{G._charactersEffect(this.Dynamic.Reply1Body,t[0],()=>{const e=this.Dynamic.Reply1.getChildByName("Like").getChildByName("Num"),a=Math.round(B._Number.randomOneBySection(200,5e3,!0)/500);let i=0;f._frameNumLoop(1,80,this,()=>{i+=a,e.text=i.toString()}),I.move(this.Dynamic.Reply2,this.Dynamic.Reply2.x,this.Dynamic.Reply2.y-500,80,()=>{G._charactersEffect(this.Dynamic.Reply2Body,t[1],()=>{const e=this.Dynamic.Reply2.getChildByName("Like").getChildByName("Num"),t=Math.round(B._Number.randomOneBySection(200,5e3,!0)/80);let a=0;f._frameNumLoop(1,80,this,()=>{a+=t,e.text=a.toString()},()=>{f._frameOnce(60,this,()=>{this.GetFans.open()})})})})})})},close:()=>{G._dialogCloseFadeOut(this.Dynamic.Content,null,()=>{this.Dynamic.Owner.removeSelf(),this.GetFans.open()})}},this.GetFans={Owner:null,Content:null,Bg:null,BtnOk:null,BtnDouble:null,init:()=>{H.TAPoint(Y.BtnShow,"ADrank"),this.GetFans.Owner=this._BoxVar("GetFans"),this.GetFans.Owner.visible=!0,this.GetFans.Content=this.GetFans.Owner.getChildByName("Content");const e=V._Ranking._ins()._getPitchObj(),t=B._Number.randomOneInt(115,383);e.fansNum+=t,this.GetFans.Content.getChildByName("Fans").getChildByName("Num").value=t.toString(),this.GetFans.Bg=this.GetFans.Content.getChildByName("Bg"),this.GetFans.BtnOk=this.GetFans.Content.getChildByName("BtnOk"),this.GetFans.BtnDouble=this.GetFans.Content.getChildByName("BtnDouble"),this._btnUp(this.GetFans.BtnOk,()=>{this.GetFans.close(),!V._Guide._complete&&this._evNotify(R.Guide.closeGuide)});var a=()=>{e.fansNum+=t,this.GetFans.close(),P.createHint_Middle("太厉害了，涨粉翻倍了！")};this._btnUp(this.GetFans.BtnDouble,()=>{if(!V._Guide._complete)return this._evNotify(R.Guide.closeGuide),void a();H.TAPoint(Y.BtnClick,"ADrank"),H.ShowReward(()=>{a()})})},open:()=>{this.GetFans.init(),G._dialogOpenPopup(this.GetFans.Content,this.GetFans.Bg,()=>{F._interfacePointJet();const e=this.GetFans.Content.localToGlobal(new Laya.Point(this.GetFans.BtnDouble.x,this.GetFans.BtnDouble.y));!V._Guide._complete&&this._evNotify(R.Guide.TweetingBtnDoubleFans,[e.x,e.y]),f._loop(2e3,this,()=>{I.bomb_LeftRight(this.GetFans.BtnDouble,1.1,250)},!0)})},close:()=>{G._dialogCloseFadeOut(this.GetFans.Content,null,()=>{z._whereFrom="Tweeting",t.clear(),G._dialogCloseFadeOut(this._Owner,null,()=>{this._openScene("Ranking"),V._Guide._complete||(V._Guide._complete=!0,this._evNotify(R.Guide.StartOtherBtnClick))})})}}}lwgOnAwake(){H.TAPoint(Y.PageShow,"weibopage"),this.Main.init()}lwgCloseAni(){return 100}lwgOnDisable(){H.TAPoint(Y.PageLeave,"weibopage")}}}(ne||(ne={})),function(e){e.AdsHint=class extends h._SceneBase{setCallBack(e){this.adAction=e}lwgOnEnable(){}lwgOpenAni(){return G._dialogOpenFadeOut(this._ImgVar("Content"),this._ImgVar("Background")),200}lwgButton(){this._btnUp(this._ImgVar("BtnClose"),()=>{this._closeScene()}),this._btnUp(this._ImgVar("BtnConfirm"),()=>{H.ShowReward(this.adAction,null),this._closeScene()})}lwgCloseAni(){return G._dialogCloseFadeOut(this._ImgVar("Content"),this._ImgVar("Background")),200}}}(se||(se={}));var oe,re,le,he,ce;se.AdsHint;class _e{constructor(){this.pkgInfo=[{name:"Game",root:"Game/"},{name:"res",root:"res/"}]}init(){console.log("SubPkg  init"),this.pkgFlag=0,console.log("SubPkg  oppoGame"),this.loadPkg_OPPO()}loadPkg_wx(){if(this.pkgFlag==this.pkgInfo.length)console.log("showLoading");else{let e=this.pkgInfo[this.pkgFlag],t=e.name,a=e.root;Laya.Browser.window.wx.loadSubpackage({name:t,success:e=>{Laya.MiniAdpter.subNativeFiles[t]=a,Laya.MiniAdpter.nativefiles.push(a),this.pkgFlag++,this.loadPkg_wx()},fail:e=>{console.error(`load ${t} err: `,e)}})}}loadPkg_sq(){if(this.pkgFlag==this.pkgInfo.length)console.log("GameInit");else{let e=this.pkgInfo[this.pkgFlag],t=e.name;e.root;Laya.Browser.window.qq.loadSubpackage({name:t,success:e=>{this.pkgFlag++,this.loadPkg_sq()},fail:e=>{console.error(`load ${t} err: `,e)}})}}loadPkg_VIVO(){if(this.pkgFlag==this.pkgInfo.length)console.log("GameInit");else{let e=this.pkgInfo[this.pkgFlag],t=e.name;e.root;Laya.Browser.window.qg.loadSubpackage({name:t,success:e=>{this.pkgFlag++,this.loadPkg_VIVO()},fail:e=>{console.error(`load ${t} err: `,e)}})}}loadPkg_OPPO(){if(console.log("loadPkg_OPPOsssssssss"),this.pkgFlag==this.pkgInfo.length)h._openScene("PreLoad"),console.log("GameInit");else{let e=this.pkgInfo[this.pkgFlag],t=e.name;e.root,Laya.Browser.window.qg.loadSubpackage({name:t,success:e=>{this.pkgFlag++,this.loadPkg_OPPO()},fail:e=>{console.log("123123  "+JSON.stringify(e)),console.log(`load ${t} err: `+JSON.stringify(e))}})}}}!function(e){e.Tweeting_Main=class extends h._SceneBase{lwgOnAwake(){H.TAPoint(Y.PageShow,"weibopage"),H.TAPoint(Y.BtnShow,"photo_choose"),this._LabelVar("BodyText").text=V._Tweeting._ins()._mainBody.getOne(),this._LabelVar("PlayerName").text=J._name.value,this._ImgVar("IconPic").skin="Game/UI/Ranking/IconSkin/Ava.png",V._Tweeting._ins()._attentionNum+=B._Number.randomOneInt(50,100),this._LabelVar("AttentionNum").text=V._Tweeting._ins()._attentionNum.toString(),this._LabelVar("FansNum").text=V._Ranking._ins()._getPitchProperty(V._Ranking._ins()._otherPro.fansNum),V._Tweeting._ins()._completeNum++,V._DIYClothes._ins()._checkConditionUnlockWay(V._DIYClothes._ins()._unlockWay.customs,1),this._LabelVar("CompleteNum").text=V._Tweeting._ins()._completeNum.toString();const e=B._Number.randomCountBySection(20,50,3);e.sort();const t=V._Tweeting._ins()._brief.getThree(),a=B._Number.randomCountBySection(1,20,3);for(let i=0;i<3;i++){const n=this._ImgVar("Hot").getChildByName(`Rank${i+1}`),s=n.getChildByName("Name"),o=n.getChildByName("Tag"),r=n.getChildByName("Brief"),l=n.getChildByName("Heat"),h=n.getChildByName("HeadIcon").getChildByName("Icon"),c=V._Ranking._ins()._arr[i];s.text=c[V._Ranking._ins()._property.name],o.skin=`Game/UI/Tweeting/Main/${i+1}.png`,r.text=t[i],l.text=`本周热度 ${e[i]}万`,h.skin=`Game/UI/Tweeting/Head/${a[i]}.jpg`}for(let e=0;e<3;e++){const t=this._ImgVar("BtnChoosePhotos").getChildByName(`Photo${e+1}`).getChildAt(0);V._Tweeting._ins()._photo.arr[e]&&(t.texture=V._Tweeting._ins()._photo.arr[e])}for(let e=0;e<this._ImgVar("Content").numChildren;e++)this._ImgVar("Content").getChildAt(e).scale(0,0)}lwgAdaptive(){this._ImgVar("Head").pos(this._Owner.width-(this._ImgVar("Head").width+57),this._ImgVar("Head").y),this._ImgVar("Hot").pos(this._Owner.width-(this._ImgVar("Hot").width+41),this._ImgVar("Hot").y),this._ImgVar("BtnChoosePhotos").size(this._Owner.width-this._ImgVar("BtnChoosePhotos").x-(this._Owner.width-this._ImgVar("Hot").x)-30,this._ImgVar("BtnChoosePhotos").height),this._ImgVar("PhotoAds").x=this._ImgVar("BtnChoosePhotos").width/2-260-30,this._ImgVar("Photo1").x=this._ImgVar("BtnChoosePhotos").width/2-130-10,this._ImgVar("Photo2").x=this._ImgVar("BtnChoosePhotos").width/2+10,this._ImgVar("Photo3").x=this._ImgVar("BtnChoosePhotos").width/2+130+30,this._ImgVar("Body").size(this._Owner.width-this._ImgVar("BtnChoosePhotos").x-(this._Owner.width-this._ImgVar("Hot").x)-50,this._ImgVar("Body").height),this._ImgVar("BtnChoosePhotos").scale(0,0),this._ImgVar("BtnSet").size(0,0),this._ImgVar("Top").size(this._Owner.width-100,this._ImgVar("Top").height)}lwgOpenAni(){return G._dialogOpenFadeOut(this._ImgVar("Content"),this._ImgVar("Background"),()=>{I.scale(this._ImgVar("Top"),0,0,1,1,225,200),I.scale(this._ImgVar("BtnSet"),0,0,1,1,225,400),I.scale(this._ImgVar("Body"),0,0,1,1,225,600),I.scale(this._ImgVar("Head"),0,0,1,1,225,800),I.scale(this._ImgVar("Hot"),0,0,1,1,225,1e3),B._Node.changePivot(this._ImgVar("BtnChoosePhotos"),this._ImgVar("BtnChoosePhotos").width/2,this._ImgVar("BtnChoosePhotos").height/2),I.bombs_Appear(this._ImgVar("BtnChoosePhotos"),0,1,1.08,0,300,()=>{f._once(300,this,()=>{this.BtnChoosePhotosClick(),!V._Guide._complete&&this._openScene("Guide",!1,!1,()=>{this._evNotify(R.Guide.TweetingBtnChoosePhoto,[this._ImgVar("BtnChoosePhotos")._lwg.gPoint.x,this._ImgVar("BtnChoosePhotos")._lwg.gPoint.y,this._ImgVar("Photo2")._lwg.gPoint.x+65,this._ImgVar("Photo2")._lwg.gPoint.y+65])})}),G._fadeHint(this._ImgVar("BtnChoosePhotos").getChildByName("HintPic"))},1400)}),1625}BtnChoosePhotosClick(){this._btnUp(this._ImgVar("BtnChoosePhotos"),()=>{H.TAPoint(Y.BtnClick,"photo_choose"),this._openScene("Tweeting_ChoosePhotos",!1)},"null")}lwgButton(){}lwgCloseAni(){return 100}lwgOnDisable(){H.TAPoint(Y.PageLeave,"weibopage")}}}(oe||(oe={})),function(e){e.Tweeting_ChoosePhotos=class extends h._SceneBase{lwgOnAwake(){this.photoArr=[this._ImgVar("Photo1"),this._ImgVar("Photo2"),this._ImgVar("Photo3")];for(let e=0;e<this.photoArr.length;e++){const t=this.photoArr[e].getChildByName("Pic");V._Tweeting._ins()._photo.arr[e]&&(t.texture=V._Tweeting._ins()._photo.arr[e])}}lwgOpenAni(){return G._dialogOpenPopup(this._ImgVar("Content"),this._ImgVar("BackGround"),()=>{!V._Guide._complete&&this._openScene("Guide",!1,!1,()=>{this._evNotify(R.Guide.TweetingChoosePhoto,[this._ImgVar("Photo1")._lwg.gPoint.x,this._ImgVar("Photo1")._lwg.gPoint.y])})})}lwgButton(){for(let e=0;e<this.photoArr.length;e++){const t=this.photoArr[e];this._btnUp(t,()=>{for(let e=0;e<this.photoArr.length;e++){const a=this.photoArr[e],i=a.getChildByName("Tick");if(t==a){a.scale(1.05,1.05),V._Tweeting._ins()._photoIndex=e,i.visible=!0;const t=this._ImgVar("Content").localToGlobal(new Laya.Point(this._ImgVar("BtnSend").x,this._ImgVar("BtnSend").y));!V._Guide._complete&&this._evNotify(R.Guide.TweetingBtnSend,[t.x,t.y])}else a.scale(1,1),i.visible=!1}this._ImgVar("BtnSend").skin="Game/UI/Tweeting/ChoosePhotos/anniu_fasong.png"},"null")}this._btnUp(this._ImgVar("BtnSend"),()=>{"Game/UI/Tweeting/ChoosePhotos/anniu_fasong.png"==this._ImgVar("BtnSend").skin?(!V._Guide._complete&&this._evNotify(R.Guide.closeGuide),this._closeScene()):P.createHint_Middle("还未选择照片哦！")})}lwgCloseAni(){return G._dialogCloseFadeOut(this._ImgVar("Content"),this._ImgVar("BackGround"),()=>{this._openScene("Tweeting_Dynamic",!1)})}lwgOnDisable(){}}}(re||(re={})),function(e){e.Tweeting_Dynamic=class extends h._SceneBase{constructor(){super(...arguments),this.baseTime=150,this.baseDelay=200}lwgOpenAni(){return this._ImgVar("Photo").texture=V._Tweeting._ins()._photo.arr[V._Tweeting._ins()._photoIndex],G._dialogOpenFadeOut(this._ImgVar("Content"),null,()=>{I.scale(this._ImgVar("Head"),0,0,1,1,2*this.baseTime,1.5*this.baseDelay,()=>{this._closeScene("Tweeting_Main"),this.bodyTextAppear(()=>{I.scale(this._ImgVar("Middle"),0,0,1,1,2*this.baseTime,1.5*this.baseDelay,()=>{I.scale(this._ImgVar("Bottom"),0,0,1,1,2*this.baseTime,1.5*this.baseDelay,()=>{this.replyAppear()})})})})}),2*this.baseTime+this.baseDelay}bodyTextAppear(e){const t=this._ImgVar("Head").getChildByName("Body");G._charactersEffect(t,V._Tweeting._ins()._mainBody.present,()=>{e()})}replyAppear(){const e=V._Tweeting._ins()._reply.getTow();I.move(this._ImgVar("Reply1"),this._ImgVar("Reply1").x,this._ImgVar("Reply1").y-500,500,()=>{G._charactersEffect(this._LabelVar("Reply1Body"),e[0],()=>{const t=this._ImgVar("Reply1").getChildByName("Like").getChildByName("Num"),a=Math.round(B._Number.randomOneBySection(200,5e3,!0)/500);let i=0;f._frameNumLoop(1,80,this,()=>{i+=a,t.text=i.toString()}),I.move(this._LabelVar("Reply2"),this._LabelVar("Reply2").x,this._LabelVar("Reply2").y-500,80,()=>{G._charactersEffect(this._LabelVar("Reply2Body"),e[1],()=>{const e=this._LabelVar("Reply2").getChildByName("Like").getChildByName("Num"),t=Math.round(B._Number.randomOneBySection(200,5e3,!0)/80);let a=0;f._frameNumLoop(1,80,this,()=>{a+=t,e.text=a.toString()},()=>{f._frameOnce(60,this,()=>{this._openScene("Tweeting_GetFans",!1)})})})})})})}lwgOnAwake(){this._ImgVar("Head").width=this._Owner.width-160,this._ImgVar("Head").getChildByName("HeadIcon").getChildAt(0).skin="Game/UI/Ranking/IconSkin/Ava.png",this._LabelVar("Brief").text=V._Tweeting._ins()._brief.getOne()[0].toString(),this._LabelVar("PlayerName").text=J._name.value,this._ImgVar("Middle").width=this._Owner.width-160,this._ImgVar("Collect").x=0*(this._ImgVar("Middle").width-240)/4+120,V._Tweeting._ins()._forwardedNum+=50,this._ImgVar("Forwarded").getChildAt(0).text=V._Tweeting._ins()._forwardedNum.toString(),this._ImgVar("Forwarded").x=1*(this._ImgVar("Middle").width-240)/4+120,V._Tweeting._ins()._commentNum+=50,this._ImgVar("Comment").getChildAt(0).text=V._Tweeting._ins()._commentNum.toString(),this._ImgVar("Comment").x=2*(this._ImgVar("Middle").width-240)/4+120,V._Tweeting._ins()._likeNum+=100,this._ImgVar("Like").getChildAt(0).text=V._Tweeting._ins()._likeNum.toString(),this._ImgVar("Like").x=3*(this._ImgVar("Middle").width-240)/4+120,this._ImgVar("Bottom").width=this._Owner.width-160;const e=B._Number.randomCountBySection(1,20,2),t=V._Ranking._ins()._randomCountObj(2);for(let a=0;a<2;a++){const i=this._ImgVar(`Reply${a+1}`);i.getChildByName("HeadIcon").getChildAt(0).skin=`Game/UI/Tweeting/Head/${e[a]}.jpg`,i.y+=500;const n=this._LabelVar(`Reply${a+1}Body`),s=i.getChildByName("Time");0==a?(n.text=`${t[0].name}: `,s.text=`${y._date.month}月${y._date.date}日    ${y._date.hours}:${y._date.minutes-1>0?0:y._date.minutes-1}`):(s.text=`${y._date.month}月${y._date.date}日    ${y._date.hours}:${y._date.minutes}`,n.text=`${t[1].name}: `)}this._ImgVar("Head").scale(0,0),this._ImgVar("Middle").scale(0,0),this._ImgVar("Bottom").scale(0,0)}lwgButton(){this._btnUp(this._ImgVar("Content"),()=>{console.log("防止穿透！")},"null")}lwgCloseAni(){return G._dialogCloseFadeOut(this._ImgVar("Content"))}lwgOnDisable(){}}}(le||(le={})),function(e){e.Tweeting_GetFans=class extends h._SceneBase{constructor(){super(...arguments),this.fansNum=0}lwgOnAwake(){H.TAPoint(Y.BtnShow,"ADrank"),this.pitchObj=V._Ranking._ins()._getPitchObj(),this.fansNum=B._Number.randomOneInt(115,383),this.pitchObj.fansNum+=this.fansNum,this._FontClipVar("FansNum").value=this.fansNum.toString()}lwgOpenAni(){return G._dialogOpenPopup(this._ImgVar("Content"),this._ImgVar("BackGround"),()=>{F._interfacePointJet(),!V._Guide._complete&&this._openScene("Guide",!1,!1,()=>{this._evNotify(R.Guide.TweetingBtnDoubleFans,[this._ImgVar("BtnDouble")._lwg.gPoint.x,this._ImgVar("BtnDouble")._lwg.gPoint.y])}),f._loop(2e3,this,()=>{I.bomb_LeftRight(this._ImgVar("BtnDouble"),1.1,250)},!0)}),300}lwgButton(){var e=()=>{z._whereFrom="Tweeting",V._Tweeting._ins()._photo.clear(),this._closeScene("Tweeting_Dynamic"),this._closeScene(),!V._Guide._complete&&this._evNotify(R.Guide.closeGuide)};this._btnUp(this._ImgVar("BtnOk"),()=>{e()});var t=()=>{this.pitchObj.fansNum+=this.fansNum,P.createHint_Middle("太厉害了，涨粉翻倍了！"),e()};this._btnUp(this._ImgVar("BtnDouble"),()=>{V._Guide._complete?(H.TAPoint(Y.BtnClick,"ADrank"),H.ShowReward(()=>{t()})):t()})}lwgCloseAni(){return G._dialogCloseFadeOut(this._ImgVar("Content"),this._ImgVar("BackGround"),()=>{this._openScene("Ranking",!1)})}lwgOnDisable(){}}}(he||(he={})),function(e){class t extends g._Item{$awake(){}$button(){this._btnUp(this._ImgChild("Reward"),e=>{if(V._CheckIn._ins()._todayCheckIn)P.createHint_Middle("日期不对哦！");else if(V._CheckIn._ins()._checkInNum+1===this.$serial&&(V._CheckIn._ins()._lastCheckDate=y._date.date,this.$complete=!0,V._CheckIn._ins()._checkInNum++,"diy"===this.$rewardType.substr(0,3)?(V._DIYClothes._ins()._setCompleteByName(this.$rewardType),P.createHint_Middle("恭喜获得新的裁剪服装"),F._oneFireworks(new Laya.Point(e.stageX,e.stageY))):"cat"===this.$rewardType&&(V._Pattern._ins()._setCompleteByClassify(this.$rewardType),P.createHint_Middle("恭喜获得猫咪贴图一套"),F._oneFireworks(new Laya.Point(e.stageX,e.stageY))),!V._Guide._complete)){V._Guide.CheckInCloseBtn=!0;const e=this._SceneImg("Content").localToGlobal(new Laya.Point(this._SceneImg("BtnClose").x,this._SceneImg("BtnClose").y));this._evNotify(R.Guide.CheckInCloseBtn,[e.x,e.y])}V._CheckIn._ins()._refreshAndStorage()});var e=e=>{H.ShowReward(()=>{this.$otherComplete=!0,"diy"===this.$otherRewardType.substr(0,3)?(V._DIYClothes._ins()._setCompleteByName(this.$otherRewardType),P.createHint_Middle("恭喜获得新的裁剪服装")):"newYear"===this.$otherRewardType&&(V._Pattern._ins()._setCompleteByClassify(this.$otherRewardType),P.createHint_Middle("恭喜获得新年贴图一套")),F._oneFireworks(new Laya.Point(e.stageX,e.stageY))})},t=t=>{this.$otherComplete?P.createHint_Middle("日期不对哦！"):V._CheckIn._ins()._todayCheckIn?V._CheckIn._ins()._checkInNum>=this.$serial&&e(t):V._CheckIn._ins()._checkInNum+1===this.$serial&&e(t),V._CheckIn._ins()._refreshAndStorage()};this._btnUp(this._ImgChild("AdsReward"),t),this._btnUp(this._ImgChild("BtnAdsReward"),t)}$render(){this._LableChild("DayNum").text=this.$name;const e=this._ImgChild("Reward").getChildByName("Already"),t=this._ImgChild("Reward").getChildByName("Icon");"diy"===this.$rewardType.substr(0,3)?(t.skin=V._DIYClothes._ins().getDIYCutIcon(this.$rewardType),t.scale(.55,.55)):"cat"===this.$rewardType&&(t.skin=`Pattern/${this.$rewardType}1.png`,t.scale(.18,.18)),e.visible=this.$complete,this.$complete?this._ImgChild("Reward").skin="Game/UI/ChekIn/k_nei.png":V._CheckIn._ins()._checkInNum+1===this.$serial?V._CheckIn._ins()._todayCheckIn?this._ImgChild("Reward").skin="Game/UI/ChekIn/k_nei.png":this._ImgChild("Reward").skin="Game/UI/ChekIn/k_nei1.png":this._ImgChild("Reward").skin="Game/UI/ChekIn/k_nei.png";const a=this._ImgChild("AdsReward").getChildByName("Already"),i=this._ImgChild("AdsReward").getChildByName("Icon");"diy"===this.$otherRewardType.substr(0,3)?(i.skin=V._DIYClothes._ins().getDIYCutIcon(this.$otherRewardType),i.scale(.55,.55)):"newYear"===this.$otherRewardType&&(i.skin=`Pattern/${this.$otherRewardType}1.png`,i.scale(.16,.16)),a.visible=this.$otherComplete,this.$otherComplete?(this._ImgChild("AdsReward").skin="Game/UI/ChekIn/k_nei.png",this._ImgChild("BtnAdsReward").visible=!1):V._CheckIn._ins()._todayCheckIn?V._CheckIn._ins()._checkInNum>=this.$serial?this._ImgChild("AdsReward").skin="Game/UI/ChekIn/k_nei1.png":this._ImgChild("AdsReward").skin="Game/UI/ChekIn/k_nei.png":V._CheckIn._ins()._checkInNum+1===this.$serial?this._ImgChild("AdsReward").skin="Game/UI/ChekIn/k_nei1.png":this._ImgChild("AdsReward").skin="Game/UI/ChekIn/k_nei.png"}}e.CheckIn=class extends h._SceneBase{lwgOnAwake(){V._CheckIn._ins()._List=this._ListVar("List"),V._CheckIn._ins()._listRenderScript=t,V._CheckIn._ins()._List.scrollBar.touchScrollEnable=!1,this._LabelVar("ImmediatelyNum").text=`${V._CheckIn._ins()._immediately} / 4`,(V._CheckIn._ins()._immediately>=4||V._CheckIn._ins()._checkInNum>=4)&&(this._ImgVar("BtnImmediately").visible=!1,this._LabelVar("Tip").text="奖励已经全部领取！")}lwgOpenAni(){return G._dialogOpenFadeOut(this._ImgVar("Content"),this._ImgVar("Background"),()=>{this._openScene("Guide",!1,!1,()=>{this.BtnCloseClick(),!V._Guide._complete&&this._evNotify(R.Guide.CheckInGetReward,[this._ImgVar("GuideTab1")._lwg.gPoint.x,this._ImgVar("GuideTab1")._lwg.gPoint.y])})})}BtnCloseClick(){this._btnUp(this._ImgVar("BtnClose"),()=>{!V._Guide._complete&&V._Guide.CheckInCloseBtn&&(V._Guide._complete=!0,this._evNotify(R.Guide.closeGuide),this._evNotify(R.Guide.StartOtherBtnClick)),this._closeScene()})}lwgButton(){V._Guide._complete&&(this.BtnCloseClick(),this._btnUp(this._ImgVar("BtnImmediately"),()=>{V._CheckIn._ins()._immediately<4?H.ShowReward(()=>{if(V._CheckIn._ins()._immediately++,this._LabelVar("ImmediatelyNum").text=`${V._CheckIn._ins()._immediately} / 4 `,V._CheckIn._ins()._immediately>=4){this._ImgVar("BtnImmediately").visible=!1;const e=this._ImgVar("GuideTab1")._lwg.gPoint;V._CheckIn._ins()._setAllCompleteDelay(300,t=>{const a=new Laya.Point(e.x,e.y);t||F._oneFireworks(a),e.x+=165},null,null);const t=this._ImgVar("GuideTab2")._lwg.gPoint;V._CheckIn._ins()._setAllOtherCompleteDelay(300,e=>{const a=new Laya.Point(t.x,t.y);e||F._oneFireworks(a),t.x+=165},null,()=>{P.createHint_Middle("奖励已经全部获得，快去制作服装吧！")}),V._DIYClothes._ins()._setCompleteByNameArr(["diy_dress_003_final","diy_dress_007_final","diy_top_004_final","diy_bottom_005_final","diy_dress_006_final","diy_bottom_006_final"]),V._Pattern._ins()._setCompleteByClassify("cat"),V._Pattern._ins()._setCompleteByClassify("newYear")}}):P.createHint_Middle("奖励已经全部获得，无需在看广告o.o！")}))}lwgCloseAni(){return G._dialogCloseFadeOut(this._ImgVar("Content"),this._ImgVar("Background"))}}}(ce||(ce={}));class de extends N{lwgOnAwake(){_._Ues.value=_._Tpye.OPPOTest,d._closeSwitch.value=!0,d._Use.value={class:d._shutters.Close,type:d._shutters.Close._type.random},S._Use.value=S._Type.reduce,u._Use.value=[1280,720],h._Moudel={_LwgInit:T,_PreLoad:$,_PreLoadCutIn:U,_Guide:X,_Start:j,_Game:A,_MakeTailor:K,_MakePattern:ie,_MakeUp:Z,_DressingRoom:ee,_PersonalInfo:J,_Ranking:z,_Tweeting:ne,_BackHint:q,_Tweeting_Main:oe,_Tweeting_ChoosePhotos:re,_Tweeting_Dynamic:le,_Tweeting_GetFans:he,_AdsHint:se,_CheckIn:ce}}lwgOnStart(){if(TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.OPPO_AppRt){(new _e).init(),this._Owner.close()}else this._openScene("PreLoad")}}class ue extends a{constructor(){super(...arguments),this.scroll=null,this.layout=null,this.mouseDown=!1,this.lastStageX=0,this.lastStageY=0,this.targetX=0,this.cd=0}get node(){return this.owner}async OnAwake(){this.shield=TJ.Develop.Yun.Location.shield,this.scroll=this.owner.getChildByName("scroll"),this.layout=this.scroll.getChildByName("layout"),TJ.Develop.Yun.Promo.Data.ReportAwake(ue.style),this.layoutS=this.layout.addComponent(me),this.active=!1;let e=await TJ.Develop.Yun.Promo.List.Get();if(null!=e&&e.count>0&&null!=this.layoutS){if(this.shield)for(let t=0;t<Math.min(e.count,9);t++)this.layoutS.datas.push(e.Load());else for(let t=0;t<e.count;t++)this.layoutS.datas.push(e.Load());this.layoutS.Init(this.scroll.width,this.scroll.height,this.shield),this.active=!0,TJ.Develop.Yun.Promo.Data.ReportStart(ue.style),this.targetX=this.layout.x}}async OnDisable(){if(!this.shield)return;let e=await TJ.Develop.Yun.Promo.List.Get();if(null!=e&&e.count>0){this.layoutS.datas=[];for(let t=0;t<Math.min(e.count,9);t++)this.layoutS.datas.push(e.Load());this.layoutS.Redata()}}OnStart(){if(this.shield)return;let e=()=>{let e=this.layout.x-this.targetX;e>0&&e>this.layoutS.pageSpace/2?this.targetX+=this.layoutS.pageSpace:e<0&&e<-this.layoutS.pageSpace/2&&(this.targetX-=this.layoutS.pageSpace)};this.scroll.on(Laya.Event.MOUSE_DOWN,null,e=>{this.mouseDown=!0,this.lastStageX=e.stageX,this.lastStageY=e.stageY}),this.scroll.on(Laya.Event.MOUSE_OUT,null,t=>{this.mouseDown=!1,e()}),this.scroll.on(Laya.Event.MOUSE_UP,null,t=>{this.mouseDown=!1,e()}),this.scroll.on(Laya.Event.MOUSE_MOVE,null,e=>{if(this.mouseDown){let t=e.stageX-this.lastStageX;e.stageY,this.lastStageY;this.lastStageX=e.stageX,this.lastStageY=e.stageY;let a=this.layoutS.node.x+t;this.layoutS.node.x=a}})}OnUpdate(){if(!this.shield){if(this.mouseDown)this.cd=0;else{let e=Laya.timer.delta/1e3;if(this.cd+=e,this.cd>=3&&(this.cd-=3,this.targetX-=this.layoutS.pageSpace),this.layout.x!=this.targetX){let e=this.targetX-this.layout.x,t=20;e=e>0?Math.min(this.layout.x+t,this.targetX):Math.max(this.layout.x-t,this.targetX),this.layout.x=e}}this.layoutS.Repos(this.layout.x)}}}ue.style="P402";class me extends a{constructor(){super(...arguments),this.datas=[],this.items=[],this.prefab=null,this.line=0,this.column=0,this.spacingX=15,this.spacingY=15,this.pageSpace=0}get node(){return this.owner}OnAwake(){this.prefab=this.node.getChildAt(0),this.prefab.active=this.prefab.visible=!1}Init(e,t,a){for(this.node.x=this.prefab.width/2;e>=this.prefab.width;)e=e-this.prefab.width-this.spacingX,this.column++;for(;t>=this.prefab.height;)t=t-this.prefab.height-this.spacingY,this.line++;if(this.pageSpace=(this.prefab.width+this.spacingX)*this.column,a){let e=this.prefab.width,t=this.prefab.height,a=e+this.spacingX,s=t+this.spacingY;for(let e=0;e<this.line;e++)for(let o=0;o<this.column;o++)if(this.items.length<this.datas.length){let r=n.Instantiate(this.prefab).getComponent(i);this.node.addChild(r.owner),r.owner.active=r.owner.visible=!0,this.items.push(r),r.owner.x=o*a,r.owner.y=s*e+t/2,r.onAwake()}this.Redata()}else{this.datas.sort((e,t)=>t.weight-e.weight),this.column+=2;for(let e=0;e<this.column;e++)for(let e=0;e<this.line;e++){let e=n.Instantiate(this.prefab).getComponent(i);this.node.addChild(e.owner),e.owner.active=e.owner.visible=!0,this.items.push(e),e.onAwake()}}}Redata(){for(let e=0;e<this.items.length;e++){let t=this.items[e];t.data=this.datas[e],t.data.Load(),t.DoLoad()}}Repos(e){let t=this.items.length,a=this.datas.length;if(t<1)return;if(a<1)return;let i=this.prefab.width,n=this.prefab.height,s=i+this.spacingX,o=n+this.spacingY,r=-e/s;r=Math.floor(r);let l=Math.floor(r/this.column)*this.column,h=r<0?(this.column+r%this.column)%this.column:r%this.column,c=(e,t,i,r)=>{let l=(t+r)*this.line+i;if(e.posId!=l){e.posId=l,e.owner.x=(t+r)*s,e.owner.y=o*i+n/2;let h=l<0?(a+l%a)%a:l%a;e.dataId!=h&&(e.dataId=h,e.data=this.datas[h],e.data.Load(),e.DoLoad())}};for(let e=0;e<h;e++)for(let t=0;t<this.line;t++)c(this.items[e*this.line+t],l+this.column,t,e);for(let e=h;e<this.column;e++)for(let t=0;t<this.line;t++)c(this.items[e*this.line+t],l,t,e)}}class ge extends Laya.Script{onAwake(){}onStart(){}}class pe extends Laya.Script{constructor(){super(...arguments),this.icon=null,this.image=null,this.logo=null,this.title=null,this.desc=null}onStart(){this.ShowNext()}ShowNext(){this.data=TJ.API.AdService.LoadNative(new TJ.API.AdService.Param),null!=this.data&&(this.data.OnShow(),this.title.text=this.data.title,this.desc.text=this.data.desc,this.icon.skin=this.data.iconUrl,this.image.skin=this.data.imgUrl,this.logo.skin=this.data.logoUrl)}onClick(){null!=this.data&&this.data.OnClick(),setTimeout(()=>{this.ShowNext()},1e3)}}class ye extends Laya.Script{onAwake(){let e=this.owner.getChildByName("pay1"),t=this.owner.getChildByName("pay2"),a=this.owner.getChildByName("pay3"),i=this.owner.getChildByName("restore"),n=this.owner.getChildByName("review"),s=this.owner.getChildByName("banner"),o=this.owner.getChildByName("normal"),r=this.owner.getChildByName("reward"),l=this.owner.getChildByName("vibrateShort"),h=this.owner.getChildByName("vibrateLong"),c=this.owner.getChildByName("userAgreement"),_=this.owner.getChildByName("privacyPolicy");e.clickHandler=new Laya.Handler(null,()=>{this.Pay1()}),t.clickHandler=new Laya.Handler(null,()=>{this.Pay2()}),a.clickHandler=new Laya.Handler(null,()=>{this.Pay3()}),i.clickHandler=new Laya.Handler(null,()=>{this.Restore()}),n.clickHandler=new Laya.Handler(null,()=>{this.Review()}),s.clickHandler=new Laya.Handler(null,()=>{this.Banner()}),o.clickHandler=new Laya.Handler(null,()=>{this.Normal()}),r.clickHandler=new Laya.Handler(null,()=>{this.Reward()}),l.clickHandler=new Laya.Handler(null,()=>{this.VibrateShort()}),h.clickHandler=new Laya.Handler(null,()=>{this.VibrateLong()}),c.clickHandler=new Laya.Handler(null,()=>{this.UserAgreement()}),_.clickHandler=new Laya.Handler(null,()=>{this.PrivacyPolicy()})}onStart(){switch(null!=window.conch&&window.conch.setOnBackPressedFunction(()=>{TJ.API.AppCtl.Quit()}),console.log(TJ.API.AppInfo.ProductName()),console.log(TJ.API.AppInfo.PackageName()),console.log(TJ.API.AppInfo.VersionName()),console.log(TJ.API.AppInfo.VersionCode()),console.log(TJ.API.AppInfo.Channel()),console.log(TJ.API.Billing.Exist()),console.log(TJ.API.AdService.Exist()),TJ.Engine.RuntimeInfo.platform){case TJ.Define.Platform.Android:case TJ.Define.Platform.iOS:case TJ.Define.Platform.AppRt:}switch(TJ.API.AppInfo.Channel()){case TJ.Define.Channel.Android.oppo:case TJ.Define.Channel.AppRt.ZJTD_AppRt:}this.Event()}Event(){let e=new TJ.API.Analytics.Param;e.id="eventName",e.dic.extraParam1=1,e.dic.extraParam2="2",TJ.API.Analytics.Event(e)}Pay1(){let e=new TJ.API.Billing.Param;e.product.price=.01,e.product.name="测试计费点1分",e.product.description="这是一个一分钱的测试计费点",e.cbi.Add(TJ.Define.Event.Reward,()=>{console.log("支付成功")}),e.cbi.Add(TJ.Define.Event.NoReward,()=>{console.log("支付失败")}),TJ.API.Billing.Purchase(e)}Pay2(){let e=new TJ.API.Billing.Param;e.product.price=.1,e.product.name="测试计费点1角",e.product.description="这是一个一角钱的测试计费点",e.cbi.Add(TJ.Define.Event.Reward,()=>{console.log("支付成功")}),e.cbi.Add(TJ.Define.Event.NoReward,()=>{console.log("支付失败")}),TJ.API.Billing.Purchase(e)}Pay3(){let e=new TJ.API.Billing.Param;e.product.price=1,e.product.name="测试计费点1元",e.product.description="这是一个一元钱的测试计费点",e.cbi.Add(TJ.Define.Event.Reward,()=>{console.log("支付成功")}),e.cbi.Add(TJ.Define.Event.NoReward,()=>{console.log("支付失败")}),TJ.API.Billing.Purchase(e)}Restore(){let e=new TJ.API.Billing.Param;e.cbi.Add(TJ.Define.Event.Complete,e=>{for(let t of e)console.log("restore = "+t.product.name+" = "+t.product.id),TJ.API.Billing.Consume(t)}),TJ.API.Billing.QueryAll(e)}Review(){TJ.API.AppCtl.Review()}VibrateShort(){TJ.API.Vibrate.Short()}VibrateLong(){TJ.API.Vibrate.Long()}Vibrate(){TJ.API.Vibrate.Time(.1)}UserAgreement(){TJ.API.AppCtl.UserAgreement()}PrivacyPolicy(){TJ.API.AppCtl.PrivacyPolicy()}AppCtl(){TJ.API.AppCtl.Quit()}Banner(){let e=new TJ.API.AdService.Param;e.place=TJ.API.AdService.Place.BOTTOM|TJ.API.AdService.Place.CENTER,TJ.API.AdService.ShowBanner(e)}Normal(){let e=new TJ.API.AdService.Param;TJ.API.AdService.ShowNormal(e)}Reward(){let e=new TJ.API.AdService.Param;e.extraAd=!0,e.cbi.Add(TJ.Define.Event.Reward,()=>{console.log("发放奖励")}),e.cbi.Add(TJ.Define.Event.NoAds,()=>{console.log("没有广告")}),TJ.API.AdService.ShowReward(e)}Native(){let e=TJ.API.AdService.LoadNative(new TJ.API.AdService.Param);null!=e&&(e.title,e.desc,e.iconUrl,e.imgUrl,e.logoUrl,e.OnShow(),e.OnClick())}}class fe extends Laya.Script{constructor(){super(...arguments),this.target=null}onClick(){this.target.active=this.target.visible=!0}}class we extends a{constructor(){super(...arguments),this.promoList=null,this.itemList=[],this.scroll=null,this.layout=null,this.prefab=null,this.paddingTop=10,this.paddingBottom=10,this.line=0,this.column=0,this.toTop=!1,this.showing=[]}async OnAwake(){this.scroll=this.owner.getChildByName("scroll"),this.layout=this.scroll.getChildByName("layout"),this.prefab=this.layout.getCell(0);let e=this.owner.width-this.paddingTop-this.paddingBottom;for(;e>=this.prefab.width;)e=e-this.prefab.width-this.layout.spaceX,this.column++;if(TJ.Develop.Yun.Promo.Data.ReportAwake(we.style),this.active=!1,this.promoList=await TJ.Develop.Yun.Promo.List.Get(we.style),this.promoList.count>0){TJ.Develop.Yun.Promo.Data.ReportStart(we.style),this.line=Math.ceil(this.promoList.count/this.column),this.layout.repeatX=this.column,this.layout.repeatY=this.line;for(let e=0;e<this.layout.cells.length;e++){let t=this.layout.getCell(e);if(e<this.promoList.count){let e=t.getComponent(i);null!=e&&(this.itemList.push(e),e.style=we.style,e.onAwake()),a.SetActive(t,!0)}else a.SetActive(t,!1)}this.line=Math.ceil(this.itemList.length/this.column);let e=this.paddingTop+this.paddingBottom;e+=this.prefab.height*this.line+this.layout.spaceY*(this.line-1),this.layout.height=e,this.scroll.height<this.layout.height&&(this.scroll.vScrollBarSkin="",this.scroll.vScrollBar.rollRatio=0);for(let e of this.itemList)this.LoadIcon(e);this.active=!0}else this.owner.destroy()}async OnDisable(){this.promoList=await TJ.Develop.Yun.Promo.List.Get(we.style);for(let e of this.itemList)this.LoadIcon(e)}get maxTop(){return 0}get maxBottom(){let e=this.paddingTop+this.paddingBottom;return e+=this.prefab.height*this.line+this.layout.spaceY*(this.line-1)-this.scroll.height}get scrollValue(){return null!=this.scroll.vScrollBar?this.scroll.vScrollBar.value:0}set scrollValue(e){null!=this.scroll.vScrollBar&&(this.scroll.vScrollBar.value=e)}OnUpdate(){let e=Laya.timer.delta/1e3;this.scroll.height<this.layout.height?(this.scrollValue<=this.maxTop?this.toTop=!1:this.scrollValue>=this.maxBottom&&(this.toTop=!0),this.toTop?this.scrollValue-=50*e:this.scrollValue+=50*e):this.scrollValue=this.maxTop,this.CheckShow()}LoadIcon(e){let t=this.promoList.Load();return null!=t&&(this.promoList.Unload(e.data),e.data=t,e.onClick_=(e=>{this.LoadAndShowIcon(e)}),e.DoLoad(),e.infoText.text=1+Math.floor(40*Math.random())/10+"w人在玩"),t}LoadAndShowIcon(e){null!=this.LoadIcon(e)&&e.OnShow()}CheckShow(){for(let e of this.itemList){let t=this.showing.indexOf(e),a=e.owner;Math.abs(-a.y-this.paddingTop-this.prefab.height/2+this.scrollValue+this.scroll.height/2)<this.scroll.height/2?t<0&&(this.showing.push(e),e.OnShow()):t>=0&&this.showing.splice(t,1)}}}we.style="P202";class Ce extends a{constructor(){super(...arguments),this.promoList=null,this.itemList=[],this.layout=null}async OnAwake(){if(this.layout=this.owner.getChildByName("layout"),this.owner.getChildByName("close").clickHandler=new Laya.Handler(null,()=>{this.OnClose()}),TJ.Develop.Yun.Promo.Data.ReportAwake(Ce.style),this.active=!1,this.promoList=await TJ.Develop.Yun.Promo.List.Get(Ce.style),this.promoList.count>0){TJ.Develop.Yun.Promo.Data.ReportStart(Ce.style);for(let e=0;e<this.layout.cells.length;e++){let t=this.layout.getCell(e);if(e<this.promoList.count){let e=t.getComponent(i);null!=e&&(this.itemList.push(e),e.style=Ce.style,e.onAwake()),t.active=t.visible=!0}else t.active=t.visible=!1}for(let e of this.itemList)this.LoadIcon(e);this.active=!0}else this.owner.destroy()}OnEnable(){for(let e of this.itemList)e.OnShow()}async OnDisable(){this.promoList=await TJ.Develop.Yun.Promo.List.Get(Ce.style);for(let e of this.itemList)this.LoadIcon(e)}LoadIcon(e){let t=this.promoList.Load();return null!=t&&(this.promoList.Unload(e.data),e.data=t,e.onClick_=(e=>{this.LoadAndShowIcon(e)}),e.DoLoad()),t}LoadAndShowIcon(e){null!=this.LoadIcon(e)&&e.OnShow()}OnClose(){let e=this.owner;e.active=e.visible=!1}}Ce.style="P103";class Se extends a{constructor(){super(...arguments),this.promoList=null,this.itemList=[],this.scroll=null,this.layout=null,this.prefab=null,this.paddingLeft=20,this.paddingRight=20,this.toLeft=!1,this.showing=[]}async OnAwake(){this.scroll=this.owner.getChildByName("scroll"),this.layout=this.scroll.getChildByName("layout"),this.prefab=this.layout.getCell(0),TJ.Develop.Yun.Promo.Data.ReportAwake(Se.style),this.active=!1;let e=await TJ.Develop.Yun.Promo.List.Get(Se.style);if(null==this.promoList&&(this.promoList=e),this.promoList.count>0){TJ.Develop.Yun.Promo.Data.ReportStart(Se.style),this.layout.repeatX=this.promoList.count;for(let e=0;e<this.layout.cells.length;e++){let t=this.layout.getCell(e);if(e<this.promoList.count){let e=t.getComponent(i);null!=e&&(this.itemList.push(e),e.style=Se.style,e.onAwake()),t.active=t.visible=!0}else t.active=t.visible=!1}let e=this.paddingLeft+this.paddingRight;e+=this.prefab.width*this.itemList.length+this.layout.spaceX*(this.itemList.length-1),this.layout.width=e,this.scroll.width<this.layout.width&&(this.scroll.hScrollBarSkin="",this.scroll.hScrollBar.rollRatio=0),this.layout.width=e;for(let e of this.itemList)this.LoadIcon(e);this.active=!0}else this.owner.destroy()}get maxLeft(){return 0}get maxRight(){return this.scroll.hScrollBar.max}get scrollValue(){return null!=this.scroll.hScrollBar?this.scroll.hScrollBar.value:0}set scrollValue(e){null!=this.scroll.hScrollBar&&(this.scroll.hScrollBar.value=e)}OnUpdate(){let e=Laya.timer.delta/1e3;this.scroll.width<this.layout.width?(this.scrollValue>=this.maxRight?this.toLeft=!0:this.scrollValue<=this.maxLeft&&(this.toLeft=!1),this.toLeft?this.scrollValue-=50*e:this.scrollValue+=50*e):this.layout.x=this.maxLeft,this.CheckShow()}LoadIcon(e){let t=this.promoList.Load();if(null!=t){this.promoList.Unload(e.data),e.data=t,e.onClick_=(e=>{this.LoadIcon(e)}),e.DoLoad();let a=this.showing.indexOf(e);a>=0&&this.showing.splice(a,1)}return t}CheckShow(){for(let e of this.itemList){let t=e.owner,a=Math.abs(t.x-this.scrollValue-this.scroll.width/2+t.width/2+this.layout.spaceX),i=this.showing.indexOf(e);a<this.scroll.width/2?i<0&&(this.showing.push(e),e.OnShow()):i>=0&&this.showing.splice(i,1)}}}Se.style="P204";class Le extends a{constructor(){super(...arguments),this.promoList=null,this.itemList=[],this.scroll=null,this.layout=null,this.prefab=null,this.paddingTop=10,this.paddingBottom=10,this.move=null,this.show=null,this.hide=null,this.maxX=620,this.line=0,this.column=0,this.targetX=0,this.showing=[]}async OnAwake(){this.move=this.owner.getChildByName("move");let e=this.move.getChildByName("button");this.show=e.getChildByName("show"),this.hide=e.getChildByName("hide");let t=this.move.getChildByName("board");this.scroll=t.getChildByName("scroll"),this.layout=this.scroll.getChildByName("layout"),this.prefab=this.layout.getCell(0),this.show.clickHandler=new Laya.Handler(null,()=>{this.Show()}),this.hide.clickHandler=new Laya.Handler(null,()=>{this.Hide()});let a=this.scroll.width-this.paddingTop-this.paddingBottom;for(;a>=this.prefab.width;)a=a-this.prefab.width-this.layout.spaceX,this.column++;if(TJ.Develop.Yun.Promo.Data.ReportAwake(Le.style),this.show.parent.scaleX<0&&(this.maxX=-this.maxX),TJ.API.AppInfo.Channel()!=TJ.Define.Channel.AppRt.ZJTD_AppRt)if(this.active=!1,this.promoList=await TJ.Develop.Yun.Promo.List.Get(Le.style),this.promoList.count>0){TJ.Develop.Yun.Promo.Data.ReportStart(Le.style),this.line=Math.ceil(this.promoList.count/this.column),this.layout.repeatX=this.column,this.layout.repeatY=this.line;for(let e=0;e<this.layout.cells.length;e++){let t=this.layout.getCell(e);if(e<this.promoList.count){let e=t.getComponent(i);null!=e&&(this.itemList.push(e),e.style=Le.style,e.onAwake()),t.active=t.visible=!0}else t.active=t.visible=!1}this.line=Math.ceil(this.itemList.length/this.column);let e=this.paddingTop+this.paddingBottom;e+=this.prefab.height*this.line+this.layout.spaceY*(this.line-1),this.layout.height=e,this.scroll.height<this.layout.height&&(this.scroll.vScrollBarSkin="",this.scroll.vScrollBar.rollRatio=0);for(let e of this.itemList)this.LoadIcon(e);this.active=!0}else this.owner.destroy()}get scrollValue(){return null!=this.scroll.vScrollBar?this.scroll.vScrollBar.value:0}set scrollValue(e){null!=this.scroll.vScrollBar&&(this.scroll.vScrollBar.value=e)}LoadIcon(e){let t=this.promoList.Load();return null!=t&&(this.promoList.Unload(e.data),e.data=t,e.onClick_=(e=>{this.LoadAndShowIcon(e)}),e.DoLoad()),t}LoadAndShowIcon(e){null!=this.LoadIcon(e)&&e.OnShow()}Show(){if(TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.ZJTD_AppRt){let e=new TJ.API.Promo.Param;return e.extraData={TJ_App:TJ.API.AppInfo.AppGuid()},void TJ.API.Promo.Pop(e)}this.targetX=this.maxX,this.show.active=this.show.visible=!1,this.hide.active=this.hide.visible=!0,this.scrollValue=0}Hide(){this.targetX=0,this.showing=[]}OnUpdate(){let e=Laya.timer.delta/1e3;if(this.move.centerX!=this.targetX){let t=this.targetX-this.move.centerX,a=3e3*e;t=t>0?Math.min(this.move.centerX+a,this.targetX):Math.max(this.move.centerX-a,this.targetX),this.move.centerX=t,0==this.move.centerX&&(this.show.active=this.show.visible=!0,this.hide.active=this.hide.visible=!1,window.setTimeout(async()=>{this.promoList=await TJ.Develop.Yun.Promo.List.Get(Le.style);for(let e of this.itemList)this.LoadIcon(e)},0))}else this.move.centerX==this.maxX&&this.CheckShow()}CheckShow(){for(let e of this.itemList){let t=this.showing.indexOf(e),a=e.owner;Math.abs(-a.y-this.paddingTop-this.prefab.height/2+this.scrollValue+this.scroll.height/2)<this.scroll.height/2?t<0&&(this.showing.push(e),e.OnShow()):t>=0&&this.showing.splice(t,1)}}}Le.style="P205";class be extends a{constructor(){super(...arguments),this.promoList=null,this.itemList=[],this.layout=null,this.showing=[]}async OnAwake(){this.scrollView=this.owner.getChildByName("scroll"),this.layout=this.scrollView.getChildByName("layout"),this.scrollView.vScrollBarSkin="",this.owner.getChildByName("close").clickHandler=new Laya.Handler(null,()=>{this.OnClose()}),TJ.Develop.Yun.Promo.Data.ReportAwake(be.style),this.active=!1;let e=await TJ.Develop.Yun.Promo.List.Get(be.style);if(null==this.promoList&&(this.promoList=e),this.promoList.count>0){TJ.Develop.Yun.Promo.Data.ReportStart(be.style),this.layout.repeatY=this.promoList.count;let e=0;for(let t=0;t<this.layout.cells.length;t++){let n=this.layout.getCell(t);if(t<this.promoList.count){let e=n.getComponent(i);null!=e&&(this.itemList.push(e),e.style=be.style,e.onAwake()),a.SetActive(n,!0)}else a.SetActive(n,!1);t>0&&(e+=this.layout.spaceY),e+=n.height}this.layout.height=e;for(let e of this.itemList)this.LoadIcon(e);this.active=!0}else this.owner.destroy()}OnEnable(){this.scrollValue=0}async OnDisable(){this.promoList=await TJ.Develop.Yun.Promo.List.Get(be.style);for(let e of this.itemList)this.LoadIcon(e)}OnUpdate(){this.CheckShow()}LoadIcon(e){let t=this.promoList.Load();if(null!=t){this.promoList.Unload(e.data),e.data=t,e.onClick_=(e=>{this.LoadIcon(e)}),e.DoLoad();let a=this.showing.indexOf(e);a>=0&&this.showing.splice(a,1)}return t}get scrollValue(){return null!=this.scrollView.vScrollBar?this.scrollView.vScrollBar.value:0}set scrollValue(e){null!=this.scrollView.vScrollBar&&(this.scrollView.vScrollBar.value=e)}CheckShow(){for(let e of this.itemList){let t=e.owner,a=Math.abs(t.y-this.scrollValue-this.scrollView.height/2+t.height/2+this.layout.spaceY),i=this.showing.indexOf(e);a<this.scrollView.height/2?i<0&&(this.showing.push(e),e.OnShow()):i>=0&&this.showing.splice(i,1)}}OnClose(){let e=this.owner;e.active=e.visible=!1}}be.style="P106";class ve extends a{constructor(){super(...arguments),this.layoutsNode=null,this.layouts=[]}get node(){return this.owner}async OnAwake(){this.layoutsNode=this.node.getChildByName("lines"),TJ.Develop.Yun.Promo.Data.ReportAwake(ve.style);for(let e=0;e<this.layoutsNode.numChildren;e++)this.layouts.push(this.layoutsNode.getChildAt(e).addComponent(Pe));this.active=!1;let e=await TJ.Develop.Yun.Promo.Data.LoadList();if(null!=e&&e.length>0){let t=new TJ.Common.WWW("http://h5.tomatojoy.cn/res/659827d1-d6a0-8248-c5ec-849bda0841a5/promo/cftest.json");if(await t.Send(),null!=t.text){let a=JSON.parse(t.text);for(let t=0;t<this.layouts.length;t++)if(t<a.P302.length){for(let i=0;i<a.P302[t].length;i++){e.find(e=>e.promoGuid==a.P302[t][i])}this.layouts[t].Init(this.node.width)}else this.layouts[t].node.active=!1;this.active=!0,TJ.Develop.Yun.Promo.Data.ReportStart(ve.style)}else this.owner.destroy()}else this.owner.destroy()}OnUpdate(){this.layoutsNode.x-=.8;for(let e of this.layouts)e.node.active&&e.Refresh(this.layoutsNode.x)}}ve.style="P302";class Pe extends a{constructor(){super(...arguments),this.datas=[],this.items=[],this.prefab=null}get node(){return this.owner}OnAwake(){this.prefab=this.node.getChildAt(0),this.prefab.active=this.prefab.visible=!1}Init(e){let t=e/(this.prefab.width+13);t=Math.ceil(t)+3;let a=0;for(;e>=this.prefab.width;)e=e-this.prefab.width-13,a++;a+=3;for(let e=0;e<a;e++){let e=n.Instantiate(this.prefab).getComponent(i);this.node.addChild(e.owner),e.owner.active=e.owner.visible=!0,this.items.push(e),e.onAwake()}}Refresh(e){let t=this.items.length,a=this.datas.length;if(t<1)return;if(a<1)return;let i=this.prefab.width+13,n=-e/i;n=Math.floor(n);let s=Math.floor(n/t)*t,o=n<0?(t+n%t)%t:n%t,r=(e,t)=>{if(e.posId!=t){e.posId=t,e.owner.x=t*i-this.prefab.width/2;let n=(t-=1)<0?(a+t%a)%a:t%a;e.dataId!=n&&(e.dataId=n,e.data=this.datas[n],e.data.Load(),e.DoLoad())}};for(let e=0;e<o;e++)r(this.items[e],s+t+e);for(let e=o;e<t;e++)r(this.items[e],s+e)}}class Ie extends a{constructor(){super(...arguments),this.promoList=null,this.scroll=null,this.layout=null,this.paddingTop=10,this.paddingBottom=10,this.move=null,this.show=null,this.hide=null,this.maxX=580,this.mouseDown=!1,this.lastStageX=0,this.lastStageY=0,this.targetX=0,this.showing=[]}async OnAwake(){this.move=this.owner.getChildByName("move");let e=this.move.getChildByName("button");this.show=e.getChildByName("show"),this.hide=e.getChildByName("hide");let t=this.move.getChildByName("board");if(this.scroll=t.getChildByName("scroll"),this.layout=this.scroll.getChildByName("layout"),TJ.Develop.Yun.Promo.Data.ReportAwake(Ie.style),this.show.clickHandler=new Laya.Handler(null,()=>{this.Show()}),this.hide.clickHandler=new Laya.Handler(null,()=>{this.Hide()}),this.layoutS=this.layout.addComponent(xe),this.show.parent.scaleX<0&&(this.maxX=-this.maxX),TJ.API.AppInfo.Channel()!=TJ.Define.Channel.AppRt.ZJTD_AppRt)if(this.active=!1,this.promoList=await TJ.Develop.Yun.Promo.List.Get(),this.promoList.count>0)if(null!=this.layoutS){for(let e=0;e<this.promoList.count;e++)this.layoutS.datas.push(this.promoList.Load());this.layoutS.Init(this.scroll.width,this.scroll.height),this.active=!0,TJ.Develop.Yun.Promo.Data.ReportStart(Ie.style)}else this.owner.destroy();else this.owner.destroy()}OnStart(){this.scroll.on(Laya.Event.MOUSE_DOWN,null,e=>{this.mouseDown=!0,this.lastStageX=e.stageX,this.lastStageY=e.stageY}),this.scroll.on(Laya.Event.MOUSE_OUT,null,e=>{this.mouseDown=!1}),this.scroll.on(Laya.Event.MOUSE_UP,null,e=>{this.mouseDown=!1}),this.scroll.on(Laya.Event.MOUSE_MOVE,null,e=>{if(this.mouseDown){e.stageX,this.lastStageX;let t=e.stageY-this.lastStageY;this.lastStageX=e.stageX,this.lastStageY=e.stageY;let a=this.layoutS.node.y+t;this.layoutS.node.y=a}})}Show(){if(TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.ZJTD_AppRt){let e=new TJ.API.Promo.Param;return e.extraData={TJ_App:TJ.API.AppInfo.AppGuid()},void TJ.API.Promo.Pop(e)}this.targetX=this.maxX,this.show.active=this.show.visible=!1,this.hide.active=this.hide.visible=!0,this.layout.y=0}Hide(){this.targetX=0,this.showing=[]}OnUpdate(){let e=Laya.timer.delta/1e3;if(this.move.centerX!=this.targetX){let t=this.targetX-this.move.centerX,a=3e3*e;t=t>0?Math.min(this.move.centerX+a,this.targetX):Math.max(this.move.centerX-a,this.targetX),this.move.centerX=t,0==this.move.centerX&&(this.show.active=this.show.visible=!0,this.hide.active=this.hide.visible=!1)}else this.move.centerX==this.maxX&&(this.layout.y-=.8);this.layoutS.Refresh(this.layout.y)}}Ie.style="P305";class xe extends a{constructor(){super(...arguments),this.datas=[],this.items=[],this.prefab=null,this.line=0,this.column=0}get node(){return this.owner}OnAwake(){this.prefab=this.node.getChildAt(0),this.prefab.active=this.prefab.visible=!1}Init(e,t){for(;e>=this.prefab.width;)e=e-this.prefab.width-15,this.column++;for(;t>=this.prefab.height;)t=t-this.prefab.height-10,this.line++;this.line+=2;for(let e=0;e<this.line;e++)for(let e=0;e<this.column;e++){let e=n.Instantiate(this.prefab).getComponent(i);this.node.addChild(e.owner),e.owner.active=e.owner.visible=!0,this.items.push(e),e.onAwake()}}Refresh(e){let t=this.items.length,a=this.datas.length;if(t<1)return;if(a<1)return;let i=this.prefab.height+10,n=this.prefab.width+15,s=-e/i;s=Math.floor(s);let o=Math.floor(s/this.line)*this.line,r=s<0?(this.line+s%this.line)%this.line:s%this.line,l=(e,t,s,o)=>{let r=t+s*this.column+o;if(e.posId!=r){e.posId=r,e.owner.x=n*o+this.prefab.width/2,e.owner.y=(t+s)*i+this.prefab.height/2;let l=r<0?(a+r%a)%a:r%a;e.dataId!=l&&(e.dataId=l,e.data=this.datas[l],e.data.Load(),e.DoLoad())}};for(let e=0;e<r;e++)for(let t=0;t<this.column;t++)l(this.items[e*this.column+t],o+this.line,e,t);for(let e=r;e<this.line;e++)for(let t=0;t<this.column;t++)l(this.items[e*this.column+t],o,e,t)}}var Be,ke=Laya.Scene,Te=Laya.ClassUtils.regClass;!function(e){!function(e){class t extends ke{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("test/TestScene")}}e.TestSceneUI=t,Te("ui.test.TestSceneUI",t)}(e.test||(e.test={}))}(Be||(Be={}));class Ne extends Be.test.TestSceneUI{constructor(){super(),this.newScene=Laya.stage.addChild(new Laya.Scene3D);var e=this.newScene.addChild(new Laya.Camera(0,.1,100));e.transform.translate(new Laya.Vector3(0,6,9.5)),e.transform.rotate(new Laya.Vector3(-15,0,0),!0,!1);var t=new Laya.DirectionLight;this.newScene.addChild(t),t.color=new Laya.Vector3(.6,.6,.6);var a=t.transform.worldMatrix;a.setForward(new Laya.Vector3(-1,-1,-1)),t.transform.worldMatrix=a;var i=this.newScene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(10,10,10,10))),n=new Laya.BlinnPhongMaterial;Laya.Texture2D.load("res/grass.png",Laya.Handler.create(this,function(e){n.albedoTexture=e}));var s=n.tilingOffset;s.setValue(5,5,0,0),n.tilingOffset=s,i.meshRenderer.material=n;var o=i.addComponent(Laya.PhysicsCollider),r=new Laya.BoxColliderShape(10,0,10);o.colliderShape=r,o.friction=2,o.restitution=.3,this.mat1=new Laya.BlinnPhongMaterial,Laya.Texture2D.load("res/wood.jpg",Laya.Handler.create(this,function(e){this.mat1.albedoTexture=e,Laya.timer.once(100,this,function(){this.addBox()})}))}addBox(){var e=this.newScene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(.75,.5,.5)));e.meshRenderer.material=this.mat1;var t=e.transform,a=t.position;a.setValue(0,10,0),t.position=a;var i=e.addComponent(Laya.Rigidbody3D),n=new Laya.BoxColliderShape(.75,.5,.5);i.colliderShape=n,i.mass=10}}class Ae{constructor(){}static init(){var a=Laya.ClassUtils.regClass;a("TJ/NativeAd.ts",e),a("TJ/Promo/script/ButtonScale.ts",t),a("TJ/Promo/script/PromoItem.ts",i),a("TJ/Promo/script/P405.ts",o),a("TJ/Promo/script/P201.ts",l),a("script/Lwg/LwgInit.ts",de),a("TJ/Promo/script/P402.ts",ue),a("script/Lwg/UISubpackages.ts",ge),a("nativeAd.ts",pe),a("demo.ts",ye),a("TJ/Promo/script/PromoOpen.ts",fe),a("TJ/Promo/script/P202.ts",we),a("TJ/Promo/script/P103.ts",Ce),a("TJ/Promo/script/P204.ts",Se),a("TJ/Promo/script/P205.ts",Le),a("TJ/Promo/script/P106.ts",be),a("TJ/Promo/script/P302.ts",ve),a("TJ/Promo/script/P305.ts",Ie),a("script/GameUI.ts",Ne)}}Ae.width=1280,Ae.height=720,Ae.scaleMode="fixedheight",Ae.screenMode="horizontal",Ae.alignV="top",Ae.alignH="left",Ae.startScene="Scene/LwgInit.scene",Ae.sceneRoot="",Ae.debug=!1,Ae.stat=!1,Ae.physicsDebug=!1,Ae.exportSceneToJson=!0,Ae.init();new class{constructor(){window.Laya3D?Laya3D.init(Ae.width,Ae.height):Laya.init(Ae.width,Ae.height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=Ae.scaleMode,Laya.stage.screenMode=Ae.screenMode,Laya.stage.alignV=Ae.alignV,Laya.stage.alignH=Ae.alignH,Laya.URL.exportSceneToJson=Ae.exportSceneToJson,(Ae.debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),Ae.physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),Ae.stat&&Laya.Stat.show(),Laya.alertGlobalError=!0,Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}onVersionLoaded(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))}onConfigLoaded(){Ae.startScene&&Laya.Scene.open(Ae.startScene)}}}();